2025-09-24 17:27:58 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-24 17:27:58 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-24 17:28:21 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-24 17:28:21 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-24 17:32:14 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-24 17:32:14 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-24 17:33:21 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-24 17:33:21 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-24 17:35:01 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-24 17:35:01 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-24 17:49:49 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-24 17:49:49 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-24 17:51:59 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-24 17:51:59 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-24 18:00:38 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-24 18:00:38 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-24 18:02:10 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-24 18:02:10 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-24 18:03:55 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-24 18:03:55 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-24 18:06:31 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-24 18:06:31 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-24 18:09:43 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-24 18:09:43 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-24 18:10:51 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-24 18:10:51 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-24 18:37:48 | INFO     | dental_system.supabase.auth | sign_in:71 | üîê Autenticando usuario: gerente@odontomara.com
2025-09-24 18:37:48 | INFO     | dental_system.supabase.auth | sign_in:84 | ‚úÖ Autenticaci√≥n con Supabase exitosa para: gerente@odontomara.com
2025-09-24 18:37:48 | INFO     | dental_system.supabase.auth | sign_in:87 | üîç Buscando usuario en BD con auth_user_id: 8046caa1-add0-4391-a048-d47e3aedf637
2025-09-24 18:37:48 | INFO     | dental_system.supabase.tablas.usuarios | get_by_auth_id:255 | Buscando usuario con auth_user_id: 8046caa1-add0-4391-a048-d47e3aedf637
2025-09-24 18:37:49 | INFO     | dental_system.supabase.tablas.usuarios | get_by_auth_id:258 | Usuario encontrado: True
2025-09-24 18:37:49 | INFO     | dental_system.supabase.auth | sign_in:94 | ‚úÖ Usuario encontrado en BD: gerente@odontomara.com
2025-09-24 18:37:49 | INFO     | dental_system.supabase.auth | sign_in:97 | üìã Obteniendo informaci√≥n b√°sica del usuario: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-24 18:37:49 | INFO     | dental_system.supabase.tablas.usuarios | get_user_basic_info:264 | Obteniendo info b√°sica del usuario: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-24 18:37:49 | INFO     | dental_system.supabase.tablas.base | get_by_id:69 | Obteniendo registro 25356728-1a6e-4cb4-b466-b2b9a31e11ca de usuarios
2025-09-24 18:37:49 | INFO     | dental_system.supabase.tablas.usuarios | get_user_basic_info:279 | Usuario con rol obtenido: gerente@odontomara.com - gerente
2025-09-24 18:37:49 | INFO     | dental_system.supabase.auth | sign_in:104 | ‚úÖ Informaci√≥n del usuario obtenida - Rol: gerente
2025-09-24 18:37:49 | INFO     | dental_system.supabase.auth | sign_in:107 | ‚è∞ Actualizando √∫ltimo acceso para: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-24 18:37:49 | INFO     | dental_system.supabase.auth | sign_in:110 | üéâ Inicio de sesi√≥n completado exitosamente para: gerente@odontomara.com
2025-09-24 18:37:49 | INFO     | dental_system.services.dashboard_service | get_dashboard_stats:54 | üöÄ Obteniendo stats optimizadas para rol: gerente
2025-09-24 18:37:50 | ERROR    | dental_system.services.dashboard_service | _fetch_cached_manager_stats:253 | ‚ùå Error obteniendo stats cacheadas del gerente: {'message': 'column pagos.monto_pagado does not exist', 'code': '42703', 'hint': 'Perhaps you meant to reference the column "pagos.monto_pagado_bs".', 'details': None}
2025-09-24 18:37:50 | INFO     | dental_system.supabase.tablas.personal | get_filtered_personal:139 | ‚úÖ Personal obtenido desde vista: 5 registros
2025-09-24 18:37:50 | INFO     | dental_system.state.estado_personal | cargar_lista_personal:321 | ‚úÖ Lista personal cargada: 5 empleados
2025-09-24 18:37:50 | INFO     | dental_system.supabase.tablas.personal | get_filtered_personal:139 | ‚úÖ Personal obtenido desde vista: 5 registros
2025-09-24 18:37:50 | INFO     | dental_system.services.personal_service | get_personal_stats:543 | ‚úÖ Estad√≠sticas personal calculadas: {'total': 5, 'activos': 5, 'odontologos': 2, 'administradores': 1, 'asistentes': 1, 'gerentes': 1}
2025-09-24 18:37:50 | INFO     | dental_system.state.estado_personal | cargar_estadisticas_personal:358 | ‚úÖ Estad√≠sticas de personal actualizadas
2025-09-24 18:37:50 | INFO     | dental_system.services.consultas_service | get_today_consultations:43 | Obteniendo consultas del d√≠a
2025-09-24 18:37:50 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:527 | Obteniendo consultas del d√≠a 2025-09-24 usando vista optimizada
2025-09-24 18:37:50 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:540 | Vista no disponible, usando query optimizada manual
2025-09-24 18:37:50 | INFO     | dental_system.services.consultas_service | get_today_consultations:76 | ‚úÖ Consultas del d√≠a obtenidas: 10 registros
2025-09-24 18:37:50 | INFO     | dental_system.state.estado_consultas | cargar_lista_consultas:1252 | ‚úÖ 10 consultas cargadas
2025-09-24 18:37:50 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 10 registros
2025-09-24 18:37:50 | INFO     | dental_system.state.estado_servicios | cargar_servicios_basico:978 | ‚úÖ 10 servicios cargados
2025-09-24 18:37:50 | INFO     | dental_system.supabase.tablas.pagos | get_consultas_pendientes_facturacion:612 | No hay consultas pendientes de facturaci√≥n
2025-09-24 18:37:50 | INFO     | dental_system.services.pagos_service | get_consultas_pendientes_pago:728 | ‚úÖ 0 consultas pendientes de pago obtenidas
2025-09-24 18:37:50 | INFO     | dental_system.state.estado_pagos | cargar_consultas_pendientes_pago:932 | üì≠ No hay consultas pendientes de pago
2025-09-24 18:37:50 | ERROR    | dental_system.supabase.client | wrapper:425 | Error en operaci√≥n de Supabase get_payments_by_date_range: {'message': 'column pacientes_1.nombre_completo does not exist', 'code': '42703', 'hint': None, 'details': None}
2025-09-24 18:37:50 | ERROR    | dental_system.supabase.client | wrapper:425 | Error en operaci√≥n de Supabase get_currency_summary: Error en la base de datos: {'message': 'column pacientes_1.nombre_completo does not exist', 'code': '42703', 'hint': None, 'details': None}
2025-09-24 18:37:50 | ERROR    | dental_system.services.base_service | handle_error:153 | Error obteniendo estad√≠sticas de moneda dual: Error en la base de datos: Error en la base de datos: {'message': 'column pacientes_1.nombre_completo does not exist', 'code': '42703', 'hint': None, 'details': None}
2025-09-24 18:37:50 | INFO     | dental_system.state.estado_pagos | cargar_estadisticas_duales:760 | üìä Estad√≠sticas duales cargadas exitosamente
2025-09-24 18:37:50 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:124 | ‚úÖ Usando lista_servicios: 10 servicios activos
2025-09-24 18:37:51 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-24 18:37:51 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-24 18:37:51 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-24 18:37:51 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-24 18:37:51 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:230 | Cargando servicios para intervenci√≥n...
2025-09-24 18:37:51 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 10 registros
2025-09-24 18:37:51 | INFO     | dental_system.state.estado_odontologia | cargar_servicios_disponibles:535 | ‚úÖ Servicios disponibles cargados: 10
2025-09-24 18:37:51 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:236 | ‚úÖ Servicios cargados desde EstadoOdontologia: 10
2025-09-24 18:37:51 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 10 servicios
2025-09-24 18:37:51 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-24 18:37:51 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-24 18:37:51 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-24 18:37:51 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-24 18:37:51 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:230 | Cargando servicios para intervenci√≥n...
2025-09-24 18:37:51 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 10 registros
2025-09-24 18:37:51 | INFO     | dental_system.state.estado_odontologia | cargar_servicios_disponibles:535 | ‚úÖ Servicios disponibles cargados: 10
2025-09-24 18:37:51 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:236 | ‚úÖ Servicios cargados desde EstadoOdontologia: 10
2025-09-24 18:37:51 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 10 servicios
2025-09-24 18:38:07 | INFO     | dental_system.state.estado_servicios | set_mostrar_solo_activos_servicios:907 | üëÅÔ∏è Filtro solo activos: False
2025-09-24 18:38:08 | INFO     | dental_system.state.estado_servicios | set_mostrar_solo_activos_servicios:907 | üëÅÔ∏è Filtro solo activos: True
2025-09-24 18:38:09 | INFO     | dental_system.state.estado_servicios | set_mostrar_solo_activos_servicios:907 | üëÅÔ∏è Filtro solo activos: False
2025-09-24 18:38:15 | INFO     | dental_system.state.estado_servicios | abrir_modal_crear_servicio:849 | üÜï Modal crear servicio abierto
2025-09-24 18:40:13 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-24 18:40:13 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-24 18:40:40 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-24 18:40:40 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-24 18:40:40 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-24 18:40:41 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-24 18:40:41 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:230 | Cargando servicios para intervenci√≥n...
2025-09-24 18:40:42 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 10 registros
2025-09-24 18:40:42 | INFO     | dental_system.state.estado_odontologia | cargar_servicios_disponibles:535 | ‚úÖ Servicios disponibles cargados: 10
2025-09-24 18:40:42 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:236 | ‚úÖ Servicios cargados desde EstadoOdontologia: 10
2025-09-24 18:40:42 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 10 servicios
2025-09-24 18:40:42 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-24 18:40:42 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-24 18:40:43 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-24 18:40:45 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-24 18:40:45 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:230 | Cargando servicios para intervenci√≥n...
2025-09-24 18:40:45 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 10 registros
2025-09-24 18:40:45 | INFO     | dental_system.state.estado_odontologia | cargar_servicios_disponibles:535 | ‚úÖ Servicios disponibles cargados: 10
2025-09-24 18:40:45 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:236 | ‚úÖ Servicios cargados desde EstadoOdontologia: 10
2025-09-24 18:40:45 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 10 servicios
2025-09-24 18:42:30 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-24 18:42:30 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-24 18:45:46 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-24 18:45:46 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-24 18:46:30 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-24 18:46:30 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-24 18:46:31 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-24 18:46:31 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-24 18:46:31 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:230 | Cargando servicios para intervenci√≥n...
2025-09-24 18:46:32 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 10 registros
2025-09-24 18:46:32 | INFO     | dental_system.state.estado_odontologia | cargar_servicios_disponibles:535 | ‚úÖ Servicios disponibles cargados: 10
2025-09-24 18:46:32 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:236 | ‚úÖ Servicios cargados desde EstadoOdontologia: 10
2025-09-24 18:46:32 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 10 servicios
2025-09-24 18:46:32 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-24 18:46:32 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-24 18:46:33 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-24 18:46:35 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-24 18:46:35 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:230 | Cargando servicios para intervenci√≥n...
2025-09-24 18:46:35 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 10 registros
2025-09-24 18:46:35 | INFO     | dental_system.state.estado_odontologia | cargar_servicios_disponibles:535 | ‚úÖ Servicios disponibles cargados: 10
2025-09-24 18:46:35 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:236 | ‚úÖ Servicios cargados desde EstadoOdontologia: 10
2025-09-24 18:46:35 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 10 servicios
2025-09-24 18:49:49 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-24 18:49:49 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-24 18:50:27 | INFO     | dental_system.state.estado_servicios | abrir_modal_crear_servicio:849 | üÜï Modal crear servicio abierto
2025-09-24 18:52:36 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-24 18:52:36 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-24 19:00:49 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-24 19:00:49 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-24 19:01:24 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-24 19:01:24 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-24 19:03:24 | INFO     | dental_system.supabase.auth | sign_in:71 | üîê Autenticando usuario: gerente@odontomara.com
2025-09-24 19:03:24 | INFO     | dental_system.supabase.auth | sign_in:84 | ‚úÖ Autenticaci√≥n con Supabase exitosa para: gerente@odontomara.com
2025-09-24 19:03:24 | INFO     | dental_system.supabase.auth | sign_in:87 | üîç Buscando usuario en BD con auth_user_id: 8046caa1-add0-4391-a048-d47e3aedf637
2025-09-24 19:03:24 | INFO     | dental_system.supabase.tablas.usuarios | get_by_auth_id:255 | Buscando usuario con auth_user_id: 8046caa1-add0-4391-a048-d47e3aedf637
2025-09-24 19:03:25 | INFO     | dental_system.supabase.tablas.usuarios | get_by_auth_id:258 | Usuario encontrado: True
2025-09-24 19:03:25 | INFO     | dental_system.supabase.auth | sign_in:94 | ‚úÖ Usuario encontrado en BD: gerente@odontomara.com
2025-09-24 19:03:25 | INFO     | dental_system.supabase.auth | sign_in:97 | üìã Obteniendo informaci√≥n b√°sica del usuario: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-24 19:03:25 | INFO     | dental_system.supabase.tablas.usuarios | get_user_basic_info:264 | Obteniendo info b√°sica del usuario: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-24 19:03:25 | INFO     | dental_system.supabase.tablas.base | get_by_id:69 | Obteniendo registro 25356728-1a6e-4cb4-b466-b2b9a31e11ca de usuarios
2025-09-24 19:03:25 | INFO     | dental_system.supabase.tablas.usuarios | get_user_basic_info:279 | Usuario con rol obtenido: gerente@odontomara.com - gerente
2025-09-24 19:03:25 | INFO     | dental_system.supabase.auth | sign_in:104 | ‚úÖ Informaci√≥n del usuario obtenida - Rol: gerente
2025-09-24 19:03:25 | INFO     | dental_system.supabase.auth | sign_in:107 | ‚è∞ Actualizando √∫ltimo acceso para: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-24 19:03:25 | INFO     | dental_system.supabase.auth | sign_in:110 | üéâ Inicio de sesi√≥n completado exitosamente para: gerente@odontomara.com
2025-09-24 19:03:25 | INFO     | dental_system.services.dashboard_service | get_dashboard_stats:54 | üöÄ Obteniendo stats optimizadas para rol: gerente
2025-09-24 19:03:25 | ERROR    | dental_system.services.dashboard_service | _fetch_cached_manager_stats:253 | ‚ùå Error obteniendo stats cacheadas del gerente: {'message': 'column pagos.monto_pagado does not exist', 'code': '42703', 'hint': 'Perhaps you meant to reference the column "pagos.monto_pagado_bs".', 'details': None}
2025-09-24 19:03:25 | INFO     | dental_system.supabase.tablas.personal | get_filtered_personal:139 | ‚úÖ Personal obtenido desde vista: 5 registros
2025-09-24 19:03:25 | INFO     | dental_system.state.estado_personal | cargar_lista_personal:321 | ‚úÖ Lista personal cargada: 5 empleados
2025-09-24 19:03:25 | INFO     | dental_system.supabase.tablas.personal | get_filtered_personal:139 | ‚úÖ Personal obtenido desde vista: 5 registros
2025-09-24 19:03:25 | INFO     | dental_system.services.personal_service | get_personal_stats:543 | ‚úÖ Estad√≠sticas personal calculadas: {'total': 5, 'activos': 5, 'odontologos': 2, 'administradores': 1, 'asistentes': 1, 'gerentes': 1}
2025-09-24 19:03:25 | INFO     | dental_system.state.estado_personal | cargar_estadisticas_personal:358 | ‚úÖ Estad√≠sticas de personal actualizadas
2025-09-24 19:03:25 | INFO     | dental_system.services.consultas_service | get_today_consultations:43 | Obteniendo consultas del d√≠a
2025-09-24 19:03:25 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:527 | Obteniendo consultas del d√≠a 2025-09-24 usando vista optimizada
2025-09-24 19:03:25 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:540 | Vista no disponible, usando query optimizada manual
2025-09-24 19:03:25 | INFO     | dental_system.services.consultas_service | get_today_consultations:76 | ‚úÖ Consultas del d√≠a obtenidas: 10 registros
2025-09-24 19:03:25 | INFO     | dental_system.state.estado_consultas | cargar_lista_consultas:1252 | ‚úÖ 10 consultas cargadas
2025-09-24 19:03:25 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 10 registros
2025-09-24 19:03:25 | INFO     | dental_system.state.estado_servicios | cargar_servicios_basico:975 | ‚úÖ 10 servicios cargados
2025-09-24 19:03:25 | INFO     | dental_system.supabase.tablas.pagos | get_consultas_pendientes_facturacion:612 | No hay consultas pendientes de facturaci√≥n
2025-09-24 19:03:25 | INFO     | dental_system.services.pagos_service | get_consultas_pendientes_pago:728 | ‚úÖ 0 consultas pendientes de pago obtenidas
2025-09-24 19:03:25 | INFO     | dental_system.state.estado_pagos | cargar_consultas_pendientes_pago:932 | üì≠ No hay consultas pendientes de pago
2025-09-24 19:03:26 | ERROR    | dental_system.supabase.client | wrapper:425 | Error en operaci√≥n de Supabase get_payments_by_date_range: {'message': 'column pacientes_1.nombre_completo does not exist', 'code': '42703', 'hint': None, 'details': None}
2025-09-24 19:03:26 | ERROR    | dental_system.supabase.client | wrapper:425 | Error en operaci√≥n de Supabase get_currency_summary: Error en la base de datos: {'message': 'column pacientes_1.nombre_completo does not exist', 'code': '42703', 'hint': None, 'details': None}
2025-09-24 19:03:26 | ERROR    | dental_system.services.base_service | handle_error:153 | Error obteniendo estad√≠sticas de moneda dual: Error en la base de datos: Error en la base de datos: {'message': 'column pacientes_1.nombre_completo does not exist', 'code': '42703', 'hint': None, 'details': None}
2025-09-24 19:03:26 | INFO     | dental_system.state.estado_pagos | cargar_estadisticas_duales:760 | üìä Estad√≠sticas duales cargadas exitosamente
2025-09-24 19:03:26 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:124 | ‚úÖ Usando lista_servicios: 10 servicios activos
2025-09-24 19:03:26 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-24 19:03:26 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-24 19:03:26 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-24 19:03:26 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-24 19:03:26 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:230 | Cargando servicios para intervenci√≥n...
2025-09-24 19:03:26 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 10 registros
2025-09-24 19:03:26 | INFO     | dental_system.state.estado_odontologia | cargar_servicios_disponibles:535 | ‚úÖ Servicios disponibles cargados: 10
2025-09-24 19:03:26 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:236 | ‚úÖ Servicios cargados desde EstadoOdontologia: 10
2025-09-24 19:03:26 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 10 servicios
2025-09-24 19:03:26 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-24 19:03:26 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-24 19:03:26 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-24 19:03:26 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-24 19:03:26 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:230 | Cargando servicios para intervenci√≥n...
2025-09-24 19:03:26 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 10 registros
2025-09-24 19:03:26 | INFO     | dental_system.state.estado_odontologia | cargar_servicios_disponibles:535 | ‚úÖ Servicios disponibles cargados: 10
2025-09-24 19:03:26 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:236 | ‚úÖ Servicios cargados desde EstadoOdontologia: 10
2025-09-24 19:03:26 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 10 servicios
2025-09-24 19:03:34 | INFO     | dental_system.state.estado_servicios | editar_servicio:894 | ‚úèÔ∏è Modal editar servicio 2b75402c-632a-480b-ac8c-1b3cd2bdab37 abierto
2025-09-24 19:11:36 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-24 19:11:36 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-24 19:36:27 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-24 19:36:27 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-24 21:06:37 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-24 21:06:37 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-24 21:22:09 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-24 21:22:09 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 05:59:33 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 05:59:33 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 05:59:38 | INFO     | dental_system.supabase.auth | sign_in:71 | üîê Autenticando usuario: gerente@odontomara.com
2025-09-25 05:59:39 | INFO     | dental_system.supabase.auth | sign_in:84 | ‚úÖ Autenticaci√≥n con Supabase exitosa para: gerente@odontomara.com
2025-09-25 05:59:39 | INFO     | dental_system.supabase.auth | sign_in:87 | üîç Buscando usuario en BD con auth_user_id: 8046caa1-add0-4391-a048-d47e3aedf637
2025-09-25 05:59:39 | INFO     | dental_system.supabase.tablas.usuarios | get_by_auth_id:255 | Buscando usuario con auth_user_id: 8046caa1-add0-4391-a048-d47e3aedf637
2025-09-25 05:59:40 | INFO     | dental_system.supabase.tablas.usuarios | get_by_auth_id:258 | Usuario encontrado: True
2025-09-25 05:59:40 | INFO     | dental_system.supabase.auth | sign_in:94 | ‚úÖ Usuario encontrado en BD: gerente@odontomara.com
2025-09-25 05:59:40 | INFO     | dental_system.supabase.auth | sign_in:97 | üìã Obteniendo informaci√≥n b√°sica del usuario: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-25 05:59:40 | INFO     | dental_system.supabase.tablas.usuarios | get_user_basic_info:264 | Obteniendo info b√°sica del usuario: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-25 05:59:40 | INFO     | dental_system.supabase.tablas.base | get_by_id:69 | Obteniendo registro 25356728-1a6e-4cb4-b466-b2b9a31e11ca de usuarios
2025-09-25 05:59:40 | INFO     | dental_system.supabase.tablas.usuarios | get_user_basic_info:279 | Usuario con rol obtenido: gerente@odontomara.com - gerente
2025-09-25 05:59:40 | INFO     | dental_system.supabase.auth | sign_in:104 | ‚úÖ Informaci√≥n del usuario obtenida - Rol: gerente
2025-09-25 05:59:40 | INFO     | dental_system.supabase.auth | sign_in:107 | ‚è∞ Actualizando √∫ltimo acceso para: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-25 05:59:40 | INFO     | dental_system.supabase.auth | sign_in:110 | üéâ Inicio de sesi√≥n completado exitosamente para: gerente@odontomara.com
2025-09-25 05:59:40 | INFO     | dental_system.services.dashboard_service | get_dashboard_stats:54 | üöÄ Obteniendo stats optimizadas para rol: gerente
2025-09-25 05:59:40 | ERROR    | dental_system.services.dashboard_service | _fetch_cached_manager_stats:253 | ‚ùå Error obteniendo stats cacheadas del gerente: {'message': 'column pagos.monto_pagado does not exist', 'code': '42703', 'hint': 'Perhaps you meant to reference the column "pagos.monto_pagado_bs".', 'details': None}
2025-09-25 05:59:40 | INFO     | dental_system.supabase.tablas.personal | get_filtered_personal:139 | ‚úÖ Personal obtenido desde vista: 11 registros
2025-09-25 05:59:40 | INFO     | dental_system.state.estado_personal | cargar_lista_personal:321 | ‚úÖ Lista personal cargada: 11 empleados
2025-09-25 05:59:40 | INFO     | dental_system.supabase.tablas.personal | get_filtered_personal:139 | ‚úÖ Personal obtenido desde vista: 11 registros
2025-09-25 05:59:40 | INFO     | dental_system.services.personal_service | get_personal_stats:543 | ‚úÖ Estad√≠sticas personal calculadas: {'total': 11, 'activos': 11, 'odontologos': 8, 'administradores': 1, 'asistentes': 1, 'gerentes': 1}
2025-09-25 05:59:40 | INFO     | dental_system.state.estado_personal | cargar_estadisticas_personal:358 | ‚úÖ Estad√≠sticas de personal actualizadas
2025-09-25 05:59:40 | INFO     | dental_system.services.consultas_service | get_today_consultations:43 | Obteniendo consultas del d√≠a
2025-09-25 05:59:40 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:527 | Obteniendo consultas del d√≠a 2025-09-25 usando vista optimizada
2025-09-25 05:59:40 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:540 | Vista no disponible, usando query optimizada manual
2025-09-25 05:59:40 | INFO     | dental_system.services.consultas_service | get_today_consultations:76 | ‚úÖ Consultas del d√≠a obtenidas: 0 registros
2025-09-25 05:59:40 | INFO     | dental_system.state.estado_consultas | cargar_lista_consultas:1252 | ‚úÖ 0 consultas cargadas
2025-09-25 05:59:40 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 10 registros
2025-09-25 05:59:40 | INFO     | dental_system.state.estado_servicios | cargar_servicios_basico:1007 | ‚úÖ 10 servicios cargados
2025-09-25 05:59:40 | INFO     | dental_system.supabase.tablas.pagos | get_consultas_pendientes_facturacion:612 | No hay consultas pendientes de facturaci√≥n
2025-09-25 05:59:40 | INFO     | dental_system.services.pagos_service | get_consultas_pendientes_pago:728 | ‚úÖ 0 consultas pendientes de pago obtenidas
2025-09-25 05:59:40 | INFO     | dental_system.state.estado_pagos | cargar_consultas_pendientes_pago:932 | üì≠ No hay consultas pendientes de pago
2025-09-25 05:59:40 | ERROR    | dental_system.supabase.client | wrapper:425 | Error en operaci√≥n de Supabase get_payments_by_date_range: {'message': 'column pacientes_1.nombre_completo does not exist', 'code': '42703', 'hint': None, 'details': None}
2025-09-25 05:59:40 | ERROR    | dental_system.supabase.client | wrapper:425 | Error en operaci√≥n de Supabase get_currency_summary: Error en la base de datos: {'message': 'column pacientes_1.nombre_completo does not exist', 'code': '42703', 'hint': None, 'details': None}
2025-09-25 05:59:40 | ERROR    | dental_system.services.base_service | handle_error:153 | Error obteniendo estad√≠sticas de moneda dual: Error en la base de datos: Error en la base de datos: {'message': 'column pacientes_1.nombre_completo does not exist', 'code': '42703', 'hint': None, 'details': None}
2025-09-25 05:59:40 | INFO     | dental_system.state.estado_pagos | cargar_estadisticas_duales:760 | üìä Estad√≠sticas duales cargadas exitosamente
2025-09-25 05:59:41 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:124 | ‚úÖ Usando lista_servicios: 10 servicios activos
2025-09-25 05:59:41 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-25 05:59:41 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-25 05:59:41 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 05:59:41 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 05:59:41 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:230 | Cargando servicios para intervenci√≥n...
2025-09-25 05:59:41 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 10 registros
2025-09-25 05:59:41 | INFO     | dental_system.state.estado_odontologia | cargar_servicios_disponibles:535 | ‚úÖ Servicios disponibles cargados: 10
2025-09-25 05:59:41 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:236 | ‚úÖ Servicios cargados desde EstadoOdontologia: 10
2025-09-25 05:59:41 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 10 servicios
2025-09-25 05:59:41 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-25 05:59:41 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-25 05:59:41 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 05:59:41 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 05:59:41 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:230 | Cargando servicios para intervenci√≥n...
2025-09-25 05:59:41 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 10 registros
2025-09-25 05:59:41 | INFO     | dental_system.state.estado_odontologia | cargar_servicios_disponibles:535 | ‚úÖ Servicios disponibles cargados: 10
2025-09-25 05:59:41 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:236 | ‚úÖ Servicios cargados desde EstadoOdontologia: 10
2025-09-25 05:59:41 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 10 servicios
2025-09-25 06:00:12 | INFO     | dental_system.state.estado_servicios | abrir_modal_crear_servicio:853 | üÜï Modal crear servicio abierto
2025-09-25 06:05:12 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 06:05:12 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 06:05:26 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-25 06:05:26 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-25 06:05:26 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 06:05:26 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 06:05:26 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:230 | Cargando servicios para intervenci√≥n...
2025-09-25 06:05:26 | WARNING  | dental_system.services.servicios_service | get_filtered_services:75 | Usuario sin permisos para acceder a servicios
2025-09-25 06:05:26 | ERROR    | dental_system.state.estado_odontologia | cargar_servicios_disponibles:538 | ‚ùå Error cargando servicios: Sin permisos para acceder a servicios
2025-09-25 06:05:26 | WARNING  | dental_system.state.estado_servicios | cargar_lista_servicios:395 | Usuario no autenticado intentando cargar servicios
2025-09-25 06:05:26 | WARNING  | dental_system.services.servicios_service | get_filtered_services:75 | Usuario sin permisos para acceder a servicios
2025-09-25 06:05:26 | ERROR    | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:267 | ‚ùå Error cargando servicios para intervenci√≥n: Sin permisos para acceder a servicios
2025-09-25 06:05:26 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-25 06:05:26 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-25 06:05:26 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 06:05:26 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 06:05:26 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:230 | Cargando servicios para intervenci√≥n...
2025-09-25 06:05:26 | WARNING  | dental_system.services.servicios_service | get_filtered_services:75 | Usuario sin permisos para acceder a servicios
2025-09-25 06:05:26 | ERROR    | dental_system.state.estado_odontologia | cargar_servicios_disponibles:538 | ‚ùå Error cargando servicios: Sin permisos para acceder a servicios
2025-09-25 06:05:26 | WARNING  | dental_system.state.estado_servicios | cargar_lista_servicios:395 | Usuario no autenticado intentando cargar servicios
2025-09-25 06:05:26 | WARNING  | dental_system.services.servicios_service | get_filtered_services:75 | Usuario sin permisos para acceder a servicios
2025-09-25 06:05:26 | ERROR    | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:267 | ‚ùå Error cargando servicios para intervenci√≥n: Sin permisos para acceder a servicios
2025-09-25 06:07:09 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 06:07:09 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 06:07:12 | INFO     | dental_system.supabase.auth | sign_in:71 | üîê Autenticando usuario: gerente@odontomara.com
2025-09-25 06:07:12 | INFO     | dental_system.supabase.auth | sign_in:84 | ‚úÖ Autenticaci√≥n con Supabase exitosa para: gerente@odontomara.com
2025-09-25 06:07:12 | INFO     | dental_system.supabase.auth | sign_in:87 | üîç Buscando usuario en BD con auth_user_id: 8046caa1-add0-4391-a048-d47e3aedf637
2025-09-25 06:07:12 | INFO     | dental_system.supabase.tablas.usuarios | get_by_auth_id:255 | Buscando usuario con auth_user_id: 8046caa1-add0-4391-a048-d47e3aedf637
2025-09-25 06:07:14 | INFO     | dental_system.supabase.tablas.usuarios | get_by_auth_id:258 | Usuario encontrado: True
2025-09-25 06:07:14 | INFO     | dental_system.supabase.auth | sign_in:94 | ‚úÖ Usuario encontrado en BD: gerente@odontomara.com
2025-09-25 06:07:14 | INFO     | dental_system.supabase.auth | sign_in:97 | üìã Obteniendo informaci√≥n b√°sica del usuario: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-25 06:07:14 | INFO     | dental_system.supabase.tablas.usuarios | get_user_basic_info:264 | Obteniendo info b√°sica del usuario: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-25 06:07:14 | INFO     | dental_system.supabase.tablas.base | get_by_id:69 | Obteniendo registro 25356728-1a6e-4cb4-b466-b2b9a31e11ca de usuarios
2025-09-25 06:07:14 | INFO     | dental_system.supabase.tablas.usuarios | get_user_basic_info:279 | Usuario con rol obtenido: gerente@odontomara.com - gerente
2025-09-25 06:07:14 | INFO     | dental_system.supabase.auth | sign_in:104 | ‚úÖ Informaci√≥n del usuario obtenida - Rol: gerente
2025-09-25 06:07:14 | INFO     | dental_system.supabase.auth | sign_in:107 | ‚è∞ Actualizando √∫ltimo acceso para: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-25 06:07:14 | INFO     | dental_system.supabase.auth | sign_in:110 | üéâ Inicio de sesi√≥n completado exitosamente para: gerente@odontomara.com
2025-09-25 06:07:14 | INFO     | dental_system.services.dashboard_service | get_dashboard_stats:54 | üöÄ Obteniendo stats optimizadas para rol: gerente
2025-09-25 06:07:14 | ERROR    | dental_system.services.dashboard_service | _fetch_cached_manager_stats:253 | ‚ùå Error obteniendo stats cacheadas del gerente: {'message': 'column pagos.monto_pagado does not exist', 'code': '42703', 'hint': 'Perhaps you meant to reference the column "pagos.monto_pagado_bs".', 'details': None}
2025-09-25 06:07:14 | INFO     | dental_system.supabase.tablas.personal | get_filtered_personal:139 | ‚úÖ Personal obtenido desde vista: 11 registros
2025-09-25 06:07:14 | INFO     | dental_system.state.estado_personal | cargar_lista_personal:321 | ‚úÖ Lista personal cargada: 11 empleados
2025-09-25 06:07:14 | INFO     | dental_system.supabase.tablas.personal | get_filtered_personal:139 | ‚úÖ Personal obtenido desde vista: 11 registros
2025-09-25 06:07:14 | INFO     | dental_system.services.personal_service | get_personal_stats:543 | ‚úÖ Estad√≠sticas personal calculadas: {'total': 11, 'activos': 11, 'odontologos': 8, 'administradores': 1, 'asistentes': 1, 'gerentes': 1}
2025-09-25 06:07:14 | INFO     | dental_system.state.estado_personal | cargar_estadisticas_personal:358 | ‚úÖ Estad√≠sticas de personal actualizadas
2025-09-25 06:07:14 | INFO     | dental_system.services.consultas_service | get_today_consultations:43 | Obteniendo consultas del d√≠a
2025-09-25 06:07:14 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:527 | Obteniendo consultas del d√≠a 2025-09-25 usando vista optimizada
2025-09-25 06:07:14 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:540 | Vista no disponible, usando query optimizada manual
2025-09-25 06:07:14 | INFO     | dental_system.services.consultas_service | get_today_consultations:76 | ‚úÖ Consultas del d√≠a obtenidas: 0 registros
2025-09-25 06:07:14 | INFO     | dental_system.state.estado_consultas | cargar_lista_consultas:1252 | ‚úÖ 0 consultas cargadas
2025-09-25 06:07:14 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 10 registros
2025-09-25 06:07:14 | INFO     | dental_system.state.estado_servicios | cargar_servicios_basico:1007 | ‚úÖ 10 servicios cargados
2025-09-25 06:07:14 | INFO     | dental_system.supabase.tablas.pagos | get_consultas_pendientes_facturacion:612 | No hay consultas pendientes de facturaci√≥n
2025-09-25 06:07:14 | INFO     | dental_system.services.pagos_service | get_consultas_pendientes_pago:728 | ‚úÖ 0 consultas pendientes de pago obtenidas
2025-09-25 06:07:14 | INFO     | dental_system.state.estado_pagos | cargar_consultas_pendientes_pago:932 | üì≠ No hay consultas pendientes de pago
2025-09-25 06:07:14 | ERROR    | dental_system.supabase.client | wrapper:425 | Error en operaci√≥n de Supabase get_payments_by_date_range: {'message': 'column pacientes_1.nombre_completo does not exist', 'code': '42703', 'hint': None, 'details': None}
2025-09-25 06:07:14 | ERROR    | dental_system.supabase.client | wrapper:425 | Error en operaci√≥n de Supabase get_currency_summary: Error en la base de datos: {'message': 'column pacientes_1.nombre_completo does not exist', 'code': '42703', 'hint': None, 'details': None}
2025-09-25 06:07:14 | ERROR    | dental_system.services.base_service | handle_error:153 | Error obteniendo estad√≠sticas de moneda dual: Error en la base de datos: Error en la base de datos: {'message': 'column pacientes_1.nombre_completo does not exist', 'code': '42703', 'hint': None, 'details': None}
2025-09-25 06:07:14 | INFO     | dental_system.state.estado_pagos | cargar_estadisticas_duales:760 | üìä Estad√≠sticas duales cargadas exitosamente
2025-09-25 06:07:14 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:124 | ‚úÖ Usando lista_servicios: 10 servicios activos
2025-09-25 06:07:14 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-25 06:07:15 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-25 06:07:15 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 06:07:15 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 06:07:15 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:230 | Cargando servicios para intervenci√≥n...
2025-09-25 06:07:15 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 10 registros
2025-09-25 06:07:15 | INFO     | dental_system.state.estado_odontologia | cargar_servicios_disponibles:535 | ‚úÖ Servicios disponibles cargados: 10
2025-09-25 06:07:15 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:236 | ‚úÖ Servicios cargados desde EstadoOdontologia: 10
2025-09-25 06:07:15 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 10 servicios
2025-09-25 06:07:15 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-25 06:07:15 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-25 06:07:15 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 06:07:16 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 06:07:16 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:230 | Cargando servicios para intervenci√≥n...
2025-09-25 06:07:16 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 10 registros
2025-09-25 06:07:16 | INFO     | dental_system.state.estado_odontologia | cargar_servicios_disponibles:535 | ‚úÖ Servicios disponibles cargados: 10
2025-09-25 06:07:16 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:236 | ‚úÖ Servicios cargados desde EstadoOdontologia: 10
2025-09-25 06:07:16 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 10 servicios
2025-09-25 06:07:29 | INFO     | dental_system.state.estado_servicios | abrir_modal_crear_servicio:853 | üÜï Modal crear servicio abierto
2025-09-25 06:08:05 | ERROR    | dental_system.state.estado_servicios | crear_servicio:572 | ‚ùå Error creando servicio: ServiciosService.create_service() got an unexpected keyword argument 'form_data'
2025-09-25 06:11:38 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 06:11:38 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 06:14:27 | INFO     | dental_system.state.estado_pacientes | seleccionar_y_abrir_modal_paciente:889 | ‚ûï Modal crear paciente abierto
2025-09-25 06:15:47 | INFO     | dental_system.services.pacientes_service | create_patient:84 | Creando nuevo paciente
2025-09-25 06:15:48 | INFO     | dental_system.supabase.tablas.base | create:53 | Creando registro en pacientes
2025-09-25 06:15:48 | INFO     | dental_system.services.pacientes_service | create_patient:171 | ‚úÖ Paciente creado: wilmer nicolas aguirre carrion
2025-09-25 06:15:48 | INFO     | dental_system.services.pacientes_service | _inicializar_ecosistema_paciente_completo:467 | ü¶∑ Inicializando ecosistema completo para paciente HC000021
2025-09-25 06:15:48 | INFO     | dental_system.services.pacientes_service | _crear_odontograma_inicial_completo:523 | ‚úÖ Odontograma inicial creado para HC000021 (ID: 4f109e88-9074-4d8d-806d-f411d0984414)
2025-09-25 06:15:48 | INFO     | dental_system.services.pacientes_service | _crear_historial_medico_inicial:579 | ‚úÖ Historial m√©dico inicial creado para paciente dcc1c80b-e21f-4f76-b0b9-9c2f52635305
2025-09-25 06:15:48 | INFO     | dental_system.services.pacientes_service | _registrar_auditoria_inicializacion:625 | ‚úÖ Auditor√≠a de inicializaci√≥n registrada para HC000021
2025-09-25 06:15:48 | INFO     | dental_system.services.pacientes_service | _inicializar_ecosistema_paciente_completo:479 | ‚úÖ Ecosistema completo inicializado para HC000021
2025-09-25 06:15:48 | INFO     | dental_system.services.pacientes_service | create_patient:180 | ‚úÖ Ecosistema del paciente wilmer nicolas aguirre carrion inicializado correctamente
2025-09-25 06:19:25 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 06:19:25 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 07:46:12 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-25 07:46:13 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-25 07:46:14 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 07:46:14 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 07:46:14 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:230 | Cargando servicios para intervenci√≥n...
2025-09-25 07:46:15 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 10 registros
2025-09-25 07:46:15 | INFO     | dental_system.state.estado_odontologia | cargar_servicios_disponibles:535 | ‚úÖ Servicios disponibles cargados: 10
2025-09-25 07:46:15 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:236 | ‚úÖ Servicios cargados desde EstadoOdontologia: 10
2025-09-25 07:46:15 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 10 servicios
2025-09-25 07:46:15 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-25 07:46:16 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-25 07:46:16 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 07:46:16 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 07:46:16 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:230 | Cargando servicios para intervenci√≥n...
2025-09-25 07:46:16 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 10 registros
2025-09-25 07:46:16 | INFO     | dental_system.state.estado_odontologia | cargar_servicios_disponibles:535 | ‚úÖ Servicios disponibles cargados: 10
2025-09-25 07:46:16 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:236 | ‚úÖ Servicios cargados desde EstadoOdontologia: 10
2025-09-25 07:46:16 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 10 servicios
2025-09-25 07:46:17 | INFO     | dental_system.state.estado_pacientes | seleccionar_y_abrir_modal_paciente:889 | ‚ûï Modal crear paciente abierto
2025-09-25 07:46:20 | INFO     | dental_system.state.estado_servicios | abrir_modal_crear_servicio:858 | üÜï Modal crear servicio abierto
2025-09-25 07:47:11 | INFO     | dental_system.services.servicios_service | create_service:93 | Creando nuevo servicio
2025-09-25 07:47:11 | ERROR    | dental_system.supabase.client | wrapper:425 | Error en operaci√≥n de Supabase create_service: ServicesTable.create_service() got an unexpected keyword argument 'precio_base_bs'. Did you mean 'precio_base'?
2025-09-25 07:47:11 | ERROR    | dental_system.services.base_service | handle_error:153 | Error creando servicio: Error en la base de datos: ServicesTable.create_service() got an unexpected keyword argument 'precio_base_bs'. Did you mean 'precio_base'?
2025-09-25 07:47:11 | ERROR    | dental_system.state.estado_servicios | crear_servicio:577 | ‚ùå Error creando servicio: Error inesperado: Error en la base de datos: ServicesTable.create_service() got an unexpected keyword argument 'precio_base_bs'. Did you mean 'precio_base'?
2025-09-25 07:50:31 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 07:50:31 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 07:50:40 | INFO     | dental_system.services.servicios_service | create_service:93 | Creando nuevo servicio
2025-09-25 07:50:41 | INFO     | dental_system.supabase.tablas.servicios | create_service:73 | Creando servicio: SER_nuv
2025-09-25 07:50:41 | INFO     | dental_system.supabase.tablas.base | create:53 | Creando registro en servicios
2025-09-25 07:50:41 | ERROR    | dental_system.supabase.client | wrapper:425 | Error en operaci√≥n de Supabase create: {'message': 'malformed array literal: "asas"', 'code': '22P02', 'hint': None, 'details': 'Array value must start with "{" or dimension information.'}
2025-09-25 07:50:41 | ERROR    | dental_system.supabase.client | wrapper:425 | Error en operaci√≥n de Supabase create_service: Error en la base de datos: {'message': 'malformed array literal: "asas"', 'code': '22P02', 'hint': None, 'details': 'Array value must start with "{" or dimension information.'}
2025-09-25 07:50:41 | ERROR    | dental_system.services.base_service | handle_error:153 | Error creando servicio: Error en la base de datos: Error en la base de datos: {'message': 'malformed array literal: "asas"', 'code': '22P02', 'hint': None, 'details': 'Array value must start with "{" or dimension information.'}
2025-09-25 07:50:41 | ERROR    | dental_system.state.estado_servicios | crear_servicio:577 | ‚ùå Error creando servicio: Error inesperado: Error en la base de datos: Error en la base de datos: {'message': 'malformed array literal: "asas"', 'code': '22P02', 'hint': None, 'details': 'Array value must start with "{" or dimension information.'}
2025-09-25 07:52:02 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 07:52:02 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 07:56:42 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 07:56:42 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 07:56:46 | INFO     | dental_system.supabase.auth | sign_in:71 | üîê Autenticando usuario: gerente@odontomara.com
2025-09-25 07:56:46 | INFO     | dental_system.supabase.auth | sign_in:84 | ‚úÖ Autenticaci√≥n con Supabase exitosa para: gerente@odontomara.com
2025-09-25 07:56:46 | INFO     | dental_system.supabase.auth | sign_in:87 | üîç Buscando usuario en BD con auth_user_id: 8046caa1-add0-4391-a048-d47e3aedf637
2025-09-25 07:56:46 | INFO     | dental_system.supabase.tablas.usuarios | get_by_auth_id:255 | Buscando usuario con auth_user_id: 8046caa1-add0-4391-a048-d47e3aedf637
2025-09-25 07:56:48 | INFO     | dental_system.supabase.tablas.usuarios | get_by_auth_id:258 | Usuario encontrado: True
2025-09-25 07:56:48 | INFO     | dental_system.supabase.auth | sign_in:94 | ‚úÖ Usuario encontrado en BD: gerente@odontomara.com
2025-09-25 07:56:48 | INFO     | dental_system.supabase.auth | sign_in:97 | üìã Obteniendo informaci√≥n b√°sica del usuario: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-25 07:56:48 | INFO     | dental_system.supabase.tablas.usuarios | get_user_basic_info:264 | Obteniendo info b√°sica del usuario: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-25 07:56:48 | INFO     | dental_system.supabase.tablas.base | get_by_id:69 | Obteniendo registro 25356728-1a6e-4cb4-b466-b2b9a31e11ca de usuarios
2025-09-25 07:56:48 | INFO     | dental_system.supabase.tablas.usuarios | get_user_basic_info:279 | Usuario con rol obtenido: gerente@odontomara.com - gerente
2025-09-25 07:56:48 | INFO     | dental_system.supabase.auth | sign_in:104 | ‚úÖ Informaci√≥n del usuario obtenida - Rol: gerente
2025-09-25 07:56:48 | INFO     | dental_system.supabase.auth | sign_in:107 | ‚è∞ Actualizando √∫ltimo acceso para: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-25 07:56:48 | INFO     | dental_system.supabase.auth | sign_in:110 | üéâ Inicio de sesi√≥n completado exitosamente para: gerente@odontomara.com
2025-09-25 07:56:48 | INFO     | dental_system.services.dashboard_service | get_dashboard_stats:54 | üöÄ Obteniendo stats optimizadas para rol: gerente
2025-09-25 07:56:48 | ERROR    | dental_system.services.dashboard_service | _fetch_cached_manager_stats:253 | ‚ùå Error obteniendo stats cacheadas del gerente: {'message': 'column pagos.monto_pagado does not exist', 'code': '42703', 'hint': 'Perhaps you meant to reference the column "pagos.monto_pagado_bs".', 'details': None}
2025-09-25 07:56:48 | INFO     | dental_system.supabase.tablas.personal | get_filtered_personal:139 | ‚úÖ Personal obtenido desde vista: 11 registros
2025-09-25 07:56:48 | INFO     | dental_system.state.estado_personal | cargar_lista_personal:321 | ‚úÖ Lista personal cargada: 11 empleados
2025-09-25 07:56:48 | INFO     | dental_system.supabase.tablas.personal | get_filtered_personal:139 | ‚úÖ Personal obtenido desde vista: 11 registros
2025-09-25 07:56:48 | INFO     | dental_system.services.personal_service | get_personal_stats:543 | ‚úÖ Estad√≠sticas personal calculadas: {'total': 11, 'activos': 11, 'odontologos': 8, 'administradores': 1, 'asistentes': 1, 'gerentes': 1}
2025-09-25 07:56:48 | INFO     | dental_system.state.estado_personal | cargar_estadisticas_personal:358 | ‚úÖ Estad√≠sticas de personal actualizadas
2025-09-25 07:56:48 | INFO     | dental_system.services.consultas_service | get_today_consultations:43 | Obteniendo consultas del d√≠a
2025-09-25 07:56:48 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:527 | Obteniendo consultas del d√≠a 2025-09-25 usando vista optimizada
2025-09-25 07:56:48 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:540 | Vista no disponible, usando query optimizada manual
2025-09-25 07:56:48 | INFO     | dental_system.services.consultas_service | get_today_consultations:76 | ‚úÖ Consultas del d√≠a obtenidas: 0 registros
2025-09-25 07:56:48 | INFO     | dental_system.state.estado_consultas | cargar_lista_consultas:1252 | ‚úÖ 0 consultas cargadas
2025-09-25 07:56:48 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 10 registros
2025-09-25 07:56:48 | INFO     | dental_system.state.estado_servicios | cargar_servicios_basico:1012 | ‚úÖ 10 servicios cargados
2025-09-25 07:56:48 | INFO     | dental_system.supabase.tablas.pagos | get_consultas_pendientes_facturacion:612 | No hay consultas pendientes de facturaci√≥n
2025-09-25 07:56:48 | INFO     | dental_system.services.pagos_service | get_consultas_pendientes_pago:728 | ‚úÖ 0 consultas pendientes de pago obtenidas
2025-09-25 07:56:48 | INFO     | dental_system.state.estado_pagos | cargar_consultas_pendientes_pago:932 | üì≠ No hay consultas pendientes de pago
2025-09-25 07:56:48 | ERROR    | dental_system.supabase.client | wrapper:425 | Error en operaci√≥n de Supabase get_payments_by_date_range: {'message': 'column pacientes_1.nombre_completo does not exist', 'code': '42703', 'hint': None, 'details': None}
2025-09-25 07:56:48 | ERROR    | dental_system.supabase.client | wrapper:425 | Error en operaci√≥n de Supabase get_currency_summary: Error en la base de datos: {'message': 'column pacientes_1.nombre_completo does not exist', 'code': '42703', 'hint': None, 'details': None}
2025-09-25 07:56:48 | ERROR    | dental_system.services.base_service | handle_error:153 | Error obteniendo estad√≠sticas de moneda dual: Error en la base de datos: Error en la base de datos: {'message': 'column pacientes_1.nombre_completo does not exist', 'code': '42703', 'hint': None, 'details': None}
2025-09-25 07:56:48 | INFO     | dental_system.state.estado_pagos | cargar_estadisticas_duales:760 | üìä Estad√≠sticas duales cargadas exitosamente
2025-09-25 07:56:48 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:124 | ‚úÖ Usando lista_servicios: 10 servicios activos
2025-09-25 07:56:49 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-25 07:56:49 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-25 07:56:49 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 07:56:49 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 07:56:49 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:230 | Cargando servicios para intervenci√≥n...
2025-09-25 07:56:49 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 10 registros
2025-09-25 07:56:49 | INFO     | dental_system.state.estado_odontologia | cargar_servicios_disponibles:535 | ‚úÖ Servicios disponibles cargados: 10
2025-09-25 07:56:49 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:236 | ‚úÖ Servicios cargados desde EstadoOdontologia: 10
2025-09-25 07:56:49 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 10 servicios
2025-09-25 07:56:49 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-25 07:56:49 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-25 07:56:49 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 07:56:49 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 07:56:49 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:230 | Cargando servicios para intervenci√≥n...
2025-09-25 07:56:49 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 10 registros
2025-09-25 07:56:49 | INFO     | dental_system.state.estado_odontologia | cargar_servicios_disponibles:535 | ‚úÖ Servicios disponibles cargados: 10
2025-09-25 07:56:49 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:236 | ‚úÖ Servicios cargados desde EstadoOdontologia: 10
2025-09-25 07:56:49 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 10 servicios
2025-09-25 07:56:58 | INFO     | dental_system.state.estado_servicios | abrir_modal_crear_servicio:858 | üÜï Modal crear servicio abierto
2025-09-25 07:57:26 | INFO     | dental_system.services.servicios_service | create_service:93 | Creando nuevo servicio
2025-09-25 07:57:26 | INFO     | dental_system.supabase.tablas.servicios | create_service:73 | Creando servicio: NUEVO
2025-09-25 07:57:26 | INFO     | dental_system.supabase.tablas.base | create:53 | Creando registro en servicios
2025-09-25 07:57:26 | INFO     | dental_system.services.servicios_service | create_service:128 | ‚úÖ Servicio creado: NUEVO
2025-09-25 07:57:26 | INFO     | dental_system.state.estado_servicios | limpiar_y_cerrar_modal_crear:821 | Modal crear servicio cerrado y limpiado
2025-09-25 07:57:26 | INFO     | dental_system.state.estado_servicios | crear_servicio:572 | ‚úÖ Servicio creado: NUEVO
2025-09-25 07:57:26 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 10 servicios
2025-09-25 07:57:45 | INFO     | dental_system.supabase.tablas.base | get_all:112 | Obteniendo registros de servicios con filtros: {'categoria': 'General', 'activo': True}
2025-09-25 07:57:45 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 0 registros
2025-09-25 07:57:45 | INFO     | dental_system.state.estado_servicios | cargar_lista_servicios:419 | ‚úÖ Lista servicios cargada: 0 servicios
2025-09-25 07:57:45 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 10 servicios
2025-09-25 07:57:48 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 11 registros
2025-09-25 07:57:48 | INFO     | dental_system.state.estado_servicios | cargar_lista_servicios:419 | ‚úÖ Lista servicios cargada: 11 servicios
2025-09-25 07:57:48 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 10 servicios
2025-09-25 07:58:04 | INFO     | dental_system.supabase.tablas.base | get_all:112 | Obteniendo registros de servicios con filtros: {'categoria': 'Cirug√≠a Oral', 'activo': True}
2025-09-25 07:58:04 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 0 registros
2025-09-25 07:58:04 | INFO     | dental_system.state.estado_servicios | cargar_lista_servicios:419 | ‚úÖ Lista servicios cargada: 0 servicios
2025-09-25 07:58:04 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 10 servicios
2025-09-25 07:58:07 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 11 registros
2025-09-25 07:58:07 | INFO     | dental_system.state.estado_servicios | cargar_lista_servicios:419 | ‚úÖ Lista servicios cargada: 11 servicios
2025-09-25 07:58:07 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 10 servicios
2025-09-25 08:00:32 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 08:00:32 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 08:12:11 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 08:12:11 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 08:14:51 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 08:14:51 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 08:15:57 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-25 08:15:57 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-25 08:15:58 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 08:15:58 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 08:15:58 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:230 | Cargando servicios para intervenci√≥n...
2025-09-25 08:16:00 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 11 registros
2025-09-25 08:16:00 | INFO     | dental_system.state.estado_odontologia | cargar_servicios_disponibles:535 | ‚úÖ Servicios disponibles cargados: 11
2025-09-25 08:16:00 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:236 | ‚úÖ Servicios cargados desde EstadoOdontologia: 11
2025-09-25 08:16:00 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 11 servicios
2025-09-25 08:16:00 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-25 08:16:00 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-25 08:16:01 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 08:16:03 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 08:16:03 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:230 | Cargando servicios para intervenci√≥n...
2025-09-25 08:16:03 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 11 registros
2025-09-25 08:16:03 | INFO     | dental_system.state.estado_odontologia | cargar_servicios_disponibles:535 | ‚úÖ Servicios disponibles cargados: 11
2025-09-25 08:16:03 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:236 | ‚úÖ Servicios cargados desde EstadoOdontologia: 11
2025-09-25 08:16:03 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 11 servicios
2025-09-25 08:16:05 | INFO     | dental_system.state.estado_servicios | abrir_modal_crear_servicio:858 | üÜï Modal crear servicio abierto
2025-09-25 08:16:13 | INFO     | dental_system.state.estado_servicios | editar_servicio:904 | ‚úèÔ∏è Modal editar servicio 8987c53c-6c17-4990-91fa-8b5147f50ba4 abierto
2025-09-25 08:19:43 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 08:19:43 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 08:20:19 | INFO     | dental_system.state.estado_servicios | editar_servicio:920 | ‚úèÔ∏è Modal editar servicio 8987c53c-6c17-4990-91fa-8b5147f50ba4 abierto
2025-09-25 08:20:32 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-25 08:20:32 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-25 08:20:33 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 08:20:33 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 08:20:33 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:230 | Cargando servicios para intervenci√≥n...
2025-09-25 08:20:34 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 11 registros
2025-09-25 08:20:34 | INFO     | dental_system.state.estado_odontologia | cargar_servicios_disponibles:535 | ‚úÖ Servicios disponibles cargados: 11
2025-09-25 08:20:34 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:236 | ‚úÖ Servicios cargados desde EstadoOdontologia: 11
2025-09-25 08:20:34 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 11 servicios
2025-09-25 08:20:34 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-25 08:20:35 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-25 08:20:36 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 08:20:38 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 08:20:38 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:230 | Cargando servicios para intervenci√≥n...
2025-09-25 08:20:38 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 11 registros
2025-09-25 08:20:38 | INFO     | dental_system.state.estado_odontologia | cargar_servicios_disponibles:535 | ‚úÖ Servicios disponibles cargados: 11
2025-09-25 08:20:38 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:236 | ‚úÖ Servicios cargados desde EstadoOdontologia: 11
2025-09-25 08:20:38 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 11 servicios
2025-09-25 08:20:39 | INFO     | dental_system.state.estado_servicios | editar_servicio:920 | ‚úèÔ∏è Modal editar servicio 2b75402c-632a-480b-ac8c-1b3cd2bdab37 abierto
2025-09-25 08:23:52 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 08:23:52 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 08:24:42 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 08:24:42 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 08:25:32 | INFO     | dental_system.supabase.auth | sign_in:71 | üîê Autenticando usuario: gerente@odontomara.com
2025-09-25 08:25:32 | INFO     | dental_system.supabase.auth | sign_in:84 | ‚úÖ Autenticaci√≥n con Supabase exitosa para: gerente@odontomara.com
2025-09-25 08:25:32 | INFO     | dental_system.supabase.auth | sign_in:87 | üîç Buscando usuario en BD con auth_user_id: 8046caa1-add0-4391-a048-d47e3aedf637
2025-09-25 08:25:32 | INFO     | dental_system.supabase.tablas.usuarios | get_by_auth_id:255 | Buscando usuario con auth_user_id: 8046caa1-add0-4391-a048-d47e3aedf637
2025-09-25 08:25:34 | INFO     | dental_system.supabase.tablas.usuarios | get_by_auth_id:258 | Usuario encontrado: True
2025-09-25 08:25:34 | INFO     | dental_system.supabase.auth | sign_in:94 | ‚úÖ Usuario encontrado en BD: gerente@odontomara.com
2025-09-25 08:25:34 | INFO     | dental_system.supabase.auth | sign_in:97 | üìã Obteniendo informaci√≥n b√°sica del usuario: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-25 08:25:34 | INFO     | dental_system.supabase.tablas.usuarios | get_user_basic_info:264 | Obteniendo info b√°sica del usuario: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-25 08:25:34 | INFO     | dental_system.supabase.tablas.base | get_by_id:69 | Obteniendo registro 25356728-1a6e-4cb4-b466-b2b9a31e11ca de usuarios
2025-09-25 08:25:34 | INFO     | dental_system.supabase.tablas.usuarios | get_user_basic_info:279 | Usuario con rol obtenido: gerente@odontomara.com - gerente
2025-09-25 08:25:34 | INFO     | dental_system.supabase.auth | sign_in:104 | ‚úÖ Informaci√≥n del usuario obtenida - Rol: gerente
2025-09-25 08:25:34 | INFO     | dental_system.supabase.auth | sign_in:107 | ‚è∞ Actualizando √∫ltimo acceso para: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-25 08:25:34 | INFO     | dental_system.supabase.auth | sign_in:110 | üéâ Inicio de sesi√≥n completado exitosamente para: gerente@odontomara.com
2025-09-25 08:25:34 | INFO     | dental_system.services.dashboard_service | get_dashboard_stats:54 | üöÄ Obteniendo stats optimizadas para rol: gerente
2025-09-25 08:25:34 | ERROR    | dental_system.services.dashboard_service | _fetch_cached_manager_stats:253 | ‚ùå Error obteniendo stats cacheadas del gerente: {'message': 'column pagos.monto_pagado does not exist', 'code': '42703', 'hint': 'Perhaps you meant to reference the column "pagos.monto_pagado_bs".', 'details': None}
2025-09-25 08:25:34 | INFO     | dental_system.supabase.tablas.personal | get_filtered_personal:139 | ‚úÖ Personal obtenido desde vista: 11 registros
2025-09-25 08:25:34 | INFO     | dental_system.state.estado_personal | cargar_lista_personal:321 | ‚úÖ Lista personal cargada: 11 empleados
2025-09-25 08:25:34 | INFO     | dental_system.supabase.tablas.personal | get_filtered_personal:139 | ‚úÖ Personal obtenido desde vista: 11 registros
2025-09-25 08:25:34 | INFO     | dental_system.services.personal_service | get_personal_stats:543 | ‚úÖ Estad√≠sticas personal calculadas: {'total': 11, 'activos': 11, 'odontologos': 8, 'administradores': 1, 'asistentes': 1, 'gerentes': 1}
2025-09-25 08:25:34 | INFO     | dental_system.state.estado_personal | cargar_estadisticas_personal:358 | ‚úÖ Estad√≠sticas de personal actualizadas
2025-09-25 08:25:34 | INFO     | dental_system.services.consultas_service | get_today_consultations:43 | Obteniendo consultas del d√≠a
2025-09-25 08:25:34 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:527 | Obteniendo consultas del d√≠a 2025-09-25 usando vista optimizada
2025-09-25 08:25:34 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:540 | Vista no disponible, usando query optimizada manual
2025-09-25 08:25:34 | INFO     | dental_system.services.consultas_service | get_today_consultations:76 | ‚úÖ Consultas del d√≠a obtenidas: 0 registros
2025-09-25 08:25:34 | INFO     | dental_system.state.estado_consultas | cargar_lista_consultas:1252 | ‚úÖ 0 consultas cargadas
2025-09-25 08:25:34 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 11 registros
2025-09-25 08:25:34 | INFO     | dental_system.state.estado_servicios | cargar_servicios_basico:1047 | ‚úÖ 11 servicios cargados
2025-09-25 08:25:34 | INFO     | dental_system.supabase.tablas.pagos | get_consultas_pendientes_facturacion:612 | No hay consultas pendientes de facturaci√≥n
2025-09-25 08:25:34 | INFO     | dental_system.services.pagos_service | get_consultas_pendientes_pago:728 | ‚úÖ 0 consultas pendientes de pago obtenidas
2025-09-25 08:25:34 | INFO     | dental_system.state.estado_pagos | cargar_consultas_pendientes_pago:932 | üì≠ No hay consultas pendientes de pago
2025-09-25 08:25:34 | ERROR    | dental_system.supabase.client | wrapper:425 | Error en operaci√≥n de Supabase get_payments_by_date_range: {'message': 'column pacientes_1.nombre_completo does not exist', 'code': '42703', 'hint': None, 'details': None}
2025-09-25 08:25:34 | ERROR    | dental_system.supabase.client | wrapper:425 | Error en operaci√≥n de Supabase get_currency_summary: Error en la base de datos: {'message': 'column pacientes_1.nombre_completo does not exist', 'code': '42703', 'hint': None, 'details': None}
2025-09-25 08:25:34 | ERROR    | dental_system.services.base_service | handle_error:153 | Error obteniendo estad√≠sticas de moneda dual: Error en la base de datos: Error en la base de datos: {'message': 'column pacientes_1.nombre_completo does not exist', 'code': '42703', 'hint': None, 'details': None}
2025-09-25 08:25:34 | INFO     | dental_system.state.estado_pagos | cargar_estadisticas_duales:760 | üìä Estad√≠sticas duales cargadas exitosamente
2025-09-25 08:25:34 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:124 | ‚úÖ Usando lista_servicios: 11 servicios activos
2025-09-25 08:25:35 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-25 08:25:35 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-25 08:25:35 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 08:25:35 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 08:25:35 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:230 | Cargando servicios para intervenci√≥n...
2025-09-25 08:25:35 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 11 registros
2025-09-25 08:25:35 | INFO     | dental_system.state.estado_odontologia | cargar_servicios_disponibles:535 | ‚úÖ Servicios disponibles cargados: 11
2025-09-25 08:25:35 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:236 | ‚úÖ Servicios cargados desde EstadoOdontologia: 11
2025-09-25 08:25:35 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 11 servicios
2025-09-25 08:25:35 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-25 08:25:35 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-25 08:25:35 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 08:25:35 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 08:25:35 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:230 | Cargando servicios para intervenci√≥n...
2025-09-25 08:25:35 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 11 registros
2025-09-25 08:25:35 | INFO     | dental_system.state.estado_odontologia | cargar_servicios_disponibles:535 | ‚úÖ Servicios disponibles cargados: 11
2025-09-25 08:25:35 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:236 | ‚úÖ Servicios cargados desde EstadoOdontologia: 11
2025-09-25 08:25:35 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 11 servicios
2025-09-25 08:25:42 | INFO     | dental_system.state.estado_servicios | editar_servicio:875 | üîç DEBUG - Valores del servicio:
2025-09-25 08:25:42 | INFO     | dental_system.state.estado_servicios | editar_servicio:876 |    duracion_estimada: '00:00:19' (tipo: <class 'str'>)
2025-09-25 08:25:42 | INFO     | dental_system.state.estado_servicios | editar_servicio:877 |    precio_base_bs: '98563.0' (tipo: <class 'decimal.Decimal'>)
2025-09-25 08:25:42 | INFO     | dental_system.state.estado_servicios | editar_servicio:878 |    precio_base_usd: '57.0' (tipo: <class 'decimal.Decimal'>)
2025-09-25 08:25:42 | INFO     | dental_system.state.estado_servicios | editar_servicio:879 |    categoria: 'Preventiva' (tipo: <class 'str'>)
2025-09-25 08:25:42 | INFO     | dental_system.state.estado_servicios | editar_servicio:924 | ‚úèÔ∏è Modal editar servicio 8987c53c-6c17-4990-91fa-8b5147f50ba4 abierto
2025-09-25 08:32:20 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 08:32:20 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 08:32:27 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-25 08:32:28 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-25 08:32:29 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 08:32:30 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 08:32:30 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:230 | Cargando servicios para intervenci√≥n...
2025-09-25 08:32:32 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 11 registros
2025-09-25 08:32:32 | INFO     | dental_system.state.estado_odontologia | cargar_servicios_disponibles:535 | ‚úÖ Servicios disponibles cargados: 11
2025-09-25 08:32:32 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:236 | ‚úÖ Servicios cargados desde EstadoOdontologia: 11
2025-09-25 08:32:32 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 11 servicios
2025-09-25 08:32:32 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-25 08:32:33 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-25 08:32:35 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 08:32:37 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 08:32:38 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:230 | Cargando servicios para intervenci√≥n...
2025-09-25 08:32:38 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 11 registros
2025-09-25 08:32:38 | INFO     | dental_system.state.estado_odontologia | cargar_servicios_disponibles:535 | ‚úÖ Servicios disponibles cargados: 11
2025-09-25 08:32:38 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:236 | ‚úÖ Servicios cargados desde EstadoOdontologia: 11
2025-09-25 08:32:38 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 11 servicios
2025-09-25 08:34:28 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 08:34:28 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 08:35:43 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 08:35:43 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 08:35:48 | INFO     | dental_system.supabase.auth | sign_in:71 | üîê Autenticando usuario: gerente@odontomara.com
2025-09-25 08:35:49 | INFO     | dental_system.supabase.auth | sign_in:84 | ‚úÖ Autenticaci√≥n con Supabase exitosa para: gerente@odontomara.com
2025-09-25 08:35:49 | INFO     | dental_system.supabase.auth | sign_in:87 | üîç Buscando usuario en BD con auth_user_id: 8046caa1-add0-4391-a048-d47e3aedf637
2025-09-25 08:35:49 | INFO     | dental_system.supabase.tablas.usuarios | get_by_auth_id:255 | Buscando usuario con auth_user_id: 8046caa1-add0-4391-a048-d47e3aedf637
2025-09-25 08:35:50 | INFO     | dental_system.supabase.tablas.usuarios | get_by_auth_id:258 | Usuario encontrado: True
2025-09-25 08:35:50 | INFO     | dental_system.supabase.auth | sign_in:94 | ‚úÖ Usuario encontrado en BD: gerente@odontomara.com
2025-09-25 08:35:50 | INFO     | dental_system.supabase.auth | sign_in:97 | üìã Obteniendo informaci√≥n b√°sica del usuario: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-25 08:35:50 | INFO     | dental_system.supabase.tablas.usuarios | get_user_basic_info:264 | Obteniendo info b√°sica del usuario: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-25 08:35:50 | INFO     | dental_system.supabase.tablas.base | get_by_id:69 | Obteniendo registro 25356728-1a6e-4cb4-b466-b2b9a31e11ca de usuarios
2025-09-25 08:35:50 | INFO     | dental_system.supabase.tablas.usuarios | get_user_basic_info:279 | Usuario con rol obtenido: gerente@odontomara.com - gerente
2025-09-25 08:35:50 | INFO     | dental_system.supabase.auth | sign_in:104 | ‚úÖ Informaci√≥n del usuario obtenida - Rol: gerente
2025-09-25 08:35:50 | INFO     | dental_system.supabase.auth | sign_in:107 | ‚è∞ Actualizando √∫ltimo acceso para: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-25 08:35:50 | INFO     | dental_system.supabase.auth | sign_in:110 | üéâ Inicio de sesi√≥n completado exitosamente para: gerente@odontomara.com
2025-09-25 08:35:50 | INFO     | dental_system.services.dashboard_service | get_dashboard_stats:54 | üöÄ Obteniendo stats optimizadas para rol: gerente
2025-09-25 08:35:50 | ERROR    | dental_system.services.dashboard_service | _fetch_cached_manager_stats:253 | ‚ùå Error obteniendo stats cacheadas del gerente: {'message': 'column pagos.monto_pagado does not exist', 'code': '42703', 'hint': 'Perhaps you meant to reference the column "pagos.monto_pagado_bs".', 'details': None}
2025-09-25 08:35:50 | INFO     | dental_system.supabase.tablas.personal | get_filtered_personal:139 | ‚úÖ Personal obtenido desde vista: 11 registros
2025-09-25 08:35:50 | INFO     | dental_system.state.estado_personal | cargar_lista_personal:321 | ‚úÖ Lista personal cargada: 11 empleados
2025-09-25 08:35:50 | INFO     | dental_system.supabase.tablas.personal | get_filtered_personal:139 | ‚úÖ Personal obtenido desde vista: 11 registros
2025-09-25 08:35:50 | INFO     | dental_system.services.personal_service | get_personal_stats:543 | ‚úÖ Estad√≠sticas personal calculadas: {'total': 11, 'activos': 11, 'odontologos': 8, 'administradores': 1, 'asistentes': 1, 'gerentes': 1}
2025-09-25 08:35:50 | INFO     | dental_system.state.estado_personal | cargar_estadisticas_personal:358 | ‚úÖ Estad√≠sticas de personal actualizadas
2025-09-25 08:35:50 | INFO     | dental_system.services.consultas_service | get_today_consultations:43 | Obteniendo consultas del d√≠a
2025-09-25 08:35:50 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:527 | Obteniendo consultas del d√≠a 2025-09-25 usando vista optimizada
2025-09-25 08:35:50 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:540 | Vista no disponible, usando query optimizada manual
2025-09-25 08:35:50 | INFO     | dental_system.services.consultas_service | get_today_consultations:76 | ‚úÖ Consultas del d√≠a obtenidas: 0 registros
2025-09-25 08:35:50 | INFO     | dental_system.state.estado_consultas | cargar_lista_consultas:1252 | ‚úÖ 0 consultas cargadas
2025-09-25 08:35:50 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 11 registros
2025-09-25 08:35:50 | INFO     | dental_system.state.estado_servicios | cargar_servicios_basico:1047 | ‚úÖ 11 servicios cargados
2025-09-25 08:35:50 | INFO     | dental_system.supabase.tablas.pagos | get_consultas_pendientes_facturacion:612 | No hay consultas pendientes de facturaci√≥n
2025-09-25 08:35:50 | INFO     | dental_system.services.pagos_service | get_consultas_pendientes_pago:728 | ‚úÖ 0 consultas pendientes de pago obtenidas
2025-09-25 08:35:50 | INFO     | dental_system.state.estado_pagos | cargar_consultas_pendientes_pago:932 | üì≠ No hay consultas pendientes de pago
2025-09-25 08:35:50 | ERROR    | dental_system.supabase.client | wrapper:425 | Error en operaci√≥n de Supabase get_payments_by_date_range: {'message': 'column pacientes_1.nombre_completo does not exist', 'code': '42703', 'hint': None, 'details': None}
2025-09-25 08:35:50 | ERROR    | dental_system.supabase.client | wrapper:425 | Error en operaci√≥n de Supabase get_currency_summary: Error en la base de datos: {'message': 'column pacientes_1.nombre_completo does not exist', 'code': '42703', 'hint': None, 'details': None}
2025-09-25 08:35:50 | ERROR    | dental_system.services.base_service | handle_error:153 | Error obteniendo estad√≠sticas de moneda dual: Error en la base de datos: Error en la base de datos: {'message': 'column pacientes_1.nombre_completo does not exist', 'code': '42703', 'hint': None, 'details': None}
2025-09-25 08:35:50 | INFO     | dental_system.state.estado_pagos | cargar_estadisticas_duales:760 | üìä Estad√≠sticas duales cargadas exitosamente
2025-09-25 08:35:50 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:124 | ‚úÖ Usando lista_servicios: 11 servicios activos
2025-09-25 08:35:51 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-25 08:35:51 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-25 08:35:51 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 08:35:51 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 08:35:51 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:230 | Cargando servicios para intervenci√≥n...
2025-09-25 08:35:51 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 11 registros
2025-09-25 08:35:51 | INFO     | dental_system.state.estado_odontologia | cargar_servicios_disponibles:535 | ‚úÖ Servicios disponibles cargados: 11
2025-09-25 08:35:51 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:236 | ‚úÖ Servicios cargados desde EstadoOdontologia: 11
2025-09-25 08:35:51 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 11 servicios
2025-09-25 08:35:51 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-25 08:35:51 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-25 08:35:51 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 08:35:51 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 08:35:51 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:230 | Cargando servicios para intervenci√≥n...
2025-09-25 08:35:51 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 11 registros
2025-09-25 08:35:51 | INFO     | dental_system.state.estado_odontologia | cargar_servicios_disponibles:535 | ‚úÖ Servicios disponibles cargados: 11
2025-09-25 08:35:51 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:236 | ‚úÖ Servicios cargados desde EstadoOdontologia: 11
2025-09-25 08:35:51 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 11 servicios
2025-09-25 08:36:00 | INFO     | dental_system.state.estado_servicios | editar_servicio:875 | üîç DEBUG - Valores del servicio:
2025-09-25 08:36:00 | INFO     | dental_system.state.estado_servicios | editar_servicio:876 |    duracion_estimada: '00:30:00' (tipo: <class 'str'>)
2025-09-25 08:36:00 | INFO     | dental_system.state.estado_servicios | editar_servicio:877 |    precio_base_bs: '5475.0' (tipo: <class 'decimal.Decimal'>)
2025-09-25 08:36:00 | INFO     | dental_system.state.estado_servicios | editar_servicio:878 |    precio_base_usd: '150.0' (tipo: <class 'decimal.Decimal'>)
2025-09-25 08:36:00 | INFO     | dental_system.state.estado_servicios | editar_servicio:879 |    categoria: 'Cirug√≠a' (tipo: <class 'str'>)
2025-09-25 08:36:00 | INFO     | dental_system.state.estado_servicios | editar_servicio:924 | ‚úèÔ∏è Modal editar servicio f889dbaa-e449-4b74-9097-c61f94b16b7e abierto
2025-09-25 08:36:11 | INFO     | dental_system.state.estado_servicios | editar_servicio:875 | üîç DEBUG - Valores del servicio:
2025-09-25 08:36:11 | INFO     | dental_system.state.estado_servicios | editar_servicio:876 |    duracion_estimada: '00:00:19' (tipo: <class 'str'>)
2025-09-25 08:36:11 | INFO     | dental_system.state.estado_servicios | editar_servicio:877 |    precio_base_bs: '98563.0' (tipo: <class 'decimal.Decimal'>)
2025-09-25 08:36:11 | INFO     | dental_system.state.estado_servicios | editar_servicio:878 |    precio_base_usd: '57.0' (tipo: <class 'decimal.Decimal'>)
2025-09-25 08:36:11 | INFO     | dental_system.state.estado_servicios | editar_servicio:879 |    categoria: 'Preventiva' (tipo: <class 'str'>)
2025-09-25 08:36:11 | INFO     | dental_system.state.estado_servicios | editar_servicio:924 | ‚úèÔ∏è Modal editar servicio 8987c53c-6c17-4990-91fa-8b5147f50ba4 abierto
2025-09-25 08:36:50 | INFO     | dental_system.state.estado_servicios | editar_servicio:875 | üîç DEBUG - Valores del servicio:
2025-09-25 08:36:50 | INFO     | dental_system.state.estado_servicios | editar_servicio:876 |    duracion_estimada: '00:30:00' (tipo: <class 'str'>)
2025-09-25 08:36:50 | INFO     | dental_system.state.estado_servicios | editar_servicio:877 |    precio_base_bs: '2190.0' (tipo: <class 'decimal.Decimal'>)
2025-09-25 08:36:50 | INFO     | dental_system.state.estado_servicios | editar_servicio:878 |    precio_base_usd: '60.0' (tipo: <class 'decimal.Decimal'>)
2025-09-25 08:36:50 | INFO     | dental_system.state.estado_servicios | editar_servicio:879 |    categoria: 'Diagn√≥stico' (tipo: <class 'str'>)
2025-09-25 08:36:50 | INFO     | dental_system.state.estado_servicios | editar_servicio:924 | ‚úèÔ∏è Modal editar servicio 07427cae-6fda-4796-b56e-f15c3411b095 abierto
2025-09-25 08:40:19 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 08:40:19 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 08:40:25 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-25 08:40:26 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-25 08:40:26 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 08:40:26 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 08:40:26 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:230 | Cargando servicios para intervenci√≥n...
2025-09-25 08:40:28 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 11 registros
2025-09-25 08:40:28 | INFO     | dental_system.state.estado_odontologia | cargar_servicios_disponibles:535 | ‚úÖ Servicios disponibles cargados: 11
2025-09-25 08:40:28 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:236 | ‚úÖ Servicios cargados desde EstadoOdontologia: 11
2025-09-25 08:40:28 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 11 servicios
2025-09-25 08:40:29 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-25 08:40:29 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-25 08:40:30 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 08:40:31 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 08:40:31 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:230 | Cargando servicios para intervenci√≥n...
2025-09-25 08:40:31 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 11 registros
2025-09-25 08:40:31 | INFO     | dental_system.state.estado_odontologia | cargar_servicios_disponibles:535 | ‚úÖ Servicios disponibles cargados: 11
2025-09-25 08:40:31 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:236 | ‚úÖ Servicios cargados desde EstadoOdontologia: 11
2025-09-25 08:40:31 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 11 servicios
2025-09-25 08:40:31 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-25 08:40:32 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-25 08:40:35 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 08:40:38 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 08:40:39 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:230 | Cargando servicios para intervenci√≥n...
2025-09-25 08:40:39 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 11 registros
2025-09-25 08:40:39 | INFO     | dental_system.state.estado_odontologia | cargar_servicios_disponibles:535 | ‚úÖ Servicios disponibles cargados: 11
2025-09-25 08:40:39 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:236 | ‚úÖ Servicios cargados desde EstadoOdontologia: 11
2025-09-25 08:40:39 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 11 servicios
2025-09-25 08:42:40 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 08:42:40 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 08:43:09 | INFO     | dental_system.state.estado_servicios | editar_servicio:875 | üîç DEBUG - Valores del servicio:
2025-09-25 08:43:09 | INFO     | dental_system.state.estado_servicios | editar_servicio:876 |    duracion_estimada: '00:00:19' (tipo: <class 'str'>)
2025-09-25 08:43:09 | INFO     | dental_system.state.estado_servicios | editar_servicio:877 |    precio_base_bs: '98563.0' (tipo: <class 'decimal.Decimal'>)
2025-09-25 08:43:09 | INFO     | dental_system.state.estado_servicios | editar_servicio:878 |    precio_base_usd: '57.0' (tipo: <class 'decimal.Decimal'>)
2025-09-25 08:43:09 | INFO     | dental_system.state.estado_servicios | editar_servicio:879 |    categoria: 'Preventiva' (tipo: <class 'str'>)
2025-09-25 08:43:09 | INFO     | dental_system.state.estado_servicios | editar_servicio:924 | ‚úèÔ∏è Modal editar servicio 8987c53c-6c17-4990-91fa-8b5147f50ba4 abierto
2025-09-25 08:45:54 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 08:45:54 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 08:46:31 | INFO     | dental_system.state.estado_servicios | editar_servicio:888 | üîç DEBUG - Valores del servicio:
2025-09-25 08:46:31 | INFO     | dental_system.state.estado_servicios | editar_servicio:889 |    duracion_estimada: '00:00:19' (tipo: <class 'str'>)
2025-09-25 08:46:31 | INFO     | dental_system.state.estado_servicios | editar_servicio:890 |    precio_base_bs: '98563.0' (tipo: <class 'decimal.Decimal'>)
2025-09-25 08:46:31 | INFO     | dental_system.state.estado_servicios | editar_servicio:891 |    precio_base_usd: '57.0' (tipo: <class 'decimal.Decimal'>)
2025-09-25 08:46:31 | INFO     | dental_system.state.estado_servicios | editar_servicio:892 |    categoria: 'Preventiva' (tipo: <class 'str'>)
2025-09-25 08:46:31 | INFO     | dental_system.state.estado_servicios | editar_servicio:937 | ‚úèÔ∏è Modal editar servicio 8987c53c-6c17-4990-91fa-8b5147f50ba4 abierto
2025-09-25 08:46:40 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 08:46:40 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 08:49:11 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 08:49:11 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 08:49:23 | INFO     | dental_system.supabase.auth | sign_in:71 | üîê Autenticando usuario: gerente@odontomara.com
2025-09-25 08:49:23 | INFO     | dental_system.supabase.auth | sign_in:84 | ‚úÖ Autenticaci√≥n con Supabase exitosa para: gerente@odontomara.com
2025-09-25 08:49:23 | INFO     | dental_system.supabase.auth | sign_in:87 | üîç Buscando usuario en BD con auth_user_id: 8046caa1-add0-4391-a048-d47e3aedf637
2025-09-25 08:49:23 | INFO     | dental_system.supabase.tablas.usuarios | get_by_auth_id:255 | Buscando usuario con auth_user_id: 8046caa1-add0-4391-a048-d47e3aedf637
2025-09-25 08:49:25 | INFO     | dental_system.supabase.tablas.usuarios | get_by_auth_id:258 | Usuario encontrado: True
2025-09-25 08:49:25 | INFO     | dental_system.supabase.auth | sign_in:94 | ‚úÖ Usuario encontrado en BD: gerente@odontomara.com
2025-09-25 08:49:25 | INFO     | dental_system.supabase.auth | sign_in:97 | üìã Obteniendo informaci√≥n b√°sica del usuario: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-25 08:49:25 | INFO     | dental_system.supabase.tablas.usuarios | get_user_basic_info:264 | Obteniendo info b√°sica del usuario: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-25 08:49:25 | INFO     | dental_system.supabase.tablas.base | get_by_id:69 | Obteniendo registro 25356728-1a6e-4cb4-b466-b2b9a31e11ca de usuarios
2025-09-25 08:49:25 | INFO     | dental_system.supabase.tablas.usuarios | get_user_basic_info:279 | Usuario con rol obtenido: gerente@odontomara.com - gerente
2025-09-25 08:49:25 | INFO     | dental_system.supabase.auth | sign_in:104 | ‚úÖ Informaci√≥n del usuario obtenida - Rol: gerente
2025-09-25 08:49:25 | INFO     | dental_system.supabase.auth | sign_in:107 | ‚è∞ Actualizando √∫ltimo acceso para: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-25 08:49:25 | INFO     | dental_system.supabase.auth | sign_in:110 | üéâ Inicio de sesi√≥n completado exitosamente para: gerente@odontomara.com
2025-09-25 08:49:25 | INFO     | dental_system.services.dashboard_service | get_dashboard_stats:54 | üöÄ Obteniendo stats optimizadas para rol: gerente
2025-09-25 08:49:25 | ERROR    | dental_system.services.dashboard_service | _fetch_cached_manager_stats:253 | ‚ùå Error obteniendo stats cacheadas del gerente: {'message': 'column pagos.monto_pagado does not exist', 'code': '42703', 'hint': 'Perhaps you meant to reference the column "pagos.monto_pagado_bs".', 'details': None}
2025-09-25 08:49:25 | INFO     | dental_system.supabase.tablas.personal | get_filtered_personal:139 | ‚úÖ Personal obtenido desde vista: 11 registros
2025-09-25 08:49:25 | INFO     | dental_system.state.estado_personal | cargar_lista_personal:321 | ‚úÖ Lista personal cargada: 11 empleados
2025-09-25 08:49:25 | INFO     | dental_system.supabase.tablas.personal | get_filtered_personal:139 | ‚úÖ Personal obtenido desde vista: 11 registros
2025-09-25 08:49:25 | INFO     | dental_system.services.personal_service | get_personal_stats:543 | ‚úÖ Estad√≠sticas personal calculadas: {'total': 11, 'activos': 11, 'odontologos': 8, 'administradores': 1, 'asistentes': 1, 'gerentes': 1}
2025-09-25 08:49:25 | INFO     | dental_system.state.estado_personal | cargar_estadisticas_personal:358 | ‚úÖ Estad√≠sticas de personal actualizadas
2025-09-25 08:49:25 | INFO     | dental_system.services.consultas_service | get_today_consultations:43 | Obteniendo consultas del d√≠a
2025-09-25 08:49:25 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:527 | Obteniendo consultas del d√≠a 2025-09-25 usando vista optimizada
2025-09-25 08:49:25 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:540 | Vista no disponible, usando query optimizada manual
2025-09-25 08:49:25 | INFO     | dental_system.services.consultas_service | get_today_consultations:76 | ‚úÖ Consultas del d√≠a obtenidas: 0 registros
2025-09-25 08:49:25 | INFO     | dental_system.state.estado_consultas | cargar_lista_consultas:1252 | ‚úÖ 0 consultas cargadas
2025-09-25 08:49:25 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 11 registros
2025-09-25 08:49:25 | INFO     | dental_system.state.estado_servicios | cargar_servicios_basico:1020 | ‚úÖ 11 servicios cargados
2025-09-25 08:49:25 | INFO     | dental_system.supabase.tablas.pagos | get_consultas_pendientes_facturacion:612 | No hay consultas pendientes de facturaci√≥n
2025-09-25 08:49:25 | INFO     | dental_system.services.pagos_service | get_consultas_pendientes_pago:728 | ‚úÖ 0 consultas pendientes de pago obtenidas
2025-09-25 08:49:25 | INFO     | dental_system.state.estado_pagos | cargar_consultas_pendientes_pago:932 | üì≠ No hay consultas pendientes de pago
2025-09-25 08:49:25 | ERROR    | dental_system.supabase.client | wrapper:425 | Error en operaci√≥n de Supabase get_payments_by_date_range: {'message': 'column pacientes_1.nombre_completo does not exist', 'code': '42703', 'hint': None, 'details': None}
2025-09-25 08:49:25 | ERROR    | dental_system.supabase.client | wrapper:425 | Error en operaci√≥n de Supabase get_currency_summary: Error en la base de datos: {'message': 'column pacientes_1.nombre_completo does not exist', 'code': '42703', 'hint': None, 'details': None}
2025-09-25 08:49:25 | ERROR    | dental_system.services.base_service | handle_error:153 | Error obteniendo estad√≠sticas de moneda dual: Error en la base de datos: Error en la base de datos: {'message': 'column pacientes_1.nombre_completo does not exist', 'code': '42703', 'hint': None, 'details': None}
2025-09-25 08:49:25 | INFO     | dental_system.state.estado_pagos | cargar_estadisticas_duales:760 | üìä Estad√≠sticas duales cargadas exitosamente
2025-09-25 08:49:25 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:124 | ‚úÖ Usando lista_servicios: 11 servicios activos
2025-09-25 08:49:25 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-25 08:49:25 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-25 08:49:25 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 08:49:25 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 08:49:26 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:230 | Cargando servicios para intervenci√≥n...
2025-09-25 08:49:26 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 11 registros
2025-09-25 08:49:26 | INFO     | dental_system.state.estado_odontologia | cargar_servicios_disponibles:535 | ‚úÖ Servicios disponibles cargados: 11
2025-09-25 08:49:26 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:236 | ‚úÖ Servicios cargados desde EstadoOdontologia: 11
2025-09-25 08:49:26 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 11 servicios
2025-09-25 08:49:26 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-25 08:49:26 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-25 08:49:26 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 08:49:26 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 08:49:26 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:230 | Cargando servicios para intervenci√≥n...
2025-09-25 08:49:26 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 11 registros
2025-09-25 08:49:26 | INFO     | dental_system.state.estado_odontologia | cargar_servicios_disponibles:535 | ‚úÖ Servicios disponibles cargados: 11
2025-09-25 08:49:26 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:236 | ‚úÖ Servicios cargados desde EstadoOdontologia: 11
2025-09-25 08:49:26 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 11 servicios
2025-09-25 08:50:20 | INFO     | dental_system.state.estado_servicios | editar_servicio:897 | ‚úèÔ∏è Modal editar servicio 8987c53c-6c17-4990-91fa-8b5147f50ba4 abierto
2025-09-25 08:54:36 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 08:54:36 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 08:57:38 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 08:57:38 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 09:00:15 | INFO     | dental_system.services.servicios_service | reactivate_service:270 | Reactivando servicio: 8987c53c-6c17-4990-91fa-8b5147f50ba4
2025-09-25 09:00:15 | WARNING  | dental_system.services.servicios_service | reactivate_service:291 | Usuario sin permisos para reactivar servicios
2025-09-25 09:00:15 | ERROR    | dental_system.state.estado_servicios | activar_desactivar_servicio:670 | ‚ùå Error cambiando estado servicio: Usuario con rol 'unknown' no tiene permiso para crear en servicios
2025-09-25 09:00:17 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 11 registros
2025-09-25 09:00:17 | INFO     | dental_system.state.estado_servicios | cargar_lista_servicios:417 | ‚úÖ Lista servicios cargada: 11 servicios
2025-09-25 09:00:17 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 11 servicios
2025-09-25 09:00:18 | INFO     | dental_system.state.estado_servicios | editar_servicio:902 | ‚úèÔ∏è Modal editar servicio 8987c53c-6c17-4990-91fa-8b5147f50ba4 abierto
2025-09-25 09:11:58 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 09:11:58 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 10:21:48 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 10:21:48 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 10:22:26 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 10:22:26 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 10:23:44 | INFO     | dental_system.supabase.auth | sign_in:71 | üîê Autenticando usuario: gerente@odontomara.com
2025-09-25 10:23:46 | ERROR    | dental_system.supabase.auth | sign_in:115 | üí• Error en inicio de sesi√≥n: [WinError 10061] No se puede establecer una conexi√≥n ya que el equipo de destino deneg√≥ expresamente dicha conexi√≥n
2025-09-25 10:23:46 | ERROR    | dental_system.supabase.client | wrapper:425 | Error en operaci√≥n de Supabase sign_in: Error al iniciar sesi√≥n: [WinError 10061] No se puede establecer una conexi√≥n ya que el equipo de destino deneg√≥ expresamente dicha conexi√≥n
2025-09-25 10:24:34 | INFO     | dental_system.supabase.auth | sign_in:71 | üîê Autenticando usuario: gerente@odontomara.com
2025-09-25 10:24:36 | ERROR    | dental_system.supabase.auth | sign_in:115 | üí• Error en inicio de sesi√≥n: Server error '503 Service Temporarily Unavailable' for url 'http://127.0.0.1:54321/auth/v1/token?grant_type=password'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/503
2025-09-25 10:24:36 | ERROR    | dental_system.supabase.client | wrapper:425 | Error en operaci√≥n de Supabase sign_in: Error al iniciar sesi√≥n: Server error '503 Service Temporarily Unavailable' for url 'http://127.0.0.1:54321/auth/v1/token?grant_type=password'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/503
2025-09-25 10:25:52 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 10:25:52 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 10:26:14 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 10:26:14 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 10:26:16 | INFO     | dental_system.supabase.auth | sign_in:71 | üîê Autenticando usuario: gerente@odontomara.com
2025-09-25 10:26:16 | INFO     | dental_system.supabase.auth | sign_in:84 | ‚úÖ Autenticaci√≥n con Supabase exitosa para: gerente@odontomara.com
2025-09-25 10:26:16 | INFO     | dental_system.supabase.auth | sign_in:87 | üîç Buscando usuario en BD con auth_user_id: 8046caa1-add0-4391-a048-d47e3aedf637
2025-09-25 10:26:16 | INFO     | dental_system.supabase.tablas.usuarios | get_by_auth_id:255 | Buscando usuario con auth_user_id: 8046caa1-add0-4391-a048-d47e3aedf637
2025-09-25 10:26:17 | INFO     | dental_system.supabase.tablas.usuarios | get_by_auth_id:258 | Usuario encontrado: True
2025-09-25 10:26:17 | INFO     | dental_system.supabase.auth | sign_in:94 | ‚úÖ Usuario encontrado en BD: gerente@odontomara.com
2025-09-25 10:26:17 | INFO     | dental_system.supabase.auth | sign_in:97 | üìã Obteniendo informaci√≥n b√°sica del usuario: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-25 10:26:17 | INFO     | dental_system.supabase.tablas.usuarios | get_user_basic_info:264 | Obteniendo info b√°sica del usuario: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-25 10:26:17 | INFO     | dental_system.supabase.tablas.base | get_by_id:69 | Obteniendo registro 25356728-1a6e-4cb4-b466-b2b9a31e11ca de usuarios
2025-09-25 10:26:17 | INFO     | dental_system.supabase.tablas.usuarios | get_user_basic_info:279 | Usuario con rol obtenido: gerente@odontomara.com - gerente
2025-09-25 10:26:17 | INFO     | dental_system.supabase.auth | sign_in:104 | ‚úÖ Informaci√≥n del usuario obtenida - Rol: gerente
2025-09-25 10:26:17 | INFO     | dental_system.supabase.auth | sign_in:107 | ‚è∞ Actualizando √∫ltimo acceso para: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-25 10:26:17 | INFO     | dental_system.supabase.auth | sign_in:110 | üéâ Inicio de sesi√≥n completado exitosamente para: gerente@odontomara.com
2025-09-25 10:26:17 | INFO     | dental_system.services.dashboard_service | get_dashboard_stats:54 | üöÄ Obteniendo stats optimizadas para rol: gerente
2025-09-25 10:26:17 | ERROR    | dental_system.services.dashboard_service | _fetch_cached_manager_stats:253 | ‚ùå Error obteniendo stats cacheadas del gerente: {'message': 'column pagos.monto_pagado does not exist', 'code': '42703', 'hint': 'Perhaps you meant to reference the column "pagos.monto_pagado_bs".', 'details': None}
2025-09-25 10:26:17 | INFO     | dental_system.supabase.tablas.personal | get_filtered_personal:139 | ‚úÖ Personal obtenido desde vista: 11 registros
2025-09-25 10:26:17 | INFO     | dental_system.state.estado_personal | cargar_lista_personal:321 | ‚úÖ Lista personal cargada: 11 empleados
2025-09-25 10:26:17 | INFO     | dental_system.supabase.tablas.personal | get_filtered_personal:139 | ‚úÖ Personal obtenido desde vista: 11 registros
2025-09-25 10:26:17 | INFO     | dental_system.services.personal_service | get_personal_stats:543 | ‚úÖ Estad√≠sticas personal calculadas: {'total': 11, 'activos': 11, 'odontologos': 8, 'administradores': 1, 'asistentes': 1, 'gerentes': 1}
2025-09-25 10:26:17 | INFO     | dental_system.state.estado_personal | cargar_estadisticas_personal:358 | ‚úÖ Estad√≠sticas de personal actualizadas
2025-09-25 10:26:17 | INFO     | dental_system.services.consultas_service | get_today_consultations:43 | Obteniendo consultas del d√≠a
2025-09-25 10:26:17 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:527 | Obteniendo consultas del d√≠a 2025-09-25 usando vista optimizada
2025-09-25 10:26:17 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:540 | Vista no disponible, usando query optimizada manual
2025-09-25 10:26:17 | INFO     | dental_system.services.consultas_service | get_today_consultations:76 | ‚úÖ Consultas del d√≠a obtenidas: 0 registros
2025-09-25 10:26:17 | INFO     | dental_system.state.estado_consultas | cargar_lista_consultas:1252 | ‚úÖ 0 consultas cargadas
2025-09-25 10:26:17 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 11 registros
2025-09-25 10:26:17 | INFO     | dental_system.state.estado_servicios | cargar_servicios_basico:1025 | ‚úÖ 11 servicios cargados
2025-09-25 10:26:17 | INFO     | dental_system.supabase.tablas.pagos | get_consultas_pendientes_facturacion:612 | No hay consultas pendientes de facturaci√≥n
2025-09-25 10:26:17 | INFO     | dental_system.services.pagos_service | get_consultas_pendientes_pago:728 | ‚úÖ 0 consultas pendientes de pago obtenidas
2025-09-25 10:26:17 | INFO     | dental_system.state.estado_pagos | cargar_consultas_pendientes_pago:932 | üì≠ No hay consultas pendientes de pago
2025-09-25 10:26:17 | ERROR    | dental_system.supabase.client | wrapper:425 | Error en operaci√≥n de Supabase get_payments_by_date_range: {'message': 'column pacientes_1.nombre_completo does not exist', 'code': '42703', 'hint': None, 'details': None}
2025-09-25 10:26:17 | ERROR    | dental_system.supabase.client | wrapper:425 | Error en operaci√≥n de Supabase get_currency_summary: Error en la base de datos: {'message': 'column pacientes_1.nombre_completo does not exist', 'code': '42703', 'hint': None, 'details': None}
2025-09-25 10:26:17 | ERROR    | dental_system.services.base_service | handle_error:153 | Error obteniendo estad√≠sticas de moneda dual: Error en la base de datos: Error en la base de datos: {'message': 'column pacientes_1.nombre_completo does not exist', 'code': '42703', 'hint': None, 'details': None}
2025-09-25 10:26:17 | INFO     | dental_system.state.estado_pagos | cargar_estadisticas_duales:760 | üìä Estad√≠sticas duales cargadas exitosamente
2025-09-25 10:26:17 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:124 | ‚úÖ Usando lista_servicios: 11 servicios activos
2025-09-25 10:26:20 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-25 10:26:20 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-25 10:26:20 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 10:26:21 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 10:26:21 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:230 | Cargando servicios para intervenci√≥n...
2025-09-25 10:26:21 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 11 registros
2025-09-25 10:26:21 | INFO     | dental_system.state.estado_odontologia | cargar_servicios_disponibles:535 | ‚úÖ Servicios disponibles cargados: 11
2025-09-25 10:26:21 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:236 | ‚úÖ Servicios cargados desde EstadoOdontologia: 11
2025-09-25 10:26:21 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 11 servicios
2025-09-25 10:26:21 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-25 10:26:21 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-25 10:26:21 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 10:26:21 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 10:26:21 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:230 | Cargando servicios para intervenci√≥n...
2025-09-25 10:26:21 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 11 registros
2025-09-25 10:26:21 | INFO     | dental_system.state.estado_odontologia | cargar_servicios_disponibles:535 | ‚úÖ Servicios disponibles cargados: 11
2025-09-25 10:26:21 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:236 | ‚úÖ Servicios cargados desde EstadoOdontologia: 11
2025-09-25 10:26:21 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 11 servicios
2025-09-25 10:26:34 | INFO     | dental_system.state.estado_servicios | editar_servicio:902 | ‚úèÔ∏è Modal editar servicio 8987c53c-6c17-4990-91fa-8b5147f50ba4 abierto
2025-09-25 10:26:42 | INFO     | dental_system.state.estado_servicios | editar_servicio:902 | ‚úèÔ∏è Modal editar servicio f889dbaa-e449-4b74-9097-c61f94b16b7e abierto
2025-09-25 10:30:58 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 10:30:58 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 10:31:00 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 10:31:00 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 10:31:20 | INFO     | dental_system.supabase.auth | sign_in:71 | üîê Autenticando usuario: gerente@odontomara.com
2025-09-25 10:31:21 | INFO     | dental_system.supabase.auth | sign_in:84 | ‚úÖ Autenticaci√≥n con Supabase exitosa para: gerente@odontomara.com
2025-09-25 10:31:21 | INFO     | dental_system.supabase.auth | sign_in:87 | üîç Buscando usuario en BD con auth_user_id: 8046caa1-add0-4391-a048-d47e3aedf637
2025-09-25 10:31:21 | INFO     | dental_system.supabase.tablas.usuarios | get_by_auth_id:255 | Buscando usuario con auth_user_id: 8046caa1-add0-4391-a048-d47e3aedf637
2025-09-25 10:31:21 | INFO     | dental_system.supabase.tablas.usuarios | get_by_auth_id:258 | Usuario encontrado: True
2025-09-25 10:31:21 | INFO     | dental_system.supabase.auth | sign_in:94 | ‚úÖ Usuario encontrado en BD: gerente@odontomara.com
2025-09-25 10:31:21 | INFO     | dental_system.supabase.auth | sign_in:97 | üìã Obteniendo informaci√≥n b√°sica del usuario: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-25 10:31:21 | INFO     | dental_system.supabase.tablas.usuarios | get_user_basic_info:264 | Obteniendo info b√°sica del usuario: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-25 10:31:21 | INFO     | dental_system.supabase.tablas.base | get_by_id:69 | Obteniendo registro 25356728-1a6e-4cb4-b466-b2b9a31e11ca de usuarios
2025-09-25 10:31:22 | INFO     | dental_system.supabase.tablas.usuarios | get_user_basic_info:279 | Usuario con rol obtenido: gerente@odontomara.com - gerente
2025-09-25 10:31:22 | INFO     | dental_system.supabase.auth | sign_in:104 | ‚úÖ Informaci√≥n del usuario obtenida - Rol: gerente
2025-09-25 10:31:22 | INFO     | dental_system.supabase.auth | sign_in:107 | ‚è∞ Actualizando √∫ltimo acceso para: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-25 10:31:22 | INFO     | dental_system.supabase.auth | sign_in:110 | üéâ Inicio de sesi√≥n completado exitosamente para: gerente@odontomara.com
2025-09-25 10:31:22 | INFO     | dental_system.services.dashboard_service | get_dashboard_stats:54 | üöÄ Obteniendo stats optimizadas para rol: gerente
2025-09-25 10:31:22 | ERROR    | dental_system.services.dashboard_service | _fetch_cached_manager_stats:253 | ‚ùå Error obteniendo stats cacheadas del gerente: {'message': 'column pagos.monto_pagado does not exist', 'code': '42703', 'hint': 'Perhaps you meant to reference the column "pagos.monto_pagado_bs".', 'details': None}
2025-09-25 10:31:22 | INFO     | dental_system.supabase.tablas.personal | get_filtered_personal:139 | ‚úÖ Personal obtenido desde vista: 11 registros
2025-09-25 10:31:22 | INFO     | dental_system.state.estado_personal | cargar_lista_personal:321 | ‚úÖ Lista personal cargada: 11 empleados
2025-09-25 10:31:22 | INFO     | dental_system.supabase.tablas.personal | get_filtered_personal:139 | ‚úÖ Personal obtenido desde vista: 11 registros
2025-09-25 10:31:22 | INFO     | dental_system.services.personal_service | get_personal_stats:543 | ‚úÖ Estad√≠sticas personal calculadas: {'total': 11, 'activos': 11, 'odontologos': 8, 'administradores': 1, 'asistentes': 1, 'gerentes': 1}
2025-09-25 10:31:22 | INFO     | dental_system.state.estado_personal | cargar_estadisticas_personal:358 | ‚úÖ Estad√≠sticas de personal actualizadas
2025-09-25 10:31:22 | INFO     | dental_system.services.consultas_service | get_today_consultations:43 | Obteniendo consultas del d√≠a
2025-09-25 10:31:22 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:527 | Obteniendo consultas del d√≠a 2025-09-25 usando vista optimizada
2025-09-25 10:31:22 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:540 | Vista no disponible, usando query optimizada manual
2025-09-25 10:31:22 | INFO     | dental_system.services.consultas_service | get_today_consultations:76 | ‚úÖ Consultas del d√≠a obtenidas: 0 registros
2025-09-25 10:31:22 | INFO     | dental_system.state.estado_consultas | cargar_lista_consultas:1252 | ‚úÖ 0 consultas cargadas
2025-09-25 10:31:22 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 11 registros
2025-09-25 10:31:22 | INFO     | dental_system.state.estado_servicios | cargar_servicios_basico:1039 | ‚úÖ 11 servicios cargados
2025-09-25 10:31:22 | INFO     | dental_system.supabase.tablas.pagos | get_consultas_pendientes_facturacion:612 | No hay consultas pendientes de facturaci√≥n
2025-09-25 10:31:22 | INFO     | dental_system.services.pagos_service | get_consultas_pendientes_pago:728 | ‚úÖ 0 consultas pendientes de pago obtenidas
2025-09-25 10:31:22 | INFO     | dental_system.state.estado_pagos | cargar_consultas_pendientes_pago:932 | üì≠ No hay consultas pendientes de pago
2025-09-25 10:31:22 | ERROR    | dental_system.supabase.client | wrapper:425 | Error en operaci√≥n de Supabase get_payments_by_date_range: {'message': 'column pacientes_1.nombre_completo does not exist', 'code': '42703', 'hint': None, 'details': None}
2025-09-25 10:31:22 | ERROR    | dental_system.supabase.client | wrapper:425 | Error en operaci√≥n de Supabase get_currency_summary: Error en la base de datos: {'message': 'column pacientes_1.nombre_completo does not exist', 'code': '42703', 'hint': None, 'details': None}
2025-09-25 10:31:22 | ERROR    | dental_system.services.base_service | handle_error:153 | Error obteniendo estad√≠sticas de moneda dual: Error en la base de datos: Error en la base de datos: {'message': 'column pacientes_1.nombre_completo does not exist', 'code': '42703', 'hint': None, 'details': None}
2025-09-25 10:31:22 | INFO     | dental_system.state.estado_pagos | cargar_estadisticas_duales:760 | üìä Estad√≠sticas duales cargadas exitosamente
2025-09-25 10:31:22 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:124 | ‚úÖ Usando lista_servicios: 11 servicios activos
2025-09-25 10:31:22 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-25 10:31:22 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 10:31:22 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 10:31:22 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-25 10:31:22 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 10:31:22 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 10:31:22 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:230 | Cargando servicios para intervenci√≥n...
2025-09-25 10:31:22 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 11 registros
2025-09-25 10:31:22 | INFO     | dental_system.state.estado_odontologia | cargar_servicios_disponibles:535 | ‚úÖ Servicios disponibles cargados: 11
2025-09-25 10:31:22 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:236 | ‚úÖ Servicios cargados desde EstadoOdontologia: 11
2025-09-25 10:31:22 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 11 servicios
2025-09-25 10:31:22 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-25 10:31:22 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-25 10:31:22 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 10:31:23 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 10:31:23 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:230 | Cargando servicios para intervenci√≥n...
2025-09-25 10:31:23 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 11 registros
2025-09-25 10:31:23 | INFO     | dental_system.state.estado_odontologia | cargar_servicios_disponibles:535 | ‚úÖ Servicios disponibles cargados: 11
2025-09-25 10:31:23 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:236 | ‚úÖ Servicios cargados desde EstadoOdontologia: 11
2025-09-25 10:31:23 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 11 servicios
2025-09-25 10:31:39 | INFO     | dental_system.state.estado_servicios | editar_servicio:910 | ‚úèÔ∏è Modal editar servicio 8987c53c-6c17-4990-91fa-8b5147f50ba4 abierto
2025-09-25 10:34:59 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 10:34:59 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 10:34:59 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 10:34:59 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 10:35:33 | INFO     | dental_system.state.estado_servicios | editar_servicio:890 | ‚úèÔ∏è Modal editar servicio 8987c53c-6c17-4990-91fa-8b5147f50ba4 abierto
2025-09-25 10:35:49 | ERROR    | dental_system.services.servicios_service | update_service:211 | Error actualizando servicio 8987c53c-6c17-4990-91fa-8b5147f50ba4: No tiene permisos para editar servicios
2025-09-25 10:35:49 | ERROR    | dental_system.state.estado_servicios | actualizar_servicio:631 | ‚ùå Error actualizando servicio: No tiene permisos para editar servicios
2025-09-25 10:39:31 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 10:39:31 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 10:39:32 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 10:39:32 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 10:39:45 | INFO     | dental_system.state.estado_servicios | editar_servicio:890 | ‚úèÔ∏è Modal editar servicio 8987c53c-6c17-4990-91fa-8b5147f50ba4 abierto
2025-09-25 10:40:51 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 10:40:51 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 10:41:20 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 10:41:20 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 10:41:23 | INFO     | dental_system.supabase.auth | sign_in:71 | üîê Autenticando usuario: gerente@odontomara.com
2025-09-25 10:41:23 | INFO     | dental_system.supabase.auth | sign_in:84 | ‚úÖ Autenticaci√≥n con Supabase exitosa para: gerente@odontomara.com
2025-09-25 10:41:23 | INFO     | dental_system.supabase.auth | sign_in:87 | üîç Buscando usuario en BD con auth_user_id: 8046caa1-add0-4391-a048-d47e3aedf637
2025-09-25 10:41:23 | INFO     | dental_system.supabase.tablas.usuarios | get_by_auth_id:255 | Buscando usuario con auth_user_id: 8046caa1-add0-4391-a048-d47e3aedf637
2025-09-25 10:41:24 | INFO     | dental_system.supabase.tablas.usuarios | get_by_auth_id:258 | Usuario encontrado: True
2025-09-25 10:41:24 | INFO     | dental_system.supabase.auth | sign_in:94 | ‚úÖ Usuario encontrado en BD: gerente@odontomara.com
2025-09-25 10:41:24 | INFO     | dental_system.supabase.auth | sign_in:97 | üìã Obteniendo informaci√≥n b√°sica del usuario: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-25 10:41:24 | INFO     | dental_system.supabase.tablas.usuarios | get_user_basic_info:264 | Obteniendo info b√°sica del usuario: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-25 10:41:24 | INFO     | dental_system.supabase.tablas.base | get_by_id:69 | Obteniendo registro 25356728-1a6e-4cb4-b466-b2b9a31e11ca de usuarios
2025-09-25 10:41:24 | INFO     | dental_system.supabase.tablas.usuarios | get_user_basic_info:279 | Usuario con rol obtenido: gerente@odontomara.com - gerente
2025-09-25 10:41:24 | INFO     | dental_system.supabase.auth | sign_in:104 | ‚úÖ Informaci√≥n del usuario obtenida - Rol: gerente
2025-09-25 10:41:24 | INFO     | dental_system.supabase.auth | sign_in:107 | ‚è∞ Actualizando √∫ltimo acceso para: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-25 10:41:24 | INFO     | dental_system.supabase.auth | sign_in:110 | üéâ Inicio de sesi√≥n completado exitosamente para: gerente@odontomara.com
2025-09-25 10:41:24 | INFO     | dental_system.services.dashboard_service | get_dashboard_stats:54 | üöÄ Obteniendo stats optimizadas para rol: gerente
2025-09-25 10:41:24 | ERROR    | dental_system.services.dashboard_service | _fetch_cached_manager_stats:253 | ‚ùå Error obteniendo stats cacheadas del gerente: {'message': 'column pagos.monto_pagado does not exist', 'code': '42703', 'hint': 'Perhaps you meant to reference the column "pagos.monto_pagado_bs".', 'details': None}
2025-09-25 10:41:25 | INFO     | dental_system.supabase.tablas.personal | get_filtered_personal:139 | ‚úÖ Personal obtenido desde vista: 11 registros
2025-09-25 10:41:25 | INFO     | dental_system.state.estado_personal | cargar_lista_personal:321 | ‚úÖ Lista personal cargada: 11 empleados
2025-09-25 10:41:25 | INFO     | dental_system.supabase.tablas.personal | get_filtered_personal:139 | ‚úÖ Personal obtenido desde vista: 11 registros
2025-09-25 10:41:25 | INFO     | dental_system.services.personal_service | get_personal_stats:543 | ‚úÖ Estad√≠sticas personal calculadas: {'total': 11, 'activos': 11, 'odontologos': 8, 'administradores': 1, 'asistentes': 1, 'gerentes': 1}
2025-09-25 10:41:25 | INFO     | dental_system.state.estado_personal | cargar_estadisticas_personal:358 | ‚úÖ Estad√≠sticas de personal actualizadas
2025-09-25 10:41:25 | INFO     | dental_system.services.consultas_service | get_today_consultations:43 | Obteniendo consultas del d√≠a
2025-09-25 10:41:25 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:527 | Obteniendo consultas del d√≠a 2025-09-25 usando vista optimizada
2025-09-25 10:41:25 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:540 | Vista no disponible, usando query optimizada manual
2025-09-25 10:41:25 | INFO     | dental_system.services.consultas_service | get_today_consultations:76 | ‚úÖ Consultas del d√≠a obtenidas: 0 registros
2025-09-25 10:41:25 | INFO     | dental_system.state.estado_consultas | cargar_lista_consultas:1252 | ‚úÖ 0 consultas cargadas
2025-09-25 10:41:25 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 11 registros
2025-09-25 10:41:25 | INFO     | dental_system.state.estado_servicios | cargar_servicios_basico:1032 | ‚úÖ 11 servicios cargados
2025-09-25 10:41:25 | INFO     | dental_system.supabase.tablas.pagos | get_consultas_pendientes_facturacion:612 | No hay consultas pendientes de facturaci√≥n
2025-09-25 10:41:25 | INFO     | dental_system.services.pagos_service | get_consultas_pendientes_pago:728 | ‚úÖ 0 consultas pendientes de pago obtenidas
2025-09-25 10:41:25 | INFO     | dental_system.state.estado_pagos | cargar_consultas_pendientes_pago:932 | üì≠ No hay consultas pendientes de pago
2025-09-25 10:41:25 | ERROR    | dental_system.supabase.client | wrapper:425 | Error en operaci√≥n de Supabase get_payments_by_date_range: {'message': 'column pacientes_1.nombre_completo does not exist', 'code': '42703', 'hint': None, 'details': None}
2025-09-25 10:41:25 | ERROR    | dental_system.supabase.client | wrapper:425 | Error en operaci√≥n de Supabase get_currency_summary: Error en la base de datos: {'message': 'column pacientes_1.nombre_completo does not exist', 'code': '42703', 'hint': None, 'details': None}
2025-09-25 10:41:25 | ERROR    | dental_system.services.base_service | handle_error:153 | Error obteniendo estad√≠sticas de moneda dual: Error en la base de datos: Error en la base de datos: {'message': 'column pacientes_1.nombre_completo does not exist', 'code': '42703', 'hint': None, 'details': None}
2025-09-25 10:41:25 | INFO     | dental_system.state.estado_pagos | cargar_estadisticas_duales:760 | üìä Estad√≠sticas duales cargadas exitosamente
2025-09-25 10:41:25 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:124 | ‚úÖ Usando lista_servicios: 11 servicios activos
2025-09-25 10:41:25 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-25 10:41:25 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-25 10:41:25 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 10:41:25 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 10:41:25 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:230 | Cargando servicios para intervenci√≥n...
2025-09-25 10:41:25 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 11 registros
2025-09-25 10:41:25 | INFO     | dental_system.state.estado_odontologia | cargar_servicios_disponibles:535 | ‚úÖ Servicios disponibles cargados: 11
2025-09-25 10:41:25 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:236 | ‚úÖ Servicios cargados desde EstadoOdontologia: 11
2025-09-25 10:41:25 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 11 servicios
2025-09-25 10:41:25 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-25 10:41:25 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-25 10:41:25 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 10:41:25 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 10:41:25 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:230 | Cargando servicios para intervenci√≥n...
2025-09-25 10:41:25 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 11 registros
2025-09-25 10:41:25 | INFO     | dental_system.state.estado_odontologia | cargar_servicios_disponibles:535 | ‚úÖ Servicios disponibles cargados: 11
2025-09-25 10:41:25 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:236 | ‚úÖ Servicios cargados desde EstadoOdontologia: 11
2025-09-25 10:41:25 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 11 servicios
2025-09-25 10:41:50 | INFO     | dental_system.state.estado_servicios | seleccionar_y_abrir_modal_servicio:924 | üìù Modal editar servicio abierto: 8987c53c-6c17-4990-91fa-8b5147f50ba4
2025-09-25 10:48:30 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 10:48:30 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 10:48:31 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 10:48:31 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 10:51:08 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 10:51:08 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 10:51:09 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 10:51:09 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 10:53:06 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 10:53:06 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 10:53:06 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 10:53:06 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 10:54:33 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 10:54:33 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 10:54:43 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 10:54:43 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 10:56:05 | INFO     | dental_system.supabase.auth | sign_in:71 | üîê Autenticando usuario: gerente@odontomara.com
2025-09-25 10:56:05 | INFO     | dental_system.supabase.auth | sign_in:84 | ‚úÖ Autenticaci√≥n con Supabase exitosa para: gerente@odontomara.com
2025-09-25 10:56:05 | INFO     | dental_system.supabase.auth | sign_in:87 | üîç Buscando usuario en BD con auth_user_id: 8046caa1-add0-4391-a048-d47e3aedf637
2025-09-25 10:56:05 | INFO     | dental_system.supabase.tablas.usuarios | get_by_auth_id:255 | Buscando usuario con auth_user_id: 8046caa1-add0-4391-a048-d47e3aedf637
2025-09-25 10:56:06 | INFO     | dental_system.supabase.tablas.usuarios | get_by_auth_id:258 | Usuario encontrado: True
2025-09-25 10:56:06 | INFO     | dental_system.supabase.auth | sign_in:94 | ‚úÖ Usuario encontrado en BD: gerente@odontomara.com
2025-09-25 10:56:06 | INFO     | dental_system.supabase.auth | sign_in:97 | üìã Obteniendo informaci√≥n b√°sica del usuario: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-25 10:56:06 | INFO     | dental_system.supabase.tablas.usuarios | get_user_basic_info:264 | Obteniendo info b√°sica del usuario: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-25 10:56:06 | INFO     | dental_system.supabase.tablas.base | get_by_id:69 | Obteniendo registro 25356728-1a6e-4cb4-b466-b2b9a31e11ca de usuarios
2025-09-25 10:56:06 | INFO     | dental_system.supabase.tablas.usuarios | get_user_basic_info:279 | Usuario con rol obtenido: gerente@odontomara.com - gerente
2025-09-25 10:56:06 | INFO     | dental_system.supabase.auth | sign_in:104 | ‚úÖ Informaci√≥n del usuario obtenida - Rol: gerente
2025-09-25 10:56:06 | INFO     | dental_system.supabase.auth | sign_in:107 | ‚è∞ Actualizando √∫ltimo acceso para: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-25 10:56:06 | INFO     | dental_system.supabase.auth | sign_in:110 | üéâ Inicio de sesi√≥n completado exitosamente para: gerente@odontomara.com
2025-09-25 10:56:06 | INFO     | dental_system.services.dashboard_service | get_dashboard_stats:54 | üöÄ Obteniendo stats optimizadas para rol: gerente
2025-09-25 10:56:06 | ERROR    | dental_system.services.dashboard_service | _fetch_cached_manager_stats:253 | ‚ùå Error obteniendo stats cacheadas del gerente: {'message': 'column pagos.monto_pagado does not exist', 'code': '42703', 'hint': 'Perhaps you meant to reference the column "pagos.monto_pagado_bs".', 'details': None}
2025-09-25 10:56:06 | INFO     | dental_system.supabase.tablas.personal | get_filtered_personal:139 | ‚úÖ Personal obtenido desde vista: 11 registros
2025-09-25 10:56:06 | INFO     | dental_system.state.estado_personal | cargar_lista_personal:321 | ‚úÖ Lista personal cargada: 11 empleados
2025-09-25 10:56:06 | INFO     | dental_system.supabase.tablas.personal | get_filtered_personal:139 | ‚úÖ Personal obtenido desde vista: 11 registros
2025-09-25 10:56:06 | INFO     | dental_system.services.personal_service | get_personal_stats:543 | ‚úÖ Estad√≠sticas personal calculadas: {'total': 11, 'activos': 11, 'odontologos': 8, 'administradores': 1, 'asistentes': 1, 'gerentes': 1}
2025-09-25 10:56:06 | INFO     | dental_system.state.estado_personal | cargar_estadisticas_personal:358 | ‚úÖ Estad√≠sticas de personal actualizadas
2025-09-25 10:56:06 | INFO     | dental_system.services.consultas_service | get_today_consultations:43 | Obteniendo consultas del d√≠a
2025-09-25 10:56:06 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:527 | Obteniendo consultas del d√≠a 2025-09-25 usando vista optimizada
2025-09-25 10:56:06 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:540 | Vista no disponible, usando query optimizada manual
2025-09-25 10:56:06 | INFO     | dental_system.services.consultas_service | get_today_consultations:76 | ‚úÖ Consultas del d√≠a obtenidas: 0 registros
2025-09-25 10:56:06 | INFO     | dental_system.state.estado_consultas | cargar_lista_consultas:1252 | ‚úÖ 0 consultas cargadas
2025-09-25 10:56:06 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 11 registros
2025-09-25 10:56:06 | INFO     | dental_system.state.estado_servicios | cargar_servicios_basico:939 | ‚úÖ 11 servicios cargados
2025-09-25 10:56:06 | INFO     | dental_system.supabase.tablas.pagos | get_consultas_pendientes_facturacion:612 | No hay consultas pendientes de facturaci√≥n
2025-09-25 10:56:06 | INFO     | dental_system.services.pagos_service | get_consultas_pendientes_pago:728 | ‚úÖ 0 consultas pendientes de pago obtenidas
2025-09-25 10:56:06 | INFO     | dental_system.state.estado_pagos | cargar_consultas_pendientes_pago:932 | üì≠ No hay consultas pendientes de pago
2025-09-25 10:56:06 | ERROR    | dental_system.supabase.client | wrapper:425 | Error en operaci√≥n de Supabase get_payments_by_date_range: {'message': 'column pacientes_1.nombre_completo does not exist', 'code': '42703', 'hint': None, 'details': None}
2025-09-25 10:56:06 | ERROR    | dental_system.supabase.client | wrapper:425 | Error en operaci√≥n de Supabase get_currency_summary: Error en la base de datos: {'message': 'column pacientes_1.nombre_completo does not exist', 'code': '42703', 'hint': None, 'details': None}
2025-09-25 10:56:06 | ERROR    | dental_system.services.base_service | handle_error:153 | Error obteniendo estad√≠sticas de moneda dual: Error en la base de datos: Error en la base de datos: {'message': 'column pacientes_1.nombre_completo does not exist', 'code': '42703', 'hint': None, 'details': None}
2025-09-25 10:56:06 | INFO     | dental_system.state.estado_pagos | cargar_estadisticas_duales:760 | üìä Estad√≠sticas duales cargadas exitosamente
2025-09-25 10:56:06 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:124 | ‚úÖ Usando lista_servicios: 11 servicios activos
2025-09-25 10:56:07 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-25 10:56:07 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-25 10:56:07 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 10:56:07 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 10:56:07 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:230 | Cargando servicios para intervenci√≥n...
2025-09-25 10:56:07 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 11 registros
2025-09-25 10:56:07 | INFO     | dental_system.state.estado_odontologia | cargar_servicios_disponibles:535 | ‚úÖ Servicios disponibles cargados: 11
2025-09-25 10:56:07 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:236 | ‚úÖ Servicios cargados desde EstadoOdontologia: 11
2025-09-25 10:56:07 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 11 servicios
2025-09-25 10:56:07 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-25 10:56:07 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-25 10:56:07 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 10:56:07 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 10:56:07 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:230 | Cargando servicios para intervenci√≥n...
2025-09-25 10:56:07 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 11 registros
2025-09-25 10:56:07 | INFO     | dental_system.state.estado_odontologia | cargar_servicios_disponibles:535 | ‚úÖ Servicios disponibles cargados: 11
2025-09-25 10:56:07 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:236 | ‚úÖ Servicios cargados desde EstadoOdontologia: 11
2025-09-25 10:56:07 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 11 servicios
2025-09-25 10:56:15 | INFO     | dental_system.state.estado_servicios | seleccionar_y_abrir_modal_servicio:862 | üìù Modal editar servicio abierto: 8987c53c-6c17-4990-91fa-8b5147f50ba4
2025-09-25 11:07:18 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 11:07:18 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 11:07:18 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 11:07:18 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 11:09:39 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 11:09:39 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 11:11:16 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 11:11:16 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 11:11:21 | INFO     | dental_system.supabase.auth | sign_in:71 | üîê Autenticando usuario: gerente@odontomara.com
2025-09-25 11:11:21 | INFO     | dental_system.supabase.auth | sign_in:84 | ‚úÖ Autenticaci√≥n con Supabase exitosa para: gerente@odontomara.com
2025-09-25 11:11:21 | INFO     | dental_system.supabase.auth | sign_in:87 | üîç Buscando usuario en BD con auth_user_id: 8046caa1-add0-4391-a048-d47e3aedf637
2025-09-25 11:11:21 | INFO     | dental_system.supabase.tablas.usuarios | get_by_auth_id:255 | Buscando usuario con auth_user_id: 8046caa1-add0-4391-a048-d47e3aedf637
2025-09-25 11:11:22 | INFO     | dental_system.supabase.tablas.usuarios | get_by_auth_id:258 | Usuario encontrado: True
2025-09-25 11:11:22 | INFO     | dental_system.supabase.auth | sign_in:94 | ‚úÖ Usuario encontrado en BD: gerente@odontomara.com
2025-09-25 11:11:22 | INFO     | dental_system.supabase.auth | sign_in:97 | üìã Obteniendo informaci√≥n b√°sica del usuario: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-25 11:11:22 | INFO     | dental_system.supabase.tablas.usuarios | get_user_basic_info:264 | Obteniendo info b√°sica del usuario: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-25 11:11:22 | INFO     | dental_system.supabase.tablas.base | get_by_id:69 | Obteniendo registro 25356728-1a6e-4cb4-b466-b2b9a31e11ca de usuarios
2025-09-25 11:11:22 | INFO     | dental_system.supabase.tablas.usuarios | get_user_basic_info:279 | Usuario con rol obtenido: gerente@odontomara.com - gerente
2025-09-25 11:11:22 | INFO     | dental_system.supabase.auth | sign_in:104 | ‚úÖ Informaci√≥n del usuario obtenida - Rol: gerente
2025-09-25 11:11:22 | INFO     | dental_system.supabase.auth | sign_in:107 | ‚è∞ Actualizando √∫ltimo acceso para: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-25 11:11:22 | INFO     | dental_system.supabase.auth | sign_in:110 | üéâ Inicio de sesi√≥n completado exitosamente para: gerente@odontomara.com
2025-09-25 11:11:22 | INFO     | dental_system.services.dashboard_service | get_dashboard_stats:54 | üöÄ Obteniendo stats optimizadas para rol: gerente
2025-09-25 11:11:22 | ERROR    | dental_system.services.dashboard_service | _fetch_cached_manager_stats:253 | ‚ùå Error obteniendo stats cacheadas del gerente: {'message': 'column pagos.monto_pagado does not exist', 'code': '42703', 'hint': 'Perhaps you meant to reference the column "pagos.monto_pagado_bs".', 'details': None}
2025-09-25 11:11:22 | INFO     | dental_system.supabase.tablas.personal | get_filtered_personal:139 | ‚úÖ Personal obtenido desde vista: 11 registros
2025-09-25 11:11:22 | INFO     | dental_system.state.estado_personal | cargar_lista_personal:321 | ‚úÖ Lista personal cargada: 11 empleados
2025-09-25 11:11:22 | INFO     | dental_system.supabase.tablas.personal | get_filtered_personal:139 | ‚úÖ Personal obtenido desde vista: 11 registros
2025-09-25 11:11:22 | INFO     | dental_system.services.personal_service | get_personal_stats:543 | ‚úÖ Estad√≠sticas personal calculadas: {'total': 11, 'activos': 11, 'odontologos': 8, 'administradores': 1, 'asistentes': 1, 'gerentes': 1}
2025-09-25 11:11:22 | INFO     | dental_system.state.estado_personal | cargar_estadisticas_personal:358 | ‚úÖ Estad√≠sticas de personal actualizadas
2025-09-25 11:11:22 | INFO     | dental_system.services.consultas_service | get_today_consultations:43 | Obteniendo consultas del d√≠a
2025-09-25 11:11:22 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:527 | Obteniendo consultas del d√≠a 2025-09-25 usando vista optimizada
2025-09-25 11:11:22 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:540 | Vista no disponible, usando query optimizada manual
2025-09-25 11:11:22 | INFO     | dental_system.services.consultas_service | get_today_consultations:76 | ‚úÖ Consultas del d√≠a obtenidas: 0 registros
2025-09-25 11:11:22 | INFO     | dental_system.state.estado_consultas | cargar_lista_consultas:1252 | ‚úÖ 0 consultas cargadas
2025-09-25 11:11:22 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 11 registros
2025-09-25 11:11:22 | INFO     | dental_system.state.estado_servicios | cargar_servicios_basico:939 | ‚úÖ 11 servicios cargados
2025-09-25 11:11:22 | INFO     | dental_system.supabase.tablas.pagos | get_consultas_pendientes_facturacion:612 | No hay consultas pendientes de facturaci√≥n
2025-09-25 11:11:22 | INFO     | dental_system.services.pagos_service | get_consultas_pendientes_pago:728 | ‚úÖ 0 consultas pendientes de pago obtenidas
2025-09-25 11:11:22 | INFO     | dental_system.state.estado_pagos | cargar_consultas_pendientes_pago:932 | üì≠ No hay consultas pendientes de pago
2025-09-25 11:11:22 | ERROR    | dental_system.supabase.client | wrapper:425 | Error en operaci√≥n de Supabase get_payments_by_date_range: {'message': 'column pacientes_1.nombre_completo does not exist', 'code': '42703', 'hint': None, 'details': None}
2025-09-25 11:11:22 | ERROR    | dental_system.supabase.client | wrapper:425 | Error en operaci√≥n de Supabase get_currency_summary: Error en la base de datos: {'message': 'column pacientes_1.nombre_completo does not exist', 'code': '42703', 'hint': None, 'details': None}
2025-09-25 11:11:22 | ERROR    | dental_system.services.base_service | handle_error:153 | Error obteniendo estad√≠sticas de moneda dual: Error en la base de datos: Error en la base de datos: {'message': 'column pacientes_1.nombre_completo does not exist', 'code': '42703', 'hint': None, 'details': None}
2025-09-25 11:11:22 | INFO     | dental_system.state.estado_pagos | cargar_estadisticas_duales:760 | üìä Estad√≠sticas duales cargadas exitosamente
2025-09-25 11:11:22 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:124 | ‚úÖ Usando lista_servicios: 11 servicios activos
2025-09-25 11:11:22 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-25 11:11:22 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-25 11:11:22 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 11:11:22 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 11:11:23 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:230 | Cargando servicios para intervenci√≥n...
2025-09-25 11:11:23 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 11 registros
2025-09-25 11:11:23 | INFO     | dental_system.state.estado_odontologia | cargar_servicios_disponibles:535 | ‚úÖ Servicios disponibles cargados: 11
2025-09-25 11:11:23 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:236 | ‚úÖ Servicios cargados desde EstadoOdontologia: 11
2025-09-25 11:11:23 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 11 servicios
2025-09-25 11:11:23 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-25 11:11:23 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-25 11:11:23 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 11:11:23 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 11:11:23 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:230 | Cargando servicios para intervenci√≥n...
2025-09-25 11:11:23 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 11 registros
2025-09-25 11:11:23 | INFO     | dental_system.state.estado_odontologia | cargar_servicios_disponibles:535 | ‚úÖ Servicios disponibles cargados: 11
2025-09-25 11:11:23 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:236 | ‚úÖ Servicios cargados desde EstadoOdontologia: 11
2025-09-25 11:11:23 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 11 servicios
2025-09-25 11:15:58 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 11:15:58 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 11:15:59 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 11:15:59 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 11:16:08 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-25 11:16:08 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-25 11:16:08 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 11:16:08 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 11:16:08 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:230 | Cargando servicios para intervenci√≥n...
2025-09-25 11:16:09 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 11 registros
2025-09-25 11:16:09 | INFO     | dental_system.state.estado_odontologia | cargar_servicios_disponibles:535 | ‚úÖ Servicios disponibles cargados: 11
2025-09-25 11:16:09 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:236 | ‚úÖ Servicios cargados desde EstadoOdontologia: 11
2025-09-25 11:16:09 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 11 servicios
2025-09-25 11:16:09 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-25 11:16:09 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-25 11:16:09 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 11:16:10 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 11:16:10 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:230 | Cargando servicios para intervenci√≥n...
2025-09-25 11:16:10 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 11 registros
2025-09-25 11:16:10 | INFO     | dental_system.state.estado_odontologia | cargar_servicios_disponibles:535 | ‚úÖ Servicios disponibles cargados: 11
2025-09-25 11:16:10 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:236 | ‚úÖ Servicios cargados desde EstadoOdontologia: 11
2025-09-25 11:16:10 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 11 servicios
2025-09-25 11:19:05 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 11:19:05 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 11:19:05 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 11:19:05 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 11:21:23 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 11:21:23 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 11:21:24 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 11:21:24 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 11:22:21 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 11:22:21 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 11:22:31 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 11:22:31 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 11:23:48 | INFO     | dental_system.supabase.auth | sign_in:71 | üîê Autenticando usuario: gerente@odontomara.com
2025-09-25 11:23:48 | INFO     | dental_system.supabase.auth | sign_in:84 | ‚úÖ Autenticaci√≥n con Supabase exitosa para: gerente@odontomara.com
2025-09-25 11:23:48 | INFO     | dental_system.supabase.auth | sign_in:87 | üîç Buscando usuario en BD con auth_user_id: 8046caa1-add0-4391-a048-d47e3aedf637
2025-09-25 11:23:48 | INFO     | dental_system.supabase.tablas.usuarios | get_by_auth_id:255 | Buscando usuario con auth_user_id: 8046caa1-add0-4391-a048-d47e3aedf637
2025-09-25 11:23:49 | INFO     | dental_system.supabase.tablas.usuarios | get_by_auth_id:258 | Usuario encontrado: True
2025-09-25 11:23:49 | INFO     | dental_system.supabase.auth | sign_in:94 | ‚úÖ Usuario encontrado en BD: gerente@odontomara.com
2025-09-25 11:23:49 | INFO     | dental_system.supabase.auth | sign_in:97 | üìã Obteniendo informaci√≥n b√°sica del usuario: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-25 11:23:49 | INFO     | dental_system.supabase.tablas.usuarios | get_user_basic_info:264 | Obteniendo info b√°sica del usuario: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-25 11:23:49 | INFO     | dental_system.supabase.tablas.base | get_by_id:69 | Obteniendo registro 25356728-1a6e-4cb4-b466-b2b9a31e11ca de usuarios
2025-09-25 11:23:49 | INFO     | dental_system.supabase.tablas.usuarios | get_user_basic_info:279 | Usuario con rol obtenido: gerente@odontomara.com - gerente
2025-09-25 11:23:49 | INFO     | dental_system.supabase.auth | sign_in:104 | ‚úÖ Informaci√≥n del usuario obtenida - Rol: gerente
2025-09-25 11:23:49 | INFO     | dental_system.supabase.auth | sign_in:107 | ‚è∞ Actualizando √∫ltimo acceso para: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-25 11:23:49 | INFO     | dental_system.supabase.auth | sign_in:110 | üéâ Inicio de sesi√≥n completado exitosamente para: gerente@odontomara.com
2025-09-25 11:23:49 | INFO     | dental_system.services.dashboard_service | get_dashboard_stats:54 | üöÄ Obteniendo stats optimizadas para rol: gerente
2025-09-25 11:23:49 | INFO     | dental_system.supabase.tablas.personal | get_filtered_personal:139 | ‚úÖ Personal obtenido desde vista: 11 registros
2025-09-25 11:23:49 | INFO     | dental_system.state.estado_personal | cargar_lista_personal:321 | ‚úÖ Lista personal cargada: 11 empleados
2025-09-25 11:23:49 | INFO     | dental_system.supabase.tablas.personal | get_filtered_personal:139 | ‚úÖ Personal obtenido desde vista: 11 registros
2025-09-25 11:23:49 | INFO     | dental_system.services.personal_service | get_personal_stats:543 | ‚úÖ Estad√≠sticas personal calculadas: {'total': 11, 'activos': 11, 'odontologos': 8, 'administradores': 1, 'asistentes': 1, 'gerentes': 1}
2025-09-25 11:23:49 | INFO     | dental_system.state.estado_personal | cargar_estadisticas_personal:358 | ‚úÖ Estad√≠sticas de personal actualizadas
2025-09-25 11:23:49 | INFO     | dental_system.services.consultas_service | get_today_consultations:43 | Obteniendo consultas del d√≠a
2025-09-25 11:23:49 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:527 | Obteniendo consultas del d√≠a 2025-09-25 usando vista optimizada
2025-09-25 11:23:49 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:540 | Vista no disponible, usando query optimizada manual
2025-09-25 11:23:49 | INFO     | dental_system.services.consultas_service | get_today_consultations:76 | ‚úÖ Consultas del d√≠a obtenidas: 0 registros
2025-09-25 11:23:49 | INFO     | dental_system.state.estado_consultas | cargar_lista_consultas:1252 | ‚úÖ 0 consultas cargadas
2025-09-25 11:23:49 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 11 registros
2025-09-25 11:23:49 | INFO     | dental_system.state.estado_servicios | cargar_servicios_basico:939 | ‚úÖ 11 servicios cargados
2025-09-25 11:23:49 | INFO     | dental_system.supabase.tablas.pagos | get_consultas_pendientes_facturacion:612 | No hay consultas pendientes de facturaci√≥n
2025-09-25 11:23:49 | INFO     | dental_system.services.pagos_service | get_consultas_pendientes_pago:728 | ‚úÖ 0 consultas pendientes de pago obtenidas
2025-09-25 11:23:49 | INFO     | dental_system.state.estado_pagos | cargar_consultas_pendientes_pago:932 | üì≠ No hay consultas pendientes de pago
2025-09-25 11:23:49 | INFO     | dental_system.supabase.tablas.pagos | get_currency_summary:567 | Resumen dual currency generado: $622.43 USD + 15240.92 BS
2025-09-25 11:23:49 | INFO     | dental_system.services.pagos_service | get_currency_stats:649 | Estad√≠sticas duales generadas: $622.43 USD + 15240.92 BS
2025-09-25 11:23:49 | INFO     | dental_system.state.estado_pagos | cargar_estadisticas_duales:760 | üìä Estad√≠sticas duales cargadas exitosamente
2025-09-25 11:23:49 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:124 | ‚úÖ Usando lista_servicios: 11 servicios activos
2025-09-25 11:23:50 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-25 11:23:50 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-25 11:23:50 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 11:23:50 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 11:23:50 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:237 | ‚úÖ Reutilizando servicios del cat√°logo: 11 activos
2025-09-25 11:23:50 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-25 11:23:50 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-25 11:23:50 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 11:23:50 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 11:23:50 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:237 | ‚úÖ Reutilizando servicios del cat√°logo: 11 activos
2025-09-25 11:23:56 | INFO     | dental_system.state.estado_servicios | seleccionar_y_abrir_modal_servicio:862 | üìù Modal editar servicio abierto: 8987c53c-6c17-4990-91fa-8b5147f50ba4
2025-09-25 11:26:48 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 11:26:48 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 11:26:48 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 11:26:48 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 11:27:09 | INFO     | dental_system.state.estado_servicios | seleccionar_y_abrir_modal_servicio:862 | üìù Modal editar servicio abierto: 8987c53c-6c17-4990-91fa-8b5147f50ba4
2025-09-25 11:30:25 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 11:30:25 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 11:30:27 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 11:30:27 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 11:31:06 | INFO     | dental_system.state.estado_servicios | seleccionar_y_abrir_modal_servicio:862 | üìù Modal editar servicio abierto: 8987c53c-6c17-4990-91fa-8b5147f50ba4
2025-09-25 11:32:04 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 11:32:04 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 11:32:38 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 11:32:38 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 11:33:38 | INFO     | dental_system.supabase.auth | sign_in:71 | üîê Autenticando usuario: gerente@odontomara.com
2025-09-25 11:33:38 | INFO     | dental_system.supabase.auth | sign_in:84 | ‚úÖ Autenticaci√≥n con Supabase exitosa para: gerente@odontomara.com
2025-09-25 11:33:38 | INFO     | dental_system.supabase.auth | sign_in:87 | üîç Buscando usuario en BD con auth_user_id: 8046caa1-add0-4391-a048-d47e3aedf637
2025-09-25 11:33:38 | INFO     | dental_system.supabase.tablas.usuarios | get_by_auth_id:255 | Buscando usuario con auth_user_id: 8046caa1-add0-4391-a048-d47e3aedf637
2025-09-25 11:33:39 | INFO     | dental_system.supabase.tablas.usuarios | get_by_auth_id:258 | Usuario encontrado: True
2025-09-25 11:33:39 | INFO     | dental_system.supabase.auth | sign_in:94 | ‚úÖ Usuario encontrado en BD: gerente@odontomara.com
2025-09-25 11:33:39 | INFO     | dental_system.supabase.auth | sign_in:97 | üìã Obteniendo informaci√≥n b√°sica del usuario: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-25 11:33:39 | INFO     | dental_system.supabase.tablas.usuarios | get_user_basic_info:264 | Obteniendo info b√°sica del usuario: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-25 11:33:39 | INFO     | dental_system.supabase.tablas.base | get_by_id:69 | Obteniendo registro 25356728-1a6e-4cb4-b466-b2b9a31e11ca de usuarios
2025-09-25 11:33:39 | INFO     | dental_system.supabase.tablas.usuarios | get_user_basic_info:279 | Usuario con rol obtenido: gerente@odontomara.com - gerente
2025-09-25 11:33:39 | INFO     | dental_system.supabase.auth | sign_in:104 | ‚úÖ Informaci√≥n del usuario obtenida - Rol: gerente
2025-09-25 11:33:39 | INFO     | dental_system.supabase.auth | sign_in:107 | ‚è∞ Actualizando √∫ltimo acceso para: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-25 11:33:39 | INFO     | dental_system.supabase.auth | sign_in:110 | üéâ Inicio de sesi√≥n completado exitosamente para: gerente@odontomara.com
2025-09-25 11:33:39 | INFO     | dental_system.services.dashboard_service | get_dashboard_stats:54 | üöÄ Obteniendo stats optimizadas para rol: gerente
2025-09-25 11:33:39 | INFO     | dental_system.supabase.tablas.personal | get_filtered_personal:139 | ‚úÖ Personal obtenido desde vista: 11 registros
2025-09-25 11:33:39 | INFO     | dental_system.state.estado_personal | cargar_lista_personal:321 | ‚úÖ Lista personal cargada: 11 empleados
2025-09-25 11:33:39 | INFO     | dental_system.supabase.tablas.personal | get_filtered_personal:139 | ‚úÖ Personal obtenido desde vista: 11 registros
2025-09-25 11:33:39 | INFO     | dental_system.services.personal_service | get_personal_stats:543 | ‚úÖ Estad√≠sticas personal calculadas: {'total': 11, 'activos': 11, 'odontologos': 8, 'administradores': 1, 'asistentes': 1, 'gerentes': 1}
2025-09-25 11:33:39 | INFO     | dental_system.state.estado_personal | cargar_estadisticas_personal:358 | ‚úÖ Estad√≠sticas de personal actualizadas
2025-09-25 11:33:39 | INFO     | dental_system.services.consultas_service | get_today_consultations:43 | Obteniendo consultas del d√≠a
2025-09-25 11:33:39 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:527 | Obteniendo consultas del d√≠a 2025-09-25 usando vista optimizada
2025-09-25 11:33:39 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:540 | Vista no disponible, usando query optimizada manual
2025-09-25 11:33:39 | INFO     | dental_system.services.consultas_service | get_today_consultations:76 | ‚úÖ Consultas del d√≠a obtenidas: 0 registros
2025-09-25 11:33:39 | INFO     | dental_system.state.estado_consultas | cargar_lista_consultas:1252 | ‚úÖ 0 consultas cargadas
2025-09-25 11:33:39 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 11 registros
2025-09-25 11:33:39 | INFO     | dental_system.state.estado_servicios | cargar_servicios_basico:939 | ‚úÖ 11 servicios cargados
2025-09-25 11:33:39 | INFO     | dental_system.supabase.tablas.pagos | get_consultas_pendientes_facturacion:612 | No hay consultas pendientes de facturaci√≥n
2025-09-25 11:33:39 | INFO     | dental_system.services.pagos_service | get_consultas_pendientes_pago:728 | ‚úÖ 0 consultas pendientes de pago obtenidas
2025-09-25 11:33:39 | INFO     | dental_system.state.estado_pagos | cargar_consultas_pendientes_pago:932 | üì≠ No hay consultas pendientes de pago
2025-09-25 11:33:39 | INFO     | dental_system.supabase.tablas.pagos | get_currency_summary:567 | Resumen dual currency generado: $622.43 USD + 15240.92 BS
2025-09-25 11:33:39 | INFO     | dental_system.services.pagos_service | get_currency_stats:649 | Estad√≠sticas duales generadas: $622.43 USD + 15240.92 BS
2025-09-25 11:33:39 | INFO     | dental_system.state.estado_pagos | cargar_estadisticas_duales:760 | üìä Estad√≠sticas duales cargadas exitosamente
2025-09-25 11:33:39 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:124 | ‚úÖ Usando lista_servicios: 11 servicios activos
2025-09-25 11:33:39 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-25 11:33:39 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-25 11:33:39 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 11:33:39 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 11:33:39 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:237 | ‚úÖ Reutilizando servicios del cat√°logo: 11 activos
2025-09-25 11:33:40 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-25 11:33:40 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-25 11:33:40 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 11:33:40 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 11:33:40 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:237 | ‚úÖ Reutilizando servicios del cat√°logo: 11 activos
2025-09-25 11:33:50 | INFO     | dental_system.state.estado_servicios | seleccionar_y_abrir_modal_servicio:862 | üìù Modal editar servicio abierto: 8987c53c-6c17-4990-91fa-8b5147f50ba4
2025-09-25 11:37:50 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 11:37:50 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 11:37:51 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 11:37:51 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 11:37:56 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-25 11:37:57 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-25 11:37:57 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 11:37:57 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 11:37:57 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:237 | ‚úÖ Reutilizando servicios del cat√°logo: 11 activos
2025-09-25 11:37:57 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-25 11:37:57 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-25 11:37:57 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 11:37:57 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 11:37:57 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:237 | ‚úÖ Reutilizando servicios del cat√°logo: 11 activos
2025-09-25 11:39:24 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 11:39:24 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 11:39:24 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 11:39:24 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 11:41:54 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 11:41:54 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 11:41:55 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 11:41:55 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 11:42:09 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-25 11:42:09 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-25 11:42:10 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 11:42:10 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 11:42:10 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:237 | ‚úÖ Reutilizando servicios del cat√°logo: 11 activos
2025-09-25 11:42:11 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-25 11:42:11 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-25 11:42:12 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 11:42:13 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 11:42:14 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:237 | ‚úÖ Reutilizando servicios del cat√°logo: 11 activos
2025-09-25 11:42:24 | INFO     | dental_system.state.estado_servicios | seleccionar_y_abrir_modal_servicio:890 | üìù Modal editar servicio abierto: 8987c53c-6c17-4990-91fa-8b5147f50ba4
2025-09-25 11:42:33 | INFO     | dental_system.state.estado_servicios | seleccionar_y_abrir_modal_servicio:890 | üìù Modal editar servicio abierto: edee7290-aa68-41c7-82aa-6bba097799fb
2025-09-25 11:44:25 | INFO     | dental_system.state.estado_servicios | seleccionar_y_abrir_modal_servicio:890 | üìù Modal editar servicio abierto: 8987c53c-6c17-4990-91fa-8b5147f50ba4
2025-09-25 11:44:40 | ERROR    | dental_system.services.servicios_service | update_service:211 | Error actualizando servicio 8987c53c-6c17-4990-91fa-8b5147f50ba4: No tiene permisos para editar servicios
2025-09-25 11:44:40 | ERROR    | dental_system.state.estado_servicios | actualizar_servicio:656 | ‚ùå Error actualizando servicio: No tiene permisos para editar servicios
2025-09-25 11:48:04 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 11:48:04 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 11:48:06 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 11:48:06 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 11:49:00 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 11:49:00 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 11:49:01 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 11:49:01 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 11:49:35 | ERROR    | dental_system.services.servicios_service | update_service:211 | Error actualizando servicio 8987c53c-6c17-4990-91fa-8b5147f50ba4: No tiene permisos para editar servicios
2025-09-25 11:49:35 | ERROR    | dental_system.state.estado_servicios | actualizar_servicio:657 | ‚ùå Error actualizando servicio: No tiene permisos para editar servicios
2025-09-25 11:49:55 | INFO     | dental_system.supabase.auth | sign_in:71 | üîê Autenticando usuario: gerente@odontomara.com
2025-09-25 11:49:55 | INFO     | dental_system.supabase.auth | sign_in:84 | ‚úÖ Autenticaci√≥n con Supabase exitosa para: gerente@odontomara.com
2025-09-25 11:49:55 | INFO     | dental_system.supabase.auth | sign_in:87 | üîç Buscando usuario en BD con auth_user_id: 8046caa1-add0-4391-a048-d47e3aedf637
2025-09-25 11:49:55 | INFO     | dental_system.supabase.tablas.usuarios | get_by_auth_id:255 | Buscando usuario con auth_user_id: 8046caa1-add0-4391-a048-d47e3aedf637
2025-09-25 11:49:56 | INFO     | dental_system.supabase.tablas.usuarios | get_by_auth_id:258 | Usuario encontrado: True
2025-09-25 11:49:56 | INFO     | dental_system.supabase.auth | sign_in:94 | ‚úÖ Usuario encontrado en BD: gerente@odontomara.com
2025-09-25 11:49:56 | INFO     | dental_system.supabase.auth | sign_in:97 | üìã Obteniendo informaci√≥n b√°sica del usuario: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-25 11:49:56 | INFO     | dental_system.supabase.tablas.usuarios | get_user_basic_info:264 | Obteniendo info b√°sica del usuario: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-25 11:49:56 | INFO     | dental_system.supabase.tablas.base | get_by_id:69 | Obteniendo registro 25356728-1a6e-4cb4-b466-b2b9a31e11ca de usuarios
2025-09-25 11:49:56 | INFO     | dental_system.supabase.tablas.usuarios | get_user_basic_info:279 | Usuario con rol obtenido: gerente@odontomara.com - gerente
2025-09-25 11:49:56 | INFO     | dental_system.supabase.auth | sign_in:104 | ‚úÖ Informaci√≥n del usuario obtenida - Rol: gerente
2025-09-25 11:49:56 | INFO     | dental_system.supabase.auth | sign_in:107 | ‚è∞ Actualizando √∫ltimo acceso para: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-25 11:49:56 | INFO     | dental_system.supabase.auth | sign_in:110 | üéâ Inicio de sesi√≥n completado exitosamente para: gerente@odontomara.com
2025-09-25 11:49:56 | INFO     | dental_system.services.dashboard_service | get_dashboard_stats:54 | üöÄ Obteniendo stats optimizadas para rol: gerente
2025-09-25 11:49:56 | INFO     | dental_system.supabase.tablas.personal | get_filtered_personal:139 | ‚úÖ Personal obtenido desde vista: 11 registros
2025-09-25 11:49:56 | INFO     | dental_system.state.estado_personal | cargar_lista_personal:321 | ‚úÖ Lista personal cargada: 11 empleados
2025-09-25 11:49:56 | INFO     | dental_system.supabase.tablas.personal | get_filtered_personal:139 | ‚úÖ Personal obtenido desde vista: 11 registros
2025-09-25 11:49:56 | INFO     | dental_system.services.personal_service | get_personal_stats:543 | ‚úÖ Estad√≠sticas personal calculadas: {'total': 11, 'activos': 11, 'odontologos': 8, 'administradores': 1, 'asistentes': 1, 'gerentes': 1}
2025-09-25 11:49:56 | INFO     | dental_system.state.estado_personal | cargar_estadisticas_personal:358 | ‚úÖ Estad√≠sticas de personal actualizadas
2025-09-25 11:49:56 | INFO     | dental_system.services.consultas_service | get_today_consultations:43 | Obteniendo consultas del d√≠a
2025-09-25 11:49:56 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:527 | Obteniendo consultas del d√≠a 2025-09-25 usando vista optimizada
2025-09-25 11:49:56 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:540 | Vista no disponible, usando query optimizada manual
2025-09-25 11:49:56 | INFO     | dental_system.services.consultas_service | get_today_consultations:76 | ‚úÖ Consultas del d√≠a obtenidas: 0 registros
2025-09-25 11:49:56 | INFO     | dental_system.state.estado_consultas | cargar_lista_consultas:1252 | ‚úÖ 0 consultas cargadas
2025-09-25 11:49:56 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 11 registros
2025-09-25 11:49:56 | INFO     | dental_system.state.estado_servicios | cargar_servicios_basico:968 | ‚úÖ 11 servicios cargados
2025-09-25 11:49:56 | INFO     | dental_system.supabase.tablas.pagos | get_consultas_pendientes_facturacion:612 | No hay consultas pendientes de facturaci√≥n
2025-09-25 11:49:56 | INFO     | dental_system.services.pagos_service | get_consultas_pendientes_pago:728 | ‚úÖ 0 consultas pendientes de pago obtenidas
2025-09-25 11:49:56 | INFO     | dental_system.state.estado_pagos | cargar_consultas_pendientes_pago:932 | üì≠ No hay consultas pendientes de pago
2025-09-25 11:49:56 | INFO     | dental_system.supabase.tablas.pagos | get_currency_summary:567 | Resumen dual currency generado: $622.43 USD + 15240.92 BS
2025-09-25 11:49:56 | INFO     | dental_system.services.pagos_service | get_currency_stats:649 | Estad√≠sticas duales generadas: $622.43 USD + 15240.92 BS
2025-09-25 11:49:56 | INFO     | dental_system.state.estado_pagos | cargar_estadisticas_duales:760 | üìä Estad√≠sticas duales cargadas exitosamente
2025-09-25 11:49:56 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:124 | ‚úÖ Usando lista_servicios: 11 servicios activos
2025-09-25 11:49:57 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-25 11:49:57 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-25 11:49:58 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 11:49:59 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 11:50:00 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:237 | ‚úÖ Reutilizando servicios del cat√°logo: 11 activos
2025-09-25 11:50:01 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-25 11:50:02 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-25 11:50:03 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 11:50:04 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 11:50:05 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:237 | ‚úÖ Reutilizando servicios del cat√°logo: 11 activos
2025-09-25 11:50:05 | INFO     | dental_system.state.estado_servicios | seleccionar_y_abrir_modal_servicio:891 | üìù Modal editar servicio abierto: 8987c53c-6c17-4990-91fa-8b5147f50ba4
2025-09-25 11:50:15 | ERROR    | dental_system.services.servicios_service | update_service:211 | Error actualizando servicio 8987c53c-6c17-4990-91fa-8b5147f50ba4: No tiene permisos para editar servicios
2025-09-25 11:50:15 | ERROR    | dental_system.state.estado_servicios | actualizar_servicio:657 | ‚ùå Error actualizando servicio: No tiene permisos para editar servicios
2025-09-25 11:52:18 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 11:52:18 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 11:52:18 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 11:52:18 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 11:52:43 | INFO     | dental_system.supabase.auth | sign_in:71 | üîê Autenticando usuario: gerente@odontomara.com
2025-09-25 11:52:43 | INFO     | dental_system.supabase.auth | sign_in:84 | ‚úÖ Autenticaci√≥n con Supabase exitosa para: gerente@odontomara.com
2025-09-25 11:52:43 | INFO     | dental_system.supabase.auth | sign_in:87 | üîç Buscando usuario en BD con auth_user_id: 8046caa1-add0-4391-a048-d47e3aedf637
2025-09-25 11:52:43 | INFO     | dental_system.supabase.tablas.usuarios | get_by_auth_id:255 | Buscando usuario con auth_user_id: 8046caa1-add0-4391-a048-d47e3aedf637
2025-09-25 11:52:44 | INFO     | dental_system.supabase.tablas.usuarios | get_by_auth_id:258 | Usuario encontrado: True
2025-09-25 11:52:44 | INFO     | dental_system.supabase.auth | sign_in:94 | ‚úÖ Usuario encontrado en BD: gerente@odontomara.com
2025-09-25 11:52:44 | INFO     | dental_system.supabase.auth | sign_in:97 | üìã Obteniendo informaci√≥n b√°sica del usuario: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-25 11:52:44 | INFO     | dental_system.supabase.tablas.usuarios | get_user_basic_info:264 | Obteniendo info b√°sica del usuario: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-25 11:52:44 | INFO     | dental_system.supabase.tablas.base | get_by_id:69 | Obteniendo registro 25356728-1a6e-4cb4-b466-b2b9a31e11ca de usuarios
2025-09-25 11:52:44 | INFO     | dental_system.supabase.tablas.usuarios | get_user_basic_info:279 | Usuario con rol obtenido: gerente@odontomara.com - gerente
2025-09-25 11:52:44 | INFO     | dental_system.supabase.auth | sign_in:104 | ‚úÖ Informaci√≥n del usuario obtenida - Rol: gerente
2025-09-25 11:52:44 | INFO     | dental_system.supabase.auth | sign_in:107 | ‚è∞ Actualizando √∫ltimo acceso para: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-25 11:52:44 | INFO     | dental_system.supabase.auth | sign_in:110 | üéâ Inicio de sesi√≥n completado exitosamente para: gerente@odontomara.com
2025-09-25 11:52:44 | INFO     | dental_system.services.dashboard_service | get_dashboard_stats:54 | üöÄ Obteniendo stats optimizadas para rol: gerente
2025-09-25 11:52:44 | INFO     | dental_system.supabase.tablas.personal | get_filtered_personal:139 | ‚úÖ Personal obtenido desde vista: 11 registros
2025-09-25 11:52:44 | INFO     | dental_system.state.estado_personal | cargar_lista_personal:321 | ‚úÖ Lista personal cargada: 11 empleados
2025-09-25 11:52:44 | INFO     | dental_system.supabase.tablas.personal | get_filtered_personal:139 | ‚úÖ Personal obtenido desde vista: 11 registros
2025-09-25 11:52:44 | INFO     | dental_system.services.personal_service | get_personal_stats:543 | ‚úÖ Estad√≠sticas personal calculadas: {'total': 11, 'activos': 11, 'odontologos': 8, 'administradores': 1, 'asistentes': 1, 'gerentes': 1}
2025-09-25 11:52:44 | INFO     | dental_system.state.estado_personal | cargar_estadisticas_personal:358 | ‚úÖ Estad√≠sticas de personal actualizadas
2025-09-25 11:52:44 | INFO     | dental_system.services.consultas_service | get_today_consultations:43 | Obteniendo consultas del d√≠a
2025-09-25 11:52:44 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:527 | Obteniendo consultas del d√≠a 2025-09-25 usando vista optimizada
2025-09-25 11:52:44 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:540 | Vista no disponible, usando query optimizada manual
2025-09-25 11:52:44 | INFO     | dental_system.services.consultas_service | get_today_consultations:76 | ‚úÖ Consultas del d√≠a obtenidas: 0 registros
2025-09-25 11:52:44 | INFO     | dental_system.state.estado_consultas | cargar_lista_consultas:1252 | ‚úÖ 0 consultas cargadas
2025-09-25 11:52:44 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 11 registros
2025-09-25 11:52:44 | INFO     | dental_system.state.estado_servicios | cargar_servicios_basico:968 | ‚úÖ 11 servicios cargados
2025-09-25 11:52:44 | INFO     | dental_system.supabase.tablas.pagos | get_consultas_pendientes_facturacion:612 | No hay consultas pendientes de facturaci√≥n
2025-09-25 11:52:44 | INFO     | dental_system.services.pagos_service | get_consultas_pendientes_pago:728 | ‚úÖ 0 consultas pendientes de pago obtenidas
2025-09-25 11:52:44 | INFO     | dental_system.state.estado_pagos | cargar_consultas_pendientes_pago:932 | üì≠ No hay consultas pendientes de pago
2025-09-25 11:52:44 | INFO     | dental_system.supabase.tablas.pagos | get_currency_summary:567 | Resumen dual currency generado: $622.43 USD + 15240.92 BS
2025-09-25 11:52:44 | INFO     | dental_system.services.pagos_service | get_currency_stats:649 | Estad√≠sticas duales generadas: $622.43 USD + 15240.92 BS
2025-09-25 11:52:44 | INFO     | dental_system.state.estado_pagos | cargar_estadisticas_duales:760 | üìä Estad√≠sticas duales cargadas exitosamente
2025-09-25 11:52:44 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:124 | ‚úÖ Usando lista_servicios: 11 servicios activos
2025-09-25 11:52:45 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-25 11:52:45 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-25 11:52:46 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 11:52:48 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 11:52:48 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:237 | ‚úÖ Reutilizando servicios del cat√°logo: 11 activos
2025-09-25 11:52:49 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-25 11:52:50 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-25 11:52:51 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 11:52:52 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 11:52:53 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:237 | ‚úÖ Reutilizando servicios del cat√°logo: 11 activos
2025-09-25 11:52:59 | INFO     | dental_system.services.servicios_service | reactivate_service:270 | Reactivando servicio: 8987c53c-6c17-4990-91fa-8b5147f50ba4
2025-09-25 11:52:59 | INFO     | dental_system.supabase.tablas.base | update:128 | Actualizando registro 8987c53c-6c17-4990-91fa-8b5147f50ba4 en servicios
2025-09-25 11:52:59 | INFO     | dental_system.services.servicios_service | reactivate_service:278 | ‚úÖ Servicio reactivado correctamente
2025-09-25 11:52:59 | INFO     | dental_system.state.estado_servicios | activar_desactivar_servicio:690 | ‚úÖ Servicio NUEVO desactivado
2025-09-25 11:52:59 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 11 registros
2025-09-25 11:52:59 | INFO     | dental_system.state.estado_servicios | cargar_lista_servicios:442 | ‚úÖ Lista servicios cargada: 11 servicios
2025-09-25 11:52:59 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:124 | ‚úÖ Usando lista_servicios: 11 servicios activos
2025-09-25 11:53:09 | INFO     | dental_system.state.estado_servicios | seleccionar_y_abrir_modal_servicio:891 | üìù Modal editar servicio abierto: 8987c53c-6c17-4990-91fa-8b5147f50ba4
2025-09-25 11:53:16 | ERROR    | dental_system.services.servicios_service | update_service:211 | Error actualizando servicio 8987c53c-6c17-4990-91fa-8b5147f50ba4: No tiene permisos para editar servicios
2025-09-25 11:53:16 | ERROR    | dental_system.state.estado_servicios | actualizar_servicio:657 | ‚ùå Error actualizando servicio: No tiene permisos para editar servicios
2025-09-25 11:55:55 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 11:55:55 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 11:55:55 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 11:55:55 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 11:56:27 | INFO     | dental_system.state.estado_servicios | seleccionar_y_abrir_modal_servicio:891 | üìù Modal editar servicio abierto: 8987c53c-6c17-4990-91fa-8b5147f50ba4
2025-09-25 11:56:33 | INFO     | dental_system.supabase.tablas.base | get_by_id:69 | Obteniendo registro 8987c53c-6c17-4990-91fa-8b5147f50ba4 de servicios
2025-09-25 11:56:34 | INFO     | dental_system.supabase.tablas.base | update:128 | Actualizando registro 8987c53c-6c17-4990-91fa-8b5147f50ba4 en servicios
2025-09-25 11:56:34 | ERROR    | dental_system.services.servicios_service | update_service:211 | Error actualizando servicio 8987c53c-6c17-4990-91fa-8b5147f50ba4: object dict can't be used in 'await' expression
2025-09-25 11:56:34 | ERROR    | dental_system.state.estado_servicios | actualizar_servicio:657 | ‚ùå Error actualizando servicio: object dict can't be used in 'await' expression
2025-09-25 11:58:39 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 11:58:39 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 11:58:41 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 11:58:41 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 11:59:12 | INFO     | dental_system.supabase.tablas.base | get_by_id:69 | Obteniendo registro 8987c53c-6c17-4990-91fa-8b5147f50ba4 de servicios
2025-09-25 11:59:13 | INFO     | dental_system.supabase.tablas.base | update:128 | Actualizando registro 8987c53c-6c17-4990-91fa-8b5147f50ba4 en servicios
2025-09-25 11:59:13 | INFO     | dental_system.state.estado_servicios | limpiar_y_cerrar_modal_editar:828 | Modal editar servicio cerrado y limpiado
2025-09-25 11:59:13 | INFO     | dental_system.state.estado_servicios | actualizar_servicio:652 | ‚úÖ Servicio actualizado: NUEVO
2025-09-25 11:59:13 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:124 | ‚úÖ Usando lista_servicios: 11 servicios activos
2025-09-25 12:02:29 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 12:02:29 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 12:02:29 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 12:02:29 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 20:47:37 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 20:47:37 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 20:49:36 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 20:49:36 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 20:50:45 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 20:50:45 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 20:51:14 | INFO     | dental_system.supabase.auth | sign_in:71 | üîê Autenticando usuario: odontologo1@odontomara.com
2025-09-25 20:51:14 | INFO     | dental_system.supabase.auth | sign_in:84 | ‚úÖ Autenticaci√≥n con Supabase exitosa para: odontologo1@odontomara.com
2025-09-25 20:51:14 | INFO     | dental_system.supabase.auth | sign_in:87 | üîç Buscando usuario en BD con auth_user_id: 219479a5-0fc9-488b-a6c4-8c1a539b6427
2025-09-25 20:51:14 | INFO     | dental_system.supabase.tablas.usuarios | get_by_auth_id:255 | Buscando usuario con auth_user_id: 219479a5-0fc9-488b-a6c4-8c1a539b6427
2025-09-25 20:51:15 | INFO     | dental_system.supabase.tablas.usuarios | get_by_auth_id:258 | Usuario encontrado: True
2025-09-25 20:51:15 | INFO     | dental_system.supabase.auth | sign_in:94 | ‚úÖ Usuario encontrado en BD: odontologo1@odontomara.com
2025-09-25 20:51:15 | INFO     | dental_system.supabase.auth | sign_in:97 | üìã Obteniendo informaci√≥n b√°sica del usuario: a1fec1be-029d-4633-ad34-594b34cc36bf
2025-09-25 20:51:15 | INFO     | dental_system.supabase.tablas.usuarios | get_user_basic_info:264 | Obteniendo info b√°sica del usuario: a1fec1be-029d-4633-ad34-594b34cc36bf
2025-09-25 20:51:15 | INFO     | dental_system.supabase.tablas.base | get_by_id:69 | Obteniendo registro a1fec1be-029d-4633-ad34-594b34cc36bf de usuarios
2025-09-25 20:51:15 | INFO     | dental_system.supabase.tablas.usuarios | get_user_basic_info:279 | Usuario con rol obtenido: odontologo1@odontomara.com - odontologo
2025-09-25 20:51:15 | INFO     | dental_system.supabase.auth | sign_in:104 | ‚úÖ Informaci√≥n del usuario obtenida - Rol: odontologo
2025-09-25 20:51:15 | INFO     | dental_system.supabase.auth | sign_in:107 | ‚è∞ Actualizando √∫ltimo acceso para: a1fec1be-029d-4633-ad34-594b34cc36bf
2025-09-25 20:51:15 | INFO     | dental_system.supabase.auth | sign_in:110 | üéâ Inicio de sesi√≥n completado exitosamente para: odontologo1@odontomara.com
2025-09-25 20:51:15 | INFO     | dental_system.services.dashboard_service | get_dashboard_stats:54 | üöÄ Obteniendo stats optimizadas para rol: odontologo
2025-09-25 20:51:15 | INFO     | dental_system.services.consultas_service | get_today_consultations:43 | Obteniendo consultas del d√≠a
2025-09-25 20:51:15 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:527 | Obteniendo consultas del d√≠a 2025-09-25 usando vista optimizada
2025-09-25 20:51:15 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:540 | Vista no disponible, usando query optimizada manual
2025-09-25 20:51:15 | INFO     | dental_system.services.consultas_service | get_today_consultations:76 | ‚úÖ Consultas del d√≠a obtenidas: 1 registros
2025-09-25 20:51:15 | INFO     | dental_system.state.estado_odontologia | cargar_pacientes_asignados:511 | ‚úÖ Consultas asignadas cargadas: 1
2025-09-25 20:51:15 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:196 | Obteniendo pacientes disponibles para personal_id: f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-25 20:51:15 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:206 | Funcionalidad de pacientes disponibles simplificada temporalmente
2025-09-25 20:51:15 | INFO     | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:639 | ‚úÖ Consultas disponibles cargadas: 0
2025-09-25 20:51:15 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 11 registros
2025-09-25 20:51:15 | INFO     | dental_system.state.estado_odontologia | cargar_servicios_disponibles:535 | ‚úÖ Servicios disponibles cargados: 11
2025-09-25 20:51:15 | INFO     | dental_system.services.odontologia_service | get_pacientes_asignados:105 | Obteniendo pacientes asignados para personal_id: f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-25 20:51:15 | INFO     | dental_system.services.odontologia_service | get_pacientes_asignados:172 | ‚úÖ 0 pacientes asignados convertidos a modelos
2025-09-25 20:51:15 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:196 | Obteniendo pacientes disponibles para personal_id: f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-25 20:51:15 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:206 | Funcionalidad de pacientes disponibles simplificada temporalmente
2025-09-25 20:51:15 | INFO     | dental_system.services.odontologia_service | get_estadisticas_odontologo:503 | ‚úÖ Estad√≠sticas obtenidas para personal f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-25 20:51:15 | INFO     | dental_system.state.estado_odontologia | cargar_estadisticas_dia:664 | ‚úÖ Estad√≠sticas del d√≠a actualizadas
2025-09-25 20:51:15 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 11 servicios
2025-09-25 20:51:20 | INFO     | dental_system.services.consultas_service | get_today_consultations:43 | Obteniendo consultas del d√≠a
2025-09-25 20:51:20 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:527 | Obteniendo consultas del d√≠a 2025-09-25 usando vista optimizada
2025-09-25 20:51:20 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:540 | Vista no disponible, usando query optimizada manual
2025-09-25 20:51:20 | INFO     | dental_system.services.consultas_service | get_today_consultations:76 | ‚úÖ Consultas del d√≠a obtenidas: 1 registros
2025-09-25 20:51:20 | INFO     | dental_system.state.estado_odontologia | cargar_pacientes_asignados:511 | ‚úÖ Consultas asignadas cargadas: 1
2025-09-25 20:51:20 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:196 | Obteniendo pacientes disponibles para personal_id: f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-25 20:51:20 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:206 | Funcionalidad de pacientes disponibles simplificada temporalmente
2025-09-25 20:51:20 | INFO     | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:639 | ‚úÖ Consultas disponibles cargadas: 0
2025-09-25 20:51:20 | INFO     | dental_system.services.odontologia_service | get_pacientes_asignados:105 | Obteniendo pacientes asignados para personal_id: f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-25 20:51:20 | INFO     | dental_system.services.odontologia_service | get_pacientes_asignados:172 | ‚úÖ 0 pacientes asignados convertidos a modelos
2025-09-25 20:51:20 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:196 | Obteniendo pacientes disponibles para personal_id: f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-25 20:51:20 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:206 | Funcionalidad de pacientes disponibles simplificada temporalmente
2025-09-25 20:51:20 | INFO     | dental_system.services.odontologia_service | get_estadisticas_odontologo:503 | ‚úÖ Estad√≠sticas obtenidas para personal f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-25 20:51:20 | INFO     | dental_system.state.estado_odontologia | cargar_estadisticas_dia:664 | ‚úÖ Estad√≠sticas del d√≠a actualizadas
2025-09-25 20:51:20 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 20:51:20 | INFO     | dental_system.services.odontologia_service | get_odontograma_paciente:341 | Obteniendo odontograma para paciente: 
2025-09-25 20:51:20 | ERROR    | dental_system.supabase.client | wrapper:425 | Error en operaci√≥n de Supabase get_active_odontogram: {'message': 'invalid input syntax for type uuid: ""', 'code': '22P02', 'hint': None, 'details': None}
2025-09-25 20:51:20 | ERROR    | dental_system.services.base_service | handle_error:153 | Error obteniendo odontograma: Datos inv√°lidos: {'message': 'invalid input syntax for type uuid: ""', 'code': '22P02', 'hint': None, 'details': None}
2025-09-25 20:51:20 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 20:51:20 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:232 | ‚úÖ Reutilizando servicios de odontolog√≠a: 11
2025-09-25 20:51:20 | INFO     | dental_system.services.consultas_service | get_today_consultations:43 | Obteniendo consultas del d√≠a
2025-09-25 20:51:20 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:527 | Obteniendo consultas del d√≠a 2025-09-25 usando vista optimizada
2025-09-25 20:51:20 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:540 | Vista no disponible, usando query optimizada manual
2025-09-25 20:51:20 | INFO     | dental_system.services.consultas_service | get_today_consultations:76 | ‚úÖ Consultas del d√≠a obtenidas: 1 registros
2025-09-25 20:51:20 | INFO     | dental_system.state.estado_odontologia | cargar_pacientes_asignados:511 | ‚úÖ Consultas asignadas cargadas: 1
2025-09-25 20:51:20 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:196 | Obteniendo pacientes disponibles para personal_id: f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-25 20:51:20 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:206 | Funcionalidad de pacientes disponibles simplificada temporalmente
2025-09-25 20:51:21 | INFO     | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:639 | ‚úÖ Consultas disponibles cargadas: 0
2025-09-25 20:51:21 | INFO     | dental_system.services.odontologia_service | get_pacientes_asignados:105 | Obteniendo pacientes asignados para personal_id: f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-25 20:51:21 | INFO     | dental_system.services.odontologia_service | get_pacientes_asignados:172 | ‚úÖ 0 pacientes asignados convertidos a modelos
2025-09-25 20:51:21 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:196 | Obteniendo pacientes disponibles para personal_id: f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-25 20:51:21 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:206 | Funcionalidad de pacientes disponibles simplificada temporalmente
2025-09-25 20:51:21 | INFO     | dental_system.services.odontologia_service | get_estadisticas_odontologo:503 | ‚úÖ Estad√≠sticas obtenidas para personal f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-25 20:51:21 | INFO     | dental_system.state.estado_odontologia | cargar_estadisticas_dia:664 | ‚úÖ Estad√≠sticas del d√≠a actualizadas
2025-09-25 20:51:21 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-25 20:51:21 | INFO     | dental_system.services.odontologia_service | get_odontograma_paciente:341 | Obteniendo odontograma para paciente: 
2025-09-25 20:51:21 | ERROR    | dental_system.supabase.client | wrapper:425 | Error en operaci√≥n de Supabase get_active_odontogram: {'message': 'invalid input syntax for type uuid: ""', 'code': '22P02', 'hint': None, 'details': None}
2025-09-25 20:51:21 | ERROR    | dental_system.services.base_service | handle_error:153 | Error obteniendo odontograma: Datos inv√°lidos: {'message': 'invalid input syntax for type uuid: ""', 'code': '22P02', 'hint': None, 'details': None}
2025-09-25 20:51:21 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 20:51:21 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:232 | ‚úÖ Reutilizando servicios de odontolog√≠a: 11
2025-09-25 20:51:26 | INFO     | dental_system.supabase.tablas.base | get_by_id:69 | Obteniendo registro 50b055af-40e4-4378-bb97-7d332af58e9c de pacientes
2025-09-25 20:51:33 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: historial
2025-09-25 20:52:16 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-25 20:52:37 | INFO     | dental_system.state.estado_intervencion_servicios | agregar_servicio_a_intervencion:415 | Servicio agregado: Blanqueamiento
2025-09-25 20:52:48 | INFO     | dental_system.state.estado_intervencion_servicios | finalizar_mi_intervencion_odontologo:542 | ü¶∑ Iniciando finalizaci√≥n de MI intervenci√≥n: 1 servicios
2025-09-25 20:52:48 | INFO     | dental_system.services.odontologia_service | crear_intervencion_con_servicios:915 | üöÄ Iniciando creaci√≥n de intervenci√≥n con servicios
2025-09-25 20:52:48 | INFO     | dental_system.services.odontologia_service | crear_intervencion_con_servicios:935 | üîÑ Conversi√≥n: usuario a1fec1be-029d-4633-ad34-594b34cc36bf ‚Üí personal f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-25 20:52:48 | INFO     | dental_system.services.odontologia_service | crear_intervencion_con_servicios:947 | üí∞ Totales calculados: BS 10,950.00, USD $300.00
2025-09-25 20:52:48 | INFO     | dental_system.services.odontologia_service | crear_intervencion_con_servicios:981 | ü¶∑ Dientes afectados: [13]
2025-09-25 20:52:48 | INFO     | dental_system.supabase.tablas.base | create:53 | Creando registro en intervenciones
2025-09-25 20:52:48 | INFO     | dental_system.services.odontologia_service | crear_intervencion_con_servicios:991 | ‚úÖ Intervenci√≥n principal creada: bfbf7d3b-f96d-41c0-bf3c-83eae796a9ad
2025-09-25 20:52:48 | INFO     | dental_system.services.odontologia_service | crear_intervencion_con_servicios:1034 | ‚úÖ Servicio creado en BD: 2b75402c-632a-480b-ac8c-1b3cd2bdab37 x1
2025-09-25 20:52:48 | INFO     | dental_system.services.odontologia_service | crear_intervencion_con_servicios:1042 | üìã Servicios creados en intervenciones_servicios: 1/1
2025-09-25 20:52:48 | INFO     | dental_system.supabase.tablas.base | get_by_id:69 | Obteniendo registro 2b75402c-632a-480b-ac8c-1b3cd2bdab37 de servicios
2025-09-25 20:52:48 | INFO     | dental_system.supabase.tablas.base | update:128 | Actualizando registro bfbf7d3b-f96d-41c0-bf3c-83eae796a9ad en intervenciones
2025-09-25 20:52:48 | INFO     | dental_system.supabase.tablas.consultas | update_status:369 | Actualizando estado de consulta c761bbc4-5b9a-4b59-a626-ef63be1dda0e a completada
2025-09-25 20:52:48 | INFO     | dental_system.supabase.tablas.base | update:128 | Actualizando registro c761bbc4-5b9a-4b59-a626-ef63be1dda0e en consultas
2025-09-25 20:52:48 | INFO     | dental_system.services.odontologia_service | crear_intervencion_con_servicios:1088 | ‚úÖ Consulta c761bbc4-5b9a-4b59-a626-ef63be1dda0e marcada como completada
2025-09-25 20:52:48 | INFO     | dental_system.services.odontologia_service | crear_intervencion_con_servicios:1096 | üéâ Intervenci√≥n con servicios completada exitosamente: bfbf7d3b-f96d-41c0-bf3c-83eae796a9ad
2025-09-25 20:52:48 | INFO     | dental_system.state.estado_intervencion_servicios | finalizar_mi_intervencion_odontologo:582 | ‚úÖ Intervenci√≥n guardada: bfbf7d3b-f96d-41c0-bf3c-83eae796a9ad
2025-09-25 20:52:48 | ERROR    | dental_system.state.estado_intervencion_servicios | _actualizar_odontograma_por_servicios:696 | Error actualizando odontograma: cannot import name 'odontograma_table' from 'dental_system.supabase.tablas.odontograma' (C:\Users\wilme\Documents\tesis-main\dental_system\supabase\tablas\odontograma.py)
2025-09-25 20:52:48 | ERROR    | dental_system.state.estado_intervencion_servicios | _cambiar_estado_consulta_entre_odontologos:754 | Error cambiando estado de consulta: 'ConsultationsTable' object has no attribute 'update_estado_consulta'
2025-09-25 20:52:48 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_pago_pendiente_consulta:915 | üí≥ Creando pago pendiente: $300.00 USD (10950.00 BS)
2025-09-25 20:52:48 | INFO     | dental_system.services.pagos_service | create_dual_payment:207 | Creando pago dual USD/BS
2025-09-25 20:52:48 | WARNING  | dental_system.services.pagos_service | create_dual_payment:294 | Usuario sin permisos para crear pagos duales
2025-09-25 20:52:48 | ERROR    | dental_system.state.estado_intervencion_servicios | _crear_pago_pendiente_consulta:928 | ‚ùå Error creando pago pendiente: Usuario con rol 'unknown' no tiene permiso para crear en pagos
2025-09-25 20:52:48 | INFO     | dental_system.state.estado_intervencion_servicios | finalizar_mi_intervencion_odontologo:598 | üí≥ Pago pendiente creado autom√°ticamente
2025-09-25 20:52:50 | INFO     | dental_system.state.estado_intervencion_servicios | navegar_despues_guardado:854 | üîÑ Navegaci√≥n completada despu√©s del guardado
2025-09-25 20:58:48 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 20:58:48 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-25 21:24:10 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-25 21:24:10 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-26 04:18:33 | INFO     | dental_system.services.consultas_service | get_today_consultations:43 | Obteniendo consultas del d√≠a
2025-09-26 04:18:33 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:527 | Obteniendo consultas del d√≠a 2025-09-26 usando vista optimizada
2025-09-26 04:18:34 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:540 | Vista no disponible, usando query optimizada manual
2025-09-26 04:18:34 | INFO     | dental_system.services.consultas_service | get_today_consultations:76 | ‚úÖ Consultas del d√≠a obtenidas: 0 registros
2025-09-26 04:18:34 | INFO     | dental_system.state.estado_odontologia | cargar_pacientes_asignados:511 | ‚úÖ Consultas asignadas cargadas: 0
2025-09-26 04:18:34 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:196 | Obteniendo pacientes disponibles para personal_id: f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:18:34 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:206 | Funcionalidad de pacientes disponibles simplificada temporalmente
2025-09-26 04:18:34 | INFO     | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:639 | ‚úÖ Consultas disponibles cargadas: 0
2025-09-26 04:18:34 | INFO     | dental_system.services.odontologia_service | get_pacientes_asignados:105 | Obteniendo pacientes asignados para personal_id: f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:18:34 | INFO     | dental_system.services.odontologia_service | get_pacientes_asignados:172 | ‚úÖ 0 pacientes asignados convertidos a modelos
2025-09-26 04:18:34 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:196 | Obteniendo pacientes disponibles para personal_id: f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:18:34 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:206 | Funcionalidad de pacientes disponibles simplificada temporalmente
2025-09-26 04:18:34 | INFO     | dental_system.services.odontologia_service | get_estadisticas_odontologo:503 | ‚úÖ Estad√≠sticas obtenidas para personal f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:18:34 | INFO     | dental_system.state.estado_odontologia | cargar_estadisticas_dia:664 | ‚úÖ Estad√≠sticas del d√≠a actualizadas
2025-09-26 04:18:34 | INFO     | dental_system.services.odontologia_service | get_historial_paciente_completo:812 | Obteniendo historial completo para paciente: 50b055af-40e4-4378-bb97-7d332af58e9c
2025-09-26 04:18:34 | INFO     | dental_system.services.odontologia_service | get_historial_paciente_completo:835 | Intervenciones temporalmente deshabilitadas para evitar errores de esquema
2025-09-26 04:18:34 | INFO     | dental_system.services.odontologia_service | get_historial_paciente_completo:880 | ‚úÖ Historial completo obtenido: 1 entradas
2025-09-26 04:18:34 | INFO     | dental_system.state.estado_odontologia | cargar_historial_paciente:705 | ‚úÖ Historial cargado para paciente 50b055af-40e4-4378-bb97-7d332af58e9c: 1 entradas
2025-09-26 04:18:35 | INFO     | dental_system.services.odontologia_service | get_odontograma_paciente:341 | Obteniendo odontograma para paciente: 50b055af-40e4-4378-bb97-7d332af58e9c
2025-09-26 04:18:35 | INFO     | dental_system.supabase.tablas.base | get_by_id:69 | Obteniendo registro cfa98242-c824-4e91-b702-938307a829fc de odontograma
2025-09-26 04:18:35 | INFO     | dental_system.services.odontologia_service | get_odontograma_paciente:373 | ‚úÖ Odontograma obtenido con 0 condiciones
2025-09-26 04:18:35 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-26 04:18:35 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:232 | ‚úÖ Reutilizando servicios de odontolog√≠a: 11
2025-09-26 04:18:35 | ERROR    | dental_system.state.estado_odontologia | cargar_condiciones_historial_paciente:3198 | Error cargando condiciones del historial: cannot import name 'odontograma_table' from 'dental_system.supabase.tablas.odontograma' (C:\Users\wilme\Documents\tesis-main\dental_system\supabase\tablas\odontograma.py)
2025-09-26 04:18:35 | INFO     | dental_system.state.estado_odontologia | inicializar_historial_paciente:3255 | Historial inicializado para paciente HC000004
2025-09-26 04:18:35 | INFO     | dental_system.services.consultas_service | get_today_consultations:43 | Obteniendo consultas del d√≠a
2025-09-26 04:18:35 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:527 | Obteniendo consultas del d√≠a 2025-09-26 usando vista optimizada
2025-09-26 04:18:35 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:540 | Vista no disponible, usando query optimizada manual
2025-09-26 04:18:35 | INFO     | dental_system.services.consultas_service | get_today_consultations:76 | ‚úÖ Consultas del d√≠a obtenidas: 0 registros
2025-09-26 04:18:35 | INFO     | dental_system.state.estado_odontologia | cargar_pacientes_asignados:511 | ‚úÖ Consultas asignadas cargadas: 0
2025-09-26 04:18:36 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:196 | Obteniendo pacientes disponibles para personal_id: f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:18:36 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:206 | Funcionalidad de pacientes disponibles simplificada temporalmente
2025-09-26 04:18:36 | INFO     | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:639 | ‚úÖ Consultas disponibles cargadas: 0
2025-09-26 04:18:36 | INFO     | dental_system.services.odontologia_service | get_pacientes_asignados:105 | Obteniendo pacientes asignados para personal_id: f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:18:36 | INFO     | dental_system.services.odontologia_service | get_pacientes_asignados:172 | ‚úÖ 0 pacientes asignados convertidos a modelos
2025-09-26 04:18:36 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:196 | Obteniendo pacientes disponibles para personal_id: f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:18:36 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:206 | Funcionalidad de pacientes disponibles simplificada temporalmente
2025-09-26 04:18:36 | INFO     | dental_system.services.odontologia_service | get_estadisticas_odontologo:503 | ‚úÖ Estad√≠sticas obtenidas para personal f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:18:36 | INFO     | dental_system.state.estado_odontologia | cargar_estadisticas_dia:664 | ‚úÖ Estad√≠sticas del d√≠a actualizadas
2025-09-26 04:18:36 | INFO     | dental_system.services.odontologia_service | get_historial_paciente_completo:812 | Obteniendo historial completo para paciente: 50b055af-40e4-4378-bb97-7d332af58e9c
2025-09-26 04:18:36 | INFO     | dental_system.services.odontologia_service | get_historial_paciente_completo:835 | Intervenciones temporalmente deshabilitadas para evitar errores de esquema
2025-09-26 04:18:36 | INFO     | dental_system.services.odontologia_service | get_historial_paciente_completo:880 | ‚úÖ Historial completo obtenido: 1 entradas
2025-09-26 04:18:36 | INFO     | dental_system.state.estado_odontologia | cargar_historial_paciente:705 | ‚úÖ Historial cargado para paciente 50b055af-40e4-4378-bb97-7d332af58e9c: 1 entradas
2025-09-26 04:18:36 | INFO     | dental_system.services.odontologia_service | get_odontograma_paciente:341 | Obteniendo odontograma para paciente: 50b055af-40e4-4378-bb97-7d332af58e9c
2025-09-26 04:18:36 | INFO     | dental_system.supabase.tablas.base | get_by_id:69 | Obteniendo registro cfa98242-c824-4e91-b702-938307a829fc de odontograma
2025-09-26 04:18:37 | INFO     | dental_system.services.odontologia_service | get_odontograma_paciente:373 | ‚úÖ Odontograma obtenido con 0 condiciones
2025-09-26 04:18:37 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-26 04:18:37 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:232 | ‚úÖ Reutilizando servicios de odontolog√≠a: 11
2025-09-26 04:18:37 | ERROR    | dental_system.state.estado_odontologia | cargar_condiciones_historial_paciente:3198 | Error cargando condiciones del historial: cannot import name 'odontograma_table' from 'dental_system.supabase.tablas.odontograma' (C:\Users\wilme\Documents\tesis-main\dental_system\supabase\tablas\odontograma.py)
2025-09-26 04:18:37 | INFO     | dental_system.state.estado_odontologia | inicializar_historial_paciente:3255 | Historial inicializado para paciente HC000004
2025-09-26 04:22:34 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-26 04:22:34 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-26 04:24:22 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-26 04:24:22 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-26 04:24:33 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-26 04:24:33 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-26 04:24:59 | INFO     | dental_system.supabase.auth | sign_in:71 | üîê Autenticando usuario: odontologo1@odontomara.com
2025-09-26 04:24:59 | INFO     | dental_system.supabase.auth | sign_in:84 | ‚úÖ Autenticaci√≥n con Supabase exitosa para: odontologo1@odontomara.com
2025-09-26 04:24:59 | INFO     | dental_system.supabase.auth | sign_in:87 | üîç Buscando usuario en BD con auth_user_id: 219479a5-0fc9-488b-a6c4-8c1a539b6427
2025-09-26 04:24:59 | INFO     | dental_system.supabase.tablas.usuarios | get_by_auth_id:255 | Buscando usuario con auth_user_id: 219479a5-0fc9-488b-a6c4-8c1a539b6427
2025-09-26 04:25:00 | INFO     | dental_system.supabase.tablas.usuarios | get_by_auth_id:258 | Usuario encontrado: True
2025-09-26 04:25:00 | INFO     | dental_system.supabase.auth | sign_in:94 | ‚úÖ Usuario encontrado en BD: odontologo1@odontomara.com
2025-09-26 04:25:00 | INFO     | dental_system.supabase.auth | sign_in:97 | üìã Obteniendo informaci√≥n b√°sica del usuario: a1fec1be-029d-4633-ad34-594b34cc36bf
2025-09-26 04:25:00 | INFO     | dental_system.supabase.tablas.usuarios | get_user_basic_info:264 | Obteniendo info b√°sica del usuario: a1fec1be-029d-4633-ad34-594b34cc36bf
2025-09-26 04:25:00 | INFO     | dental_system.supabase.tablas.base | get_by_id:69 | Obteniendo registro a1fec1be-029d-4633-ad34-594b34cc36bf de usuarios
2025-09-26 04:25:00 | INFO     | dental_system.supabase.tablas.usuarios | get_user_basic_info:279 | Usuario con rol obtenido: odontologo1@odontomara.com - odontologo
2025-09-26 04:25:00 | INFO     | dental_system.supabase.auth | sign_in:104 | ‚úÖ Informaci√≥n del usuario obtenida - Rol: odontologo
2025-09-26 04:25:00 | INFO     | dental_system.supabase.auth | sign_in:107 | ‚è∞ Actualizando √∫ltimo acceso para: a1fec1be-029d-4633-ad34-594b34cc36bf
2025-09-26 04:25:00 | INFO     | dental_system.supabase.auth | sign_in:110 | üéâ Inicio de sesi√≥n completado exitosamente para: odontologo1@odontomara.com
2025-09-26 04:25:00 | INFO     | dental_system.services.dashboard_service | get_dashboard_stats:54 | üöÄ Obteniendo stats optimizadas para rol: odontologo
2025-09-26 04:25:00 | INFO     | dental_system.services.consultas_service | get_today_consultations:43 | Obteniendo consultas del d√≠a
2025-09-26 04:25:00 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:527 | Obteniendo consultas del d√≠a 2025-09-26 usando vista optimizada
2025-09-26 04:25:00 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:540 | Vista no disponible, usando query optimizada manual
2025-09-26 04:25:00 | INFO     | dental_system.services.consultas_service | get_today_consultations:76 | ‚úÖ Consultas del d√≠a obtenidas: 1 registros
2025-09-26 04:25:00 | INFO     | dental_system.state.estado_odontologia | cargar_pacientes_asignados:511 | ‚úÖ Consultas asignadas cargadas: 1
2025-09-26 04:25:00 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:196 | Obteniendo pacientes disponibles para personal_id: f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:25:00 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:206 | Funcionalidad de pacientes disponibles simplificada temporalmente
2025-09-26 04:25:00 | INFO     | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:639 | ‚úÖ Consultas disponibles cargadas: 0
2025-09-26 04:25:00 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 11 registros
2025-09-26 04:25:00 | INFO     | dental_system.state.estado_odontologia | cargar_servicios_disponibles:535 | ‚úÖ Servicios disponibles cargados: 11
2025-09-26 04:25:00 | INFO     | dental_system.services.odontologia_service | get_pacientes_asignados:105 | Obteniendo pacientes asignados para personal_id: f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:25:00 | INFO     | dental_system.services.odontologia_service | get_pacientes_asignados:172 | ‚úÖ 0 pacientes asignados convertidos a modelos
2025-09-26 04:25:00 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:196 | Obteniendo pacientes disponibles para personal_id: f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:25:00 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:206 | Funcionalidad de pacientes disponibles simplificada temporalmente
2025-09-26 04:25:00 | INFO     | dental_system.services.odontologia_service | get_estadisticas_odontologo:503 | ‚úÖ Estad√≠sticas obtenidas para personal f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:25:00 | INFO     | dental_system.state.estado_odontologia | cargar_estadisticas_dia:664 | ‚úÖ Estad√≠sticas del d√≠a actualizadas
2025-09-26 04:25:00 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 11 servicios
2025-09-26 04:25:00 | INFO     | dental_system.services.consultas_service | get_today_consultations:43 | Obteniendo consultas del d√≠a
2025-09-26 04:25:00 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:527 | Obteniendo consultas del d√≠a 2025-09-26 usando vista optimizada
2025-09-26 04:25:00 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:540 | Vista no disponible, usando query optimizada manual
2025-09-26 04:25:00 | INFO     | dental_system.services.consultas_service | get_today_consultations:76 | ‚úÖ Consultas del d√≠a obtenidas: 1 registros
2025-09-26 04:25:00 | INFO     | dental_system.state.estado_odontologia | cargar_pacientes_asignados:511 | ‚úÖ Consultas asignadas cargadas: 1
2025-09-26 04:25:00 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:196 | Obteniendo pacientes disponibles para personal_id: f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:25:00 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:206 | Funcionalidad de pacientes disponibles simplificada temporalmente
2025-09-26 04:25:00 | INFO     | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:639 | ‚úÖ Consultas disponibles cargadas: 0
2025-09-26 04:25:00 | INFO     | dental_system.services.odontologia_service | get_pacientes_asignados:105 | Obteniendo pacientes asignados para personal_id: f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:25:00 | INFO     | dental_system.services.odontologia_service | get_pacientes_asignados:172 | ‚úÖ 0 pacientes asignados convertidos a modelos
2025-09-26 04:25:00 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:196 | Obteniendo pacientes disponibles para personal_id: f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:25:00 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:206 | Funcionalidad de pacientes disponibles simplificada temporalmente
2025-09-26 04:25:00 | INFO     | dental_system.services.odontologia_service | get_estadisticas_odontologo:503 | ‚úÖ Estad√≠sticas obtenidas para personal f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:25:00 | INFO     | dental_system.state.estado_odontologia | cargar_estadisticas_dia:664 | ‚úÖ Estad√≠sticas del d√≠a actualizadas
2025-09-26 04:25:01 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-26 04:25:01 | INFO     | dental_system.services.odontologia_service | get_odontograma_paciente:341 | Obteniendo odontograma para paciente: 
2025-09-26 04:25:01 | ERROR    | dental_system.supabase.client | wrapper:425 | Error en operaci√≥n de Supabase get_active_odontogram: {'message': 'invalid input syntax for type uuid: ""', 'code': '22P02', 'hint': None, 'details': None}
2025-09-26 04:25:01 | ERROR    | dental_system.services.base_service | handle_error:153 | Error obteniendo odontograma: Datos inv√°lidos: {'message': 'invalid input syntax for type uuid: ""', 'code': '22P02', 'hint': None, 'details': None}
2025-09-26 04:25:01 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-26 04:25:01 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:232 | ‚úÖ Reutilizando servicios de odontolog√≠a: 11
2025-09-26 04:25:01 | INFO     | dental_system.services.consultas_service | get_today_consultations:43 | Obteniendo consultas del d√≠a
2025-09-26 04:25:01 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:527 | Obteniendo consultas del d√≠a 2025-09-26 usando vista optimizada
2025-09-26 04:25:01 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:540 | Vista no disponible, usando query optimizada manual
2025-09-26 04:25:01 | INFO     | dental_system.services.consultas_service | get_today_consultations:76 | ‚úÖ Consultas del d√≠a obtenidas: 1 registros
2025-09-26 04:25:01 | INFO     | dental_system.state.estado_odontologia | cargar_pacientes_asignados:511 | ‚úÖ Consultas asignadas cargadas: 1
2025-09-26 04:25:01 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:196 | Obteniendo pacientes disponibles para personal_id: f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:25:01 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:206 | Funcionalidad de pacientes disponibles simplificada temporalmente
2025-09-26 04:25:01 | INFO     | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:639 | ‚úÖ Consultas disponibles cargadas: 0
2025-09-26 04:25:01 | INFO     | dental_system.services.odontologia_service | get_pacientes_asignados:105 | Obteniendo pacientes asignados para personal_id: f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:25:01 | INFO     | dental_system.services.odontologia_service | get_pacientes_asignados:172 | ‚úÖ 0 pacientes asignados convertidos a modelos
2025-09-26 04:25:01 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:196 | Obteniendo pacientes disponibles para personal_id: f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:25:01 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:206 | Funcionalidad de pacientes disponibles simplificada temporalmente
2025-09-26 04:25:01 | INFO     | dental_system.services.odontologia_service | get_estadisticas_odontologo:503 | ‚úÖ Estad√≠sticas obtenidas para personal f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:25:01 | INFO     | dental_system.state.estado_odontologia | cargar_estadisticas_dia:664 | ‚úÖ Estad√≠sticas del d√≠a actualizadas
2025-09-26 04:25:01 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-26 04:25:01 | INFO     | dental_system.services.odontologia_service | get_odontograma_paciente:341 | Obteniendo odontograma para paciente: 
2025-09-26 04:25:01 | ERROR    | dental_system.supabase.client | wrapper:425 | Error en operaci√≥n de Supabase get_active_odontogram: {'message': 'invalid input syntax for type uuid: ""', 'code': '22P02', 'hint': None, 'details': None}
2025-09-26 04:25:01 | ERROR    | dental_system.services.base_service | handle_error:153 | Error obteniendo odontograma: Datos inv√°lidos: {'message': 'invalid input syntax for type uuid: ""', 'code': '22P02', 'hint': None, 'details': None}
2025-09-26 04:25:01 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-26 04:25:01 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:232 | ‚úÖ Reutilizando servicios de odontolog√≠a: 11
2025-09-26 04:25:39 | INFO     | dental_system.supabase.tablas.base | get_by_id:69 | Obteniendo registro e04e892e-5e91-422a-99c9-3987302ee7b5 de pacientes
2025-09-26 04:25:39 | ERROR    | dental_system.state.estado_consultas | iniciar_atencion_consulta:524 | Error iniciando consulta: Consulta no encontrada
2025-09-26 04:25:46 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: historial
2025-09-26 04:25:54 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-26 04:31:17 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-26 04:31:17 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-26 04:32:40 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-26 04:32:40 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-26 04:33:04 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-26 04:33:04 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-26 04:33:18 | INFO     | dental_system.supabase.auth | sign_in:71 | üîê Autenticando usuario: gerente@odontomara.com
2025-09-26 04:33:18 | INFO     | dental_system.supabase.auth | sign_in:84 | ‚úÖ Autenticaci√≥n con Supabase exitosa para: gerente@odontomara.com
2025-09-26 04:33:18 | INFO     | dental_system.supabase.auth | sign_in:87 | üîç Buscando usuario en BD con auth_user_id: 8046caa1-add0-4391-a048-d47e3aedf637
2025-09-26 04:33:18 | INFO     | dental_system.supabase.tablas.usuarios | get_by_auth_id:255 | Buscando usuario con auth_user_id: 8046caa1-add0-4391-a048-d47e3aedf637
2025-09-26 04:33:19 | INFO     | dental_system.supabase.tablas.usuarios | get_by_auth_id:258 | Usuario encontrado: True
2025-09-26 04:33:19 | INFO     | dental_system.supabase.auth | sign_in:94 | ‚úÖ Usuario encontrado en BD: gerente@odontomara.com
2025-09-26 04:33:19 | INFO     | dental_system.supabase.auth | sign_in:97 | üìã Obteniendo informaci√≥n b√°sica del usuario: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-26 04:33:19 | INFO     | dental_system.supabase.tablas.usuarios | get_user_basic_info:264 | Obteniendo info b√°sica del usuario: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-26 04:33:19 | INFO     | dental_system.supabase.tablas.base | get_by_id:69 | Obteniendo registro 25356728-1a6e-4cb4-b466-b2b9a31e11ca de usuarios
2025-09-26 04:33:19 | INFO     | dental_system.supabase.tablas.usuarios | get_user_basic_info:279 | Usuario con rol obtenido: gerente@odontomara.com - gerente
2025-09-26 04:33:19 | INFO     | dental_system.supabase.auth | sign_in:104 | ‚úÖ Informaci√≥n del usuario obtenida - Rol: gerente
2025-09-26 04:33:19 | INFO     | dental_system.supabase.auth | sign_in:107 | ‚è∞ Actualizando √∫ltimo acceso para: 25356728-1a6e-4cb4-b466-b2b9a31e11ca
2025-09-26 04:33:19 | INFO     | dental_system.supabase.auth | sign_in:110 | üéâ Inicio de sesi√≥n completado exitosamente para: gerente@odontomara.com
2025-09-26 04:33:19 | INFO     | dental_system.services.dashboard_service | get_dashboard_stats:54 | üöÄ Obteniendo stats optimizadas para rol: gerente
2025-09-26 04:33:19 | INFO     | dental_system.supabase.tablas.personal | get_filtered_personal:139 | ‚úÖ Personal obtenido desde vista: 11 registros
2025-09-26 04:33:19 | INFO     | dental_system.state.estado_personal | cargar_lista_personal:321 | ‚úÖ Lista personal cargada: 11 empleados
2025-09-26 04:33:19 | INFO     | dental_system.supabase.tablas.personal | get_filtered_personal:139 | ‚úÖ Personal obtenido desde vista: 11 registros
2025-09-26 04:33:19 | INFO     | dental_system.services.personal_service | get_personal_stats:543 | ‚úÖ Estad√≠sticas personal calculadas: {'total': 11, 'activos': 11, 'odontologos': 8, 'administradores': 1, 'asistentes': 1, 'gerentes': 1}
2025-09-26 04:33:19 | INFO     | dental_system.state.estado_personal | cargar_estadisticas_personal:358 | ‚úÖ Estad√≠sticas de personal actualizadas
2025-09-26 04:33:19 | INFO     | dental_system.services.consultas_service | get_today_consultations:43 | Obteniendo consultas del d√≠a
2025-09-26 04:33:19 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:527 | Obteniendo consultas del d√≠a 2025-09-26 usando vista optimizada
2025-09-26 04:33:19 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:540 | Vista no disponible, usando query optimizada manual
2025-09-26 04:33:19 | INFO     | dental_system.services.consultas_service | get_today_consultations:76 | ‚úÖ Consultas del d√≠a obtenidas: 20 registros
2025-09-26 04:33:20 | INFO     | dental_system.state.estado_consultas | cargar_lista_consultas:1252 | ‚úÖ 20 consultas cargadas
2025-09-26 04:33:20 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 11 registros
2025-09-26 04:33:20 | INFO     | dental_system.state.estado_servicios | cargar_servicios_basico:968 | ‚úÖ 11 servicios cargados
2025-09-26 04:33:20 | INFO     | dental_system.supabase.tablas.pagos | get_consultas_pendientes_facturacion:612 | No hay consultas pendientes de facturaci√≥n
2025-09-26 04:33:20 | INFO     | dental_system.services.pagos_service | get_consultas_pendientes_pago:728 | ‚úÖ 0 consultas pendientes de pago obtenidas
2025-09-26 04:33:20 | INFO     | dental_system.state.estado_pagos | cargar_consultas_pendientes_pago:932 | üì≠ No hay consultas pendientes de pago
2025-09-26 04:33:20 | INFO     | dental_system.supabase.tablas.pagos | get_currency_summary:567 | Resumen dual currency generado: $0.0 USD + 0.0 BS
2025-09-26 04:33:20 | INFO     | dental_system.services.pagos_service | get_currency_stats:649 | Estad√≠sticas duales generadas: $0.0 USD + 0.0 BS
2025-09-26 04:33:20 | INFO     | dental_system.state.estado_pagos | cargar_estadisticas_duales:760 | üìä Estad√≠sticas duales cargadas exitosamente
2025-09-26 04:33:20 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:124 | ‚úÖ Usando lista_servicios: 11 servicios activos
2025-09-26 04:33:23 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-26 04:33:23 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-26 04:33:23 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-26 04:33:23 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-26 04:33:23 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:237 | ‚úÖ Reutilizando servicios del cat√°logo: 11 activos
2025-09-26 04:33:23 | WARNING  | dental_system.state.estado_odontologia | cargar_pacientes_asignados:473 | Usuario no autorizado para ver pacientes asignados
2025-09-26 04:33:23 | WARNING  | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:623 | Usuario no autorizado para ver consultas disponibles
2025-09-26 04:33:23 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-26 04:33:23 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-26 04:33:23 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:237 | ‚úÖ Reutilizando servicios del cat√°logo: 11 activos
2025-09-26 04:34:00 | INFO     | dental_system.supabase.auth | sign_in:71 | üîê Autenticando usuario: odontologo1@odontomara.com
2025-09-26 04:34:00 | INFO     | dental_system.supabase.auth | sign_in:84 | ‚úÖ Autenticaci√≥n con Supabase exitosa para: odontologo1@odontomara.com
2025-09-26 04:34:00 | INFO     | dental_system.supabase.auth | sign_in:87 | üîç Buscando usuario en BD con auth_user_id: 219479a5-0fc9-488b-a6c4-8c1a539b6427
2025-09-26 04:34:00 | INFO     | dental_system.supabase.tablas.usuarios | get_by_auth_id:255 | Buscando usuario con auth_user_id: 219479a5-0fc9-488b-a6c4-8c1a539b6427
2025-09-26 04:34:01 | INFO     | dental_system.supabase.tablas.usuarios | get_by_auth_id:258 | Usuario encontrado: True
2025-09-26 04:34:01 | INFO     | dental_system.supabase.auth | sign_in:94 | ‚úÖ Usuario encontrado en BD: odontologo1@odontomara.com
2025-09-26 04:34:01 | INFO     | dental_system.supabase.auth | sign_in:97 | üìã Obteniendo informaci√≥n b√°sica del usuario: a1fec1be-029d-4633-ad34-594b34cc36bf
2025-09-26 04:34:01 | INFO     | dental_system.supabase.tablas.usuarios | get_user_basic_info:264 | Obteniendo info b√°sica del usuario: a1fec1be-029d-4633-ad34-594b34cc36bf
2025-09-26 04:34:01 | INFO     | dental_system.supabase.tablas.base | get_by_id:69 | Obteniendo registro a1fec1be-029d-4633-ad34-594b34cc36bf de usuarios
2025-09-26 04:34:01 | INFO     | dental_system.supabase.tablas.usuarios | get_user_basic_info:279 | Usuario con rol obtenido: odontologo1@odontomara.com - odontologo
2025-09-26 04:34:01 | INFO     | dental_system.supabase.auth | sign_in:104 | ‚úÖ Informaci√≥n del usuario obtenida - Rol: odontologo
2025-09-26 04:34:01 | INFO     | dental_system.supabase.auth | sign_in:107 | ‚è∞ Actualizando √∫ltimo acceso para: a1fec1be-029d-4633-ad34-594b34cc36bf
2025-09-26 04:34:01 | INFO     | dental_system.supabase.auth | sign_in:110 | üéâ Inicio de sesi√≥n completado exitosamente para: odontologo1@odontomara.com
2025-09-26 04:34:02 | INFO     | dental_system.services.dashboard_service | get_dashboard_stats:54 | üöÄ Obteniendo stats optimizadas para rol: odontologo
2025-09-26 04:34:02 | INFO     | dental_system.services.consultas_service | get_today_consultations:43 | Obteniendo consultas del d√≠a
2025-09-26 04:34:02 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:527 | Obteniendo consultas del d√≠a 2025-09-26 usando vista optimizada
2025-09-26 04:34:02 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:540 | Vista no disponible, usando query optimizada manual
2025-09-26 04:34:02 | INFO     | dental_system.services.consultas_service | get_today_consultations:76 | ‚úÖ Consultas del d√≠a obtenidas: 1 registros
2025-09-26 04:34:02 | INFO     | dental_system.state.estado_odontologia | cargar_pacientes_asignados:511 | ‚úÖ Consultas asignadas cargadas: 1
2025-09-26 04:34:02 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:196 | Obteniendo pacientes disponibles para personal_id: f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:34:02 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:206 | Funcionalidad de pacientes disponibles simplificada temporalmente
2025-09-26 04:34:02 | INFO     | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:639 | ‚úÖ Consultas disponibles cargadas: 0
2025-09-26 04:34:02 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 11 registros
2025-09-26 04:34:02 | INFO     | dental_system.state.estado_odontologia | cargar_servicios_disponibles:535 | ‚úÖ Servicios disponibles cargados: 11
2025-09-26 04:34:02 | INFO     | dental_system.services.odontologia_service | get_pacientes_asignados:105 | Obteniendo pacientes asignados para personal_id: f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:34:02 | INFO     | dental_system.services.odontologia_service | get_pacientes_asignados:172 | ‚úÖ 0 pacientes asignados convertidos a modelos
2025-09-26 04:34:02 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:196 | Obteniendo pacientes disponibles para personal_id: f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:34:02 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:206 | Funcionalidad de pacientes disponibles simplificada temporalmente
2025-09-26 04:34:02 | INFO     | dental_system.services.odontologia_service | get_estadisticas_odontologo:503 | ‚úÖ Estad√≠sticas obtenidas para personal f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:34:02 | INFO     | dental_system.state.estado_odontologia | cargar_estadisticas_dia:664 | ‚úÖ Estad√≠sticas del d√≠a actualizadas
2025-09-26 04:34:02 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 11 servicios
2025-09-26 04:34:05 | INFO     | dental_system.services.consultas_service | get_today_consultations:43 | Obteniendo consultas del d√≠a
2025-09-26 04:34:05 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:527 | Obteniendo consultas del d√≠a 2025-09-26 usando vista optimizada
2025-09-26 04:34:05 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:540 | Vista no disponible, usando query optimizada manual
2025-09-26 04:34:05 | INFO     | dental_system.services.consultas_service | get_today_consultations:76 | ‚úÖ Consultas del d√≠a obtenidas: 1 registros
2025-09-26 04:34:05 | INFO     | dental_system.state.estado_odontologia | cargar_pacientes_asignados:511 | ‚úÖ Consultas asignadas cargadas: 1
2025-09-26 04:34:05 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:196 | Obteniendo pacientes disponibles para personal_id: f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:34:05 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:206 | Funcionalidad de pacientes disponibles simplificada temporalmente
2025-09-26 04:34:05 | INFO     | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:639 | ‚úÖ Consultas disponibles cargadas: 0
2025-09-26 04:34:06 | INFO     | dental_system.services.odontologia_service | get_pacientes_asignados:105 | Obteniendo pacientes asignados para personal_id: f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:34:06 | INFO     | dental_system.services.odontologia_service | get_pacientes_asignados:172 | ‚úÖ 0 pacientes asignados convertidos a modelos
2025-09-26 04:34:06 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:196 | Obteniendo pacientes disponibles para personal_id: f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:34:06 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:206 | Funcionalidad de pacientes disponibles simplificada temporalmente
2025-09-26 04:34:06 | INFO     | dental_system.services.odontologia_service | get_estadisticas_odontologo:503 | ‚úÖ Estad√≠sticas obtenidas para personal f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:34:06 | INFO     | dental_system.state.estado_odontologia | cargar_estadisticas_dia:664 | ‚úÖ Estad√≠sticas del d√≠a actualizadas
2025-09-26 04:34:06 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-26 04:34:06 | INFO     | dental_system.services.odontologia_service | get_odontograma_paciente:341 | Obteniendo odontograma para paciente: 
2025-09-26 04:34:06 | ERROR    | dental_system.supabase.client | wrapper:425 | Error en operaci√≥n de Supabase get_active_odontogram: {'message': 'invalid input syntax for type uuid: ""', 'code': '22P02', 'hint': None, 'details': None}
2025-09-26 04:34:06 | ERROR    | dental_system.services.base_service | handle_error:153 | Error obteniendo odontograma: Datos inv√°lidos: {'message': 'invalid input syntax for type uuid: ""', 'code': '22P02', 'hint': None, 'details': None}
2025-09-26 04:34:07 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-26 04:34:07 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:232 | ‚úÖ Reutilizando servicios de odontolog√≠a: 11
2025-09-26 04:34:08 | INFO     | dental_system.services.consultas_service | get_today_consultations:43 | Obteniendo consultas del d√≠a
2025-09-26 04:34:08 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:527 | Obteniendo consultas del d√≠a 2025-09-26 usando vista optimizada
2025-09-26 04:34:08 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:540 | Vista no disponible, usando query optimizada manual
2025-09-26 04:34:08 | INFO     | dental_system.services.consultas_service | get_today_consultations:76 | ‚úÖ Consultas del d√≠a obtenidas: 1 registros
2025-09-26 04:34:08 | INFO     | dental_system.state.estado_odontologia | cargar_pacientes_asignados:511 | ‚úÖ Consultas asignadas cargadas: 1
2025-09-26 04:34:08 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:196 | Obteniendo pacientes disponibles para personal_id: f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:34:08 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:206 | Funcionalidad de pacientes disponibles simplificada temporalmente
2025-09-26 04:34:08 | INFO     | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:639 | ‚úÖ Consultas disponibles cargadas: 0
2025-09-26 04:34:09 | INFO     | dental_system.services.odontologia_service | get_pacientes_asignados:105 | Obteniendo pacientes asignados para personal_id: f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:34:09 | INFO     | dental_system.services.odontologia_service | get_pacientes_asignados:172 | ‚úÖ 0 pacientes asignados convertidos a modelos
2025-09-26 04:34:09 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:196 | Obteniendo pacientes disponibles para personal_id: f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:34:09 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:206 | Funcionalidad de pacientes disponibles simplificada temporalmente
2025-09-26 04:34:09 | INFO     | dental_system.services.odontologia_service | get_estadisticas_odontologo:503 | ‚úÖ Estad√≠sticas obtenidas para personal f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:34:09 | INFO     | dental_system.state.estado_odontologia | cargar_estadisticas_dia:664 | ‚úÖ Estad√≠sticas del d√≠a actualizadas
2025-09-26 04:34:09 | WARNING  | dental_system.state.estado_odontologia | cargar_historial_paciente:678 | ID de paciente no proporcionado para cargar historial
2025-09-26 04:34:09 | INFO     | dental_system.services.odontologia_service | get_odontograma_paciente:341 | Obteniendo odontograma para paciente: 
2025-09-26 04:34:09 | ERROR    | dental_system.supabase.client | wrapper:425 | Error en operaci√≥n de Supabase get_active_odontogram: {'message': 'invalid input syntax for type uuid: ""', 'code': '22P02', 'hint': None, 'details': None}
2025-09-26 04:34:09 | ERROR    | dental_system.services.base_service | handle_error:153 | Error obteniendo odontograma: Datos inv√°lidos: {'message': 'invalid input syntax for type uuid: ""', 'code': '22P02', 'hint': None, 'details': None}
2025-09-26 04:34:09 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-26 04:34:10 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:232 | ‚úÖ Reutilizando servicios de odontolog√≠a: 11
2025-09-26 04:34:20 | INFO     | dental_system.services.consultas_service | update_consultation:269 | Actualizando consulta: 1d320574-7d76-4c40-be41-5ed578f299fe
2025-09-26 04:34:20 | ERROR    | dental_system.services.base_service | handle_error:153 | Error actualizando consulta: 'dict' object has no attribute 'validate_form'
2025-09-26 04:34:20 | ERROR    | dental_system.state.estado_consultas | iniciar_atencion_consulta:524 | Error iniciando consulta: Error inesperado: 'dict' object has no attribute 'validate_form'
2025-09-26 04:37:29 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-09-26 04:37:29 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-09-26 04:37:44 | INFO     | dental_system.services.consultas_service | get_today_consultations:43 | Obteniendo consultas del d√≠a
2025-09-26 04:37:44 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:527 | Obteniendo consultas del d√≠a 2025-09-26 usando vista optimizada
2025-09-26 04:37:45 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:540 | Vista no disponible, usando query optimizada manual
2025-09-26 04:37:45 | INFO     | dental_system.services.consultas_service | get_today_consultations:76 | ‚úÖ Consultas del d√≠a obtenidas: 1 registros
2025-09-26 04:37:45 | INFO     | dental_system.state.estado_odontologia | cargar_pacientes_asignados:511 | ‚úÖ Consultas asignadas cargadas: 1
2025-09-26 04:37:45 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:196 | Obteniendo pacientes disponibles para personal_id: f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:37:45 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:206 | Funcionalidad de pacientes disponibles simplificada temporalmente
2025-09-26 04:37:45 | INFO     | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:639 | ‚úÖ Consultas disponibles cargadas: 0
2025-09-26 04:37:45 | INFO     | dental_system.services.odontologia_service | get_pacientes_asignados:105 | Obteniendo pacientes asignados para personal_id: f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:37:45 | INFO     | dental_system.services.odontologia_service | get_pacientes_asignados:172 | ‚úÖ 0 pacientes asignados convertidos a modelos
2025-09-26 04:37:45 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:196 | Obteniendo pacientes disponibles para personal_id: f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:37:45 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:206 | Funcionalidad de pacientes disponibles simplificada temporalmente
2025-09-26 04:37:45 | INFO     | dental_system.services.odontologia_service | get_estadisticas_odontologo:503 | ‚úÖ Estad√≠sticas obtenidas para personal f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:37:45 | INFO     | dental_system.state.estado_odontologia | cargar_estadisticas_dia:664 | ‚úÖ Estad√≠sticas del d√≠a actualizadas
2025-09-26 04:37:45 | INFO     | dental_system.services.odontologia_service | get_historial_paciente_completo:812 | Obteniendo historial completo para paciente: e04e892e-5e91-422a-99c9-3987302ee7b5
2025-09-26 04:37:45 | INFO     | dental_system.services.odontologia_service | get_historial_paciente_completo:835 | Intervenciones temporalmente deshabilitadas para evitar errores de esquema
2025-09-26 04:37:45 | INFO     | dental_system.services.odontologia_service | get_historial_paciente_completo:880 | ‚úÖ Historial completo obtenido: 1 entradas
2025-09-26 04:37:45 | INFO     | dental_system.state.estado_odontologia | cargar_historial_paciente:705 | ‚úÖ Historial cargado para paciente e04e892e-5e91-422a-99c9-3987302ee7b5: 1 entradas
2025-09-26 04:37:45 | INFO     | dental_system.services.odontologia_service | get_odontograma_paciente:341 | Obteniendo odontograma para paciente: e04e892e-5e91-422a-99c9-3987302ee7b5
2025-09-26 04:37:45 | INFO     | dental_system.supabase.tablas.base | get_by_id:69 | Obteniendo registro 198c2749-d7fc-4f5d-84e9-849eb492d5e9 de odontograma
2025-09-26 04:37:45 | INFO     | dental_system.services.odontologia_service | get_odontograma_paciente:373 | ‚úÖ Odontograma obtenido con 0 condiciones
2025-09-26 04:37:46 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-26 04:37:46 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:232 | ‚úÖ Reutilizando servicios de odontolog√≠a: 11
2025-09-26 04:37:46 | ERROR    | dental_system.state.estado_odontologia | cargar_condiciones_historial_paciente:3203 | Error cargando condiciones del historial: object dict can't be used in 'await' expression
2025-09-26 04:37:46 | INFO     | dental_system.state.estado_odontologia | inicializar_historial_paciente:3260 | Historial inicializado para paciente HC000005
2025-09-26 04:37:46 | INFO     | dental_system.services.consultas_service | get_today_consultations:43 | Obteniendo consultas del d√≠a
2025-09-26 04:37:46 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:527 | Obteniendo consultas del d√≠a 2025-09-26 usando vista optimizada
2025-09-26 04:37:46 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:540 | Vista no disponible, usando query optimizada manual
2025-09-26 04:37:46 | INFO     | dental_system.services.consultas_service | get_today_consultations:76 | ‚úÖ Consultas del d√≠a obtenidas: 1 registros
2025-09-26 04:37:46 | INFO     | dental_system.state.estado_odontologia | cargar_pacientes_asignados:511 | ‚úÖ Consultas asignadas cargadas: 1
2025-09-26 04:37:46 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:196 | Obteniendo pacientes disponibles para personal_id: f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:37:46 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:206 | Funcionalidad de pacientes disponibles simplificada temporalmente
2025-09-26 04:37:46 | INFO     | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:639 | ‚úÖ Consultas disponibles cargadas: 0
2025-09-26 04:37:46 | INFO     | dental_system.services.odontologia_service | get_pacientes_asignados:105 | Obteniendo pacientes asignados para personal_id: f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:37:46 | INFO     | dental_system.services.odontologia_service | get_pacientes_asignados:172 | ‚úÖ 0 pacientes asignados convertidos a modelos
2025-09-26 04:37:46 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:196 | Obteniendo pacientes disponibles para personal_id: f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:37:46 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:206 | Funcionalidad de pacientes disponibles simplificada temporalmente
2025-09-26 04:37:46 | INFO     | dental_system.services.odontologia_service | get_estadisticas_odontologo:503 | ‚úÖ Estad√≠sticas obtenidas para personal f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:37:46 | INFO     | dental_system.state.estado_odontologia | cargar_estadisticas_dia:664 | ‚úÖ Estad√≠sticas del d√≠a actualizadas
2025-09-26 04:37:46 | INFO     | dental_system.services.odontologia_service | get_historial_paciente_completo:812 | Obteniendo historial completo para paciente: e04e892e-5e91-422a-99c9-3987302ee7b5
2025-09-26 04:37:46 | INFO     | dental_system.services.odontologia_service | get_historial_paciente_completo:835 | Intervenciones temporalmente deshabilitadas para evitar errores de esquema
2025-09-26 04:37:46 | INFO     | dental_system.services.odontologia_service | get_historial_paciente_completo:880 | ‚úÖ Historial completo obtenido: 1 entradas
2025-09-26 04:37:46 | INFO     | dental_system.state.estado_odontologia | cargar_historial_paciente:705 | ‚úÖ Historial cargado para paciente e04e892e-5e91-422a-99c9-3987302ee7b5: 1 entradas
2025-09-26 04:37:47 | INFO     | dental_system.services.odontologia_service | get_odontograma_paciente:341 | Obteniendo odontograma para paciente: e04e892e-5e91-422a-99c9-3987302ee7b5
2025-09-26 04:37:47 | INFO     | dental_system.supabase.tablas.base | get_by_id:69 | Obteniendo registro 198c2749-d7fc-4f5d-84e9-849eb492d5e9 de odontograma
2025-09-26 04:37:47 | INFO     | dental_system.services.odontologia_service | get_odontograma_paciente:373 | ‚úÖ Odontograma obtenido con 0 condiciones
2025-09-26 04:37:47 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-26 04:37:48 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:232 | ‚úÖ Reutilizando servicios de odontolog√≠a: 11
2025-09-26 04:37:49 | ERROR    | dental_system.state.estado_odontologia | cargar_condiciones_historial_paciente:3203 | Error cargando condiciones del historial: object dict can't be used in 'await' expression
2025-09-26 04:37:49 | INFO     | dental_system.state.estado_odontologia | inicializar_historial_paciente:3260 | Historial inicializado para paciente HC000005
2025-09-26 04:37:55 | INFO     | dental_system.services.consultas_service | update_consultation:269 | Actualizando consulta: 1d320574-7d76-4c40-be41-5ed578f299fe
2025-09-26 04:37:55 | ERROR    | dental_system.services.base_service | handle_error:153 | Error actualizando consulta: Errores de validaci√≥n: {'paciente_id': ['Paciente es requerido'], 'primer_odontologo_id': ['Odont√≥logo principal es requerido'], 'motivo_consulta': ['Motivo de consulta es requerido']}
2025-09-26 04:37:55 | ERROR    | dental_system.state.estado_consultas | iniciar_atencion_consulta:527 | Error iniciando consulta: Error inesperado: Errores de validaci√≥n: {'paciente_id': ['Paciente es requerido'], 'primer_odontologo_id': ['Odont√≥logo principal es requerido'], 'motivo_consulta': ['Motivo de consulta es requerido']}
2025-09-26 04:38:17 | INFO     | dental_system.supabase.auth | sign_in:71 | üîê Autenticando usuario: odontologo1@odontomara.com
2025-09-26 04:38:17 | INFO     | dental_system.supabase.auth | sign_in:84 | ‚úÖ Autenticaci√≥n con Supabase exitosa para: odontologo1@odontomara.com
2025-09-26 04:38:17 | INFO     | dental_system.supabase.auth | sign_in:87 | üîç Buscando usuario en BD con auth_user_id: 219479a5-0fc9-488b-a6c4-8c1a539b6427
2025-09-26 04:38:17 | INFO     | dental_system.supabase.tablas.usuarios | get_by_auth_id:255 | Buscando usuario con auth_user_id: 219479a5-0fc9-488b-a6c4-8c1a539b6427
2025-09-26 04:38:18 | INFO     | dental_system.supabase.tablas.usuarios | get_by_auth_id:258 | Usuario encontrado: True
2025-09-26 04:38:18 | INFO     | dental_system.supabase.auth | sign_in:94 | ‚úÖ Usuario encontrado en BD: odontologo1@odontomara.com
2025-09-26 04:38:18 | INFO     | dental_system.supabase.auth | sign_in:97 | üìã Obteniendo informaci√≥n b√°sica del usuario: a1fec1be-029d-4633-ad34-594b34cc36bf
2025-09-26 04:38:18 | INFO     | dental_system.supabase.tablas.usuarios | get_user_basic_info:264 | Obteniendo info b√°sica del usuario: a1fec1be-029d-4633-ad34-594b34cc36bf
2025-09-26 04:38:18 | INFO     | dental_system.supabase.tablas.base | get_by_id:69 | Obteniendo registro a1fec1be-029d-4633-ad34-594b34cc36bf de usuarios
2025-09-26 04:38:18 | INFO     | dental_system.supabase.tablas.usuarios | get_user_basic_info:279 | Usuario con rol obtenido: odontologo1@odontomara.com - odontologo
2025-09-26 04:38:18 | INFO     | dental_system.supabase.auth | sign_in:104 | ‚úÖ Informaci√≥n del usuario obtenida - Rol: odontologo
2025-09-26 04:38:18 | INFO     | dental_system.supabase.auth | sign_in:107 | ‚è∞ Actualizando √∫ltimo acceso para: a1fec1be-029d-4633-ad34-594b34cc36bf
2025-09-26 04:38:18 | INFO     | dental_system.supabase.auth | sign_in:110 | üéâ Inicio de sesi√≥n completado exitosamente para: odontologo1@odontomara.com
2025-09-26 04:38:18 | INFO     | dental_system.services.dashboard_service | get_dashboard_stats:54 | üöÄ Obteniendo stats optimizadas para rol: odontologo
2025-09-26 04:38:18 | INFO     | dental_system.services.consultas_service | get_today_consultations:43 | Obteniendo consultas del d√≠a
2025-09-26 04:38:18 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:527 | Obteniendo consultas del d√≠a 2025-09-26 usando vista optimizada
2025-09-26 04:38:18 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:540 | Vista no disponible, usando query optimizada manual
2025-09-26 04:38:18 | INFO     | dental_system.services.consultas_service | get_today_consultations:76 | ‚úÖ Consultas del d√≠a obtenidas: 1 registros
2025-09-26 04:38:18 | INFO     | dental_system.state.estado_odontologia | cargar_pacientes_asignados:511 | ‚úÖ Consultas asignadas cargadas: 1
2025-09-26 04:38:18 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:196 | Obteniendo pacientes disponibles para personal_id: f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:38:18 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:206 | Funcionalidad de pacientes disponibles simplificada temporalmente
2025-09-26 04:38:18 | INFO     | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:639 | ‚úÖ Consultas disponibles cargadas: 0
2025-09-26 04:38:18 | INFO     | dental_system.services.servicios_service | get_filtered_services:71 | ‚úÖ Servicios obtenidos: 11 registros
2025-09-26 04:38:18 | INFO     | dental_system.state.estado_odontologia | cargar_servicios_disponibles:535 | ‚úÖ Servicios disponibles cargados: 11
2025-09-26 04:38:18 | INFO     | dental_system.services.odontologia_service | get_pacientes_asignados:105 | Obteniendo pacientes asignados para personal_id: f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:38:18 | INFO     | dental_system.services.odontologia_service | get_pacientes_asignados:172 | ‚úÖ 0 pacientes asignados convertidos a modelos
2025-09-26 04:38:18 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:196 | Obteniendo pacientes disponibles para personal_id: f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:38:18 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:206 | Funcionalidad de pacientes disponibles simplificada temporalmente
2025-09-26 04:38:18 | INFO     | dental_system.services.odontologia_service | get_estadisticas_odontologo:503 | ‚úÖ Estad√≠sticas obtenidas para personal f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:38:18 | INFO     | dental_system.state.estado_odontologia | cargar_estadisticas_dia:664 | ‚úÖ Estad√≠sticas del d√≠a actualizadas
2025-09-26 04:38:18 | INFO     | dental_system.state.estado_intervencion_servicios | servicios_para_selector:120 | ‚úÖ Usando servicios_disponibles: 11 servicios
2025-09-26 04:38:19 | INFO     | dental_system.services.consultas_service | get_today_consultations:43 | Obteniendo consultas del d√≠a
2025-09-26 04:38:19 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:527 | Obteniendo consultas del d√≠a 2025-09-26 usando vista optimizada
2025-09-26 04:38:19 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:540 | Vista no disponible, usando query optimizada manual
2025-09-26 04:38:19 | INFO     | dental_system.services.consultas_service | get_today_consultations:76 | ‚úÖ Consultas del d√≠a obtenidas: 1 registros
2025-09-26 04:38:19 | INFO     | dental_system.state.estado_odontologia | cargar_pacientes_asignados:511 | ‚úÖ Consultas asignadas cargadas: 1
2025-09-26 04:38:19 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:196 | Obteniendo pacientes disponibles para personal_id: f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:38:19 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:206 | Funcionalidad de pacientes disponibles simplificada temporalmente
2025-09-26 04:38:19 | INFO     | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:639 | ‚úÖ Consultas disponibles cargadas: 0
2025-09-26 04:38:19 | INFO     | dental_system.services.odontologia_service | get_pacientes_asignados:105 | Obteniendo pacientes asignados para personal_id: f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:38:19 | INFO     | dental_system.services.odontologia_service | get_pacientes_asignados:172 | ‚úÖ 0 pacientes asignados convertidos a modelos
2025-09-26 04:38:19 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:196 | Obteniendo pacientes disponibles para personal_id: f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:38:19 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:206 | Funcionalidad de pacientes disponibles simplificada temporalmente
2025-09-26 04:38:19 | INFO     | dental_system.services.odontologia_service | get_estadisticas_odontologo:503 | ‚úÖ Estad√≠sticas obtenidas para personal f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:38:19 | INFO     | dental_system.state.estado_odontologia | cargar_estadisticas_dia:664 | ‚úÖ Estad√≠sticas del d√≠a actualizadas
2025-09-26 04:38:19 | INFO     | dental_system.services.odontologia_service | get_historial_paciente_completo:812 | Obteniendo historial completo para paciente: e04e892e-5e91-422a-99c9-3987302ee7b5
2025-09-26 04:38:19 | INFO     | dental_system.services.odontologia_service | get_historial_paciente_completo:835 | Intervenciones temporalmente deshabilitadas para evitar errores de esquema
2025-09-26 04:38:19 | INFO     | dental_system.services.odontologia_service | get_historial_paciente_completo:880 | ‚úÖ Historial completo obtenido: 1 entradas
2025-09-26 04:38:19 | INFO     | dental_system.state.estado_odontologia | cargar_historial_paciente:705 | ‚úÖ Historial cargado para paciente e04e892e-5e91-422a-99c9-3987302ee7b5: 1 entradas
2025-09-26 04:38:20 | INFO     | dental_system.services.odontologia_service | get_odontograma_paciente:341 | Obteniendo odontograma para paciente: e04e892e-5e91-422a-99c9-3987302ee7b5
2025-09-26 04:38:20 | INFO     | dental_system.supabase.tablas.base | get_by_id:69 | Obteniendo registro 198c2749-d7fc-4f5d-84e9-849eb492d5e9 de odontograma
2025-09-26 04:38:20 | INFO     | dental_system.services.odontologia_service | get_odontograma_paciente:373 | ‚úÖ Odontograma obtenido con 0 condiciones
2025-09-26 04:38:20 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-26 04:38:20 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:232 | ‚úÖ Reutilizando servicios de odontolog√≠a: 11
2025-09-26 04:38:20 | ERROR    | dental_system.state.estado_odontologia | cargar_condiciones_historial_paciente:3203 | Error cargando condiciones del historial: object dict can't be used in 'await' expression
2025-09-26 04:38:20 | INFO     | dental_system.state.estado_odontologia | inicializar_historial_paciente:3260 | Historial inicializado para paciente HC000005
2025-09-26 04:38:21 | INFO     | dental_system.services.consultas_service | get_today_consultations:43 | Obteniendo consultas del d√≠a
2025-09-26 04:38:21 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:527 | Obteniendo consultas del d√≠a 2025-09-26 usando vista optimizada
2025-09-26 04:38:21 | INFO     | dental_system.supabase.tablas.consultas | get_vista_consultas_dia:540 | Vista no disponible, usando query optimizada manual
2025-09-26 04:38:21 | INFO     | dental_system.services.consultas_service | get_today_consultations:76 | ‚úÖ Consultas del d√≠a obtenidas: 1 registros
2025-09-26 04:38:21 | INFO     | dental_system.state.estado_odontologia | cargar_pacientes_asignados:511 | ‚úÖ Consultas asignadas cargadas: 1
2025-09-26 04:38:21 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:196 | Obteniendo pacientes disponibles para personal_id: f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:38:21 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:206 | Funcionalidad de pacientes disponibles simplificada temporalmente
2025-09-26 04:38:21 | INFO     | dental_system.state.estado_odontologia | cargar_consultas_disponibles_otros:639 | ‚úÖ Consultas disponibles cargadas: 0
2025-09-26 04:38:21 | INFO     | dental_system.services.odontologia_service | get_pacientes_asignados:105 | Obteniendo pacientes asignados para personal_id: f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:38:21 | INFO     | dental_system.services.odontologia_service | get_pacientes_asignados:172 | ‚úÖ 0 pacientes asignados convertidos a modelos
2025-09-26 04:38:21 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:196 | Obteniendo pacientes disponibles para personal_id: f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:38:21 | INFO     | dental_system.services.odontologia_service | get_pacientes_disponibles:206 | Funcionalidad de pacientes disponibles simplificada temporalmente
2025-09-26 04:38:21 | INFO     | dental_system.services.odontologia_service | get_estadisticas_odontologo:503 | ‚úÖ Estad√≠sticas obtenidas para personal f110064a-846e-4e12-af1c-92ab081d3b94
2025-09-26 04:38:21 | INFO     | dental_system.state.estado_odontologia | cargar_estadisticas_dia:664 | ‚úÖ Estad√≠sticas del d√≠a actualizadas
2025-09-26 04:38:22 | INFO     | dental_system.services.odontologia_service | get_historial_paciente_completo:812 | Obteniendo historial completo para paciente: e04e892e-5e91-422a-99c9-3987302ee7b5
2025-09-26 04:38:22 | INFO     | dental_system.services.odontologia_service | get_historial_paciente_completo:835 | Intervenciones temporalmente deshabilitadas para evitar errores de esquema
2025-09-26 04:38:22 | INFO     | dental_system.services.odontologia_service | get_historial_paciente_completo:880 | ‚úÖ Historial completo obtenido: 1 entradas
2025-09-26 04:38:22 | INFO     | dental_system.state.estado_odontologia | cargar_historial_paciente:705 | ‚úÖ Historial cargado para paciente e04e892e-5e91-422a-99c9-3987302ee7b5: 1 entradas
2025-09-26 04:38:22 | INFO     | dental_system.services.odontologia_service | get_odontograma_paciente:341 | Obteniendo odontograma para paciente: e04e892e-5e91-422a-99c9-3987302ee7b5
2025-09-26 04:38:22 | INFO     | dental_system.supabase.tablas.base | get_by_id:69 | Obteniendo registro 198c2749-d7fc-4f5d-84e9-849eb492d5e9 de odontograma
2025-09-26 04:38:22 | INFO     | dental_system.services.odontologia_service | get_odontograma_paciente:373 | ‚úÖ Odontograma obtenido con 0 condiciones
2025-09-26 04:38:22 | INFO     | dental_system.state.estado_odontologia | set_active_intervention_tab:1823 | Navegando a tab: intervencion
2025-09-26 04:38:23 | INFO     | dental_system.state.estado_intervencion_servicios | cargar_servicios_para_intervencion:232 | ‚úÖ Reutilizando servicios de odontolog√≠a: 11
2025-09-26 04:38:23 | ERROR    | dental_system.state.estado_odontologia | cargar_condiciones_historial_paciente:3203 | Error cargando condiciones del historial: object dict can't be used in 'await' expression
2025-09-26 04:38:23 | INFO     | dental_system.state.estado_odontologia | inicializar_historial_paciente:3260 | Historial inicializado para paciente HC000005
2025-09-26 04:38:30 | INFO     | dental_system.services.consultas_service | update_consultation:269 | Actualizando consulta: 1d320574-7d76-4c40-be41-5ed578f299fe
2025-09-26 04:38:30 | ERROR    | dental_system.services.base_service | handle_error:153 | Error actualizando consulta: Errores de validaci√≥n: {'paciente_id': ['Paciente es requerido'], 'primer_odontologo_id': ['Odont√≥logo principal es requerido'], 'motivo_consulta': ['Motivo de consulta es requerido']}
2025-09-26 04:38:30 | ERROR    | dental_system.state.estado_consultas | iniciar_atencion_consulta:527 | Error iniciando consulta: Error inesperado: Errores de validaci√≥n: {'paciente_id': ['Paciente es requerido'], 'primer_odontologo_id': ['Odont√≥logo principal es requerido'], 'motivo_consulta': ['Motivo de consulta es requerido']}
2025-10-07 06:51:14 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-10-07 06:51:14 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
2025-10-07 06:52:11 | INFO     | dental_system.state.estado_intervencion_servicios | _crear_servicios_ejemplo:182 | üìã Usando servicios de ejemplo: 5 servicios
2025-10-07 06:52:11 | WARNING  | dental_system.state.estado_intervencion_servicios | servicios_para_selector:128 | ‚ö†Ô∏è Usando servicios de ejemplo: 5 servicios
